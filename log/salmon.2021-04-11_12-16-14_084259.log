2021-04-11 12:16:14.081 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 12:16:14.088 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 12:16:14.203 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 12:16:14.204 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 12:16:14.206 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 12:16:14.208 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 12:16:14.346 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 12:16:14.352 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 12:16:14.427 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 12:16:14.429 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 12:16:14.431 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 12:16:14.435 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 12:16:14.450 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 12:16:14.451 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 12:16:14.555 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 12:16:14.556 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 12:16:14.558 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 12:16:14.558 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 12:16:14.586 | INFO     | uvicorn:serve:405 - Started server process [6780]
2021-04-11 12:16:14.586 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 12:16:14.588 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 12:16:14.588 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 12:16:14.589 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 12:16:16.744 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 63754) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 12:16:16.744 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 12:16:32.028 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -1022011923 from 1351495774 "广播test"
2021-04-11 12:16:32.032 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from broadcast, type=message, priority=1, temp=False>
2021-04-11 12:16:32.036 | INFO     | nonebot:run:561 - Matcher <Matcher from broadcast, type=message, priority=1, temp=False> running complete
2021-04-11 12:16:32.037 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from broadcast, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 19, in <module>
    nonebot.run()
    │       └ <function run at 0x000002368FC65C10>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000002368D409A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000236B2343CC0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002368FC58CD0>
    │       │   └ None
    │       └ <function run at 0x00000236B21C14C0>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000236B21E51F0>
    └ <uvicorn.main.Server object at 0x00000236B2FA2E50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000236B21E5280>
    │    │                  └ <uvicorn.main.Server object at 0x00000236B2FA2E50>
    │    └ <function BaseEventLoop.run_until_complete at 0x000002368FB308B0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002368FB30820>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002368FB333A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002368FACF4C0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000236B307E370>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000236B307E370>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000236B307E370>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000236B307E370>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': '广播', 'command': ('广播',)}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618114592, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>
          │            └ <Matcher from broadcast, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x0000023690016670>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': '广播', 'command': ('广播',)}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618114592, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>
          │       └ <function Matcher.run at 0x000002368FCE99D0>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': '广播', 'command': ('广播',)}, '_suffix': {'raw_command': None, 'command': None}, 'msg': [MessageSegm...
          │    │           │        │    └ PrivateMessageEvent(time=1618114592, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>
          │    │           └ <function bc at 0x00000236B2357820>
          │    └ <function Matcher.run_handler at 0x000002368FCE9940>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function bc at 0x00000236B2357820>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': '广播', 'command': ('广播',)}, '_suffix': {'raw_command': None, 'command': None}, 'msg': [MessageSegm...
          │       │           │     │    └ PrivateMessageEvent(time=1618114592, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>
          │       │           └ <function bc at 0x00000236B2357790>
          │       └ <function Matcher.run_handler at 0x000002368FCE9940>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function bc at 0x00000236B2357790>

  File "salmon/modules/botmanage\broadcast.py", line 21, in bc
    for sid in bot.get_self_ids():
               └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>

TypeError: 'coroutine' object is not iterable
2021-04-11 12:16:52.054 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -1273862789 from 1351495774 "bc test"
2021-04-11 12:16:52.057 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from broadcast, type=message, priority=1, temp=False>
2021-04-11 12:16:52.058 | INFO     | nonebot:run:561 - Matcher <Matcher from broadcast, type=message, priority=1, temp=False> running complete
2021-04-11 12:16:52.058 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from broadcast, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 19, in <module>
    nonebot.run()
    │       └ <function run at 0x000002368FC65C10>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000002368D409A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000236B2343CC0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002368FC58CD0>
    │       │   └ None
    │       └ <function run at 0x00000236B21C14C0>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000236B21E51F0>
    └ <uvicorn.main.Server object at 0x00000236B2FA2E50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000236B21E5280>
    │    │                  └ <uvicorn.main.Server object at 0x00000236B2FA2E50>
    │    └ <function BaseEventLoop.run_until_complete at 0x000002368FB308B0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002368FB30820>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002368FB333A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002368FACF4C0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000236B308C160>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000236B308C160>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000236B308C160>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000236B308C160>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618114612, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>
          │            └ <Matcher from broadcast, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x0000023690016670>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618114612, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>
          │       └ <function Matcher.run at 0x000002368FCE99D0>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}, 'msg': [MessageSegm...
          │    │           │        │    └ PrivateMessageEvent(time=1618114612, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>
          │    │           └ <function bc at 0x00000236B2357820>
          │    └ <function Matcher.run_handler at 0x000002368FCE9940>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function bc at 0x00000236B2357820>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}, 'msg': [MessageSegm...
          │       │           │     │    └ PrivateMessageEvent(time=1618114612, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>
          │       │           └ <function bc at 0x00000236B2357790>
          │       └ <function Matcher.run_handler at 0x000002368FCE9940>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function bc at 0x00000236B2357790>

  File "salmon/modules/botmanage\broadcast.py", line 21, in bc
    for sid in bot.get_self_ids():
               └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>

TypeError: 'coroutine' object is not iterable
2021-04-11 12:20:07.704 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 12:20:08.359 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 12:20:08.474 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 12:20:08.474 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 12:20:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 12:20:25.809 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 12:20:25.813 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 12:25:01.383 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 12:25:01.800 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.group.normal]: Message -1642961347 from 2842117629@[群:1128254624] "[CQ:image,file=dd787593b6844e9a745a111cddf82049.image,url=http://gchat.qpic.cn/gchatpic_new/2842117629/1128254624-2538370421-DD787593B6844E9A745A111CDDF82049/0?term=3]"
2021-04-11 12:25:01.803 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 12:25:01.804 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 12:25:01.804 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 12:25:01.804 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 12:25:02.108 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 12:25:02.197 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 12:25:02.198 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 12:25:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 12:25:25.323 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 12:25:25.325 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 12:27:50.115 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 12:27:50.116 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 12:27:50.199 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 12:27:50.204 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 12:27:50.205 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 12:27:50.207 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 12:27:50.291 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 12:27:50.293 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 12:27:50.343 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 12:27:50.345 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 12:27:50.346 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 12:27:50.348 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 12:27:50.352 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 12:27:50.352 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 12:27:50.407 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 12:27:50.408 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 12:27:50.409 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 12:27:50.410 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 12:27:50.426 | INFO     | uvicorn:serve:405 - Started server process [13448]
2021-04-11 12:27:50.426 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 12:27:50.427 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 12:27:50.428 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 12:27:50.428 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 12:27:50.745 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 64149) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 12:27:50.745 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 12:27:58.010 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -406239772 from 1351495774 "bc test"
2021-04-11 12:27:58.014 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from broadcast, type=message, priority=1, temp=False>
2021-04-11 12:27:58.017 | INFO     | nonebot:run:561 - Matcher <Matcher from broadcast, type=message, priority=1, temp=False> running complete
2021-04-11 12:27:58.017 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from broadcast, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 19, in <module>
    nonebot.run()
    │       └ <function run at 0x00000184F18C5C10>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000184EF089A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x0000018493FB39A0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000184F1C81400>
    │       │   └ None
    │       └ <function run at 0x0000018493E314C0>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x0000018493E541F0>
    └ <uvicorn.main.Server object at 0x0000018494C25FA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x0000018493E54280>
    │    │                  └ <uvicorn.main.Server object at 0x0000018494C25FA0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000184F178F8B0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000184F178F820>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000184F17933A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000184F172F4C0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018494D02B20>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000018494D02B20>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000018494D02B20>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018494D02B20>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618115278, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000018494CB4AC0>
          │            └ <Matcher from broadcast, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x00000184F1C76670>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618115278, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000018494CB4AC0>
          │       └ <function Matcher.run at 0x00000184F19489D0>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}, 'msg': [MessageSegm...
          │    │           │        │    └ PrivateMessageEvent(time=1618115278, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000018494CB4AC0>
          │    │           └ <function bc at 0x0000018493FC78B0>
          │    └ <function Matcher.run_handler at 0x00000184F1948940>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function bc at 0x0000018493FC78B0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}, 'msg': [MessageSegm...
          │       │           │     │    └ PrivateMessageEvent(time=1618115278, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000018494CB4AC0>
          │       │           └ <function bc at 0x0000018493FC7820>
          │       └ <function Matcher.run_handler at 0x00000184F1948940>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function bc at 0x0000018493FC7820>

  File "salmon/modules/botmanage\broadcast.py", line 21, in bc
    for sid in int(bot.get_self_ids()):
                   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000018494CB4AC0>

TypeError: int() argument must be a string, a bytes-like object or a number, not 'coroutine'
2021-04-11 12:30:15.795 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 12:30:16.536 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 12:30:16.612 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 12:30:16.612 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 12:30:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 12:30:25.314 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 12:30:25.316 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 12:35:18.092 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 12:35:18.722 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 12:35:18.806 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 12:35:18.807 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 12:35:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 12:35:25.471 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 12:35:25.473 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 12:37:11.746 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 12:37:11.747 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 12:37:11.910 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 12:37:11.912 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 12:37:11.962 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 12:37:11.963 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 12:37:11.964 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 12:37:11.966 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 12:37:11.970 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 12:37:11.971 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 12:37:12.025 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 12:37:12.025 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 12:37:12.027 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 12:37:12.028 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 12:37:12.030 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 12:37:12.031 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 12:37:12.032 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 12:37:12.033 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 12:37:12.049 | INFO     | uvicorn:serve:405 - Started server process [1656]
2021-04-11 12:37:12.049 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 12:37:12.051 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 12:37:12.051 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 12:37:12.051 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 12:37:13.748 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 64299) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 12:37:13.748 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 12:37:25.060 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -1865517710 from 1351495774 "bc test"
2021-04-11 12:37:25.063 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from broadcast, type=message, priority=1, temp=False>
2021-04-11 12:37:25.063 | INFO     | nonebot:run:561 - Matcher <Matcher from broadcast, type=message, priority=1, temp=False> running complete
2021-04-11 12:37:25.064 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from broadcast, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 19, in <module>
    nonebot.run()
    │       └ <function run at 0x00000284A7045C10>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000284A47F8A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000284C9723A90>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000284A7401400>
    │       │   └ None
    │       └ <function run at 0x00000284C95A04C0>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000284C95C31F0>
    └ <uvicorn.main.Server object at 0x00000284CA37F6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000284C95C3280>
    │    │                  └ <uvicorn.main.Server object at 0x00000284CA37F6A0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000284A6F0F8B0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000284A6F0F820>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000284A6F133A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000284A6EAE4C0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000284CA475E80>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000284CA475E80>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000284CA475E80>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000284CA475E80>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618115845, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000284CA3921C0>
          │            └ <Matcher from broadcast, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x00000284A73F6670>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618115845, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000284CA3921C0>
          │       └ <function Matcher.run at 0x00000284A70C89D0>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}, 'msg': [MessageSegm...
          │    │           │        │    └ PrivateMessageEvent(time=1618115845, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000284CA3921C0>
          │    │           └ <function bc at 0x00000284CA36FCA0>
          │    └ <function Matcher.run_handler at 0x00000284A70C8940>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function bc at 0x00000284CA36FCA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}, 'msg': [MessageSegm...
          │       │           │     │    └ PrivateMessageEvent(time=1618115845, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000284CA3921C0>
          │       │           └ <function bc at 0x00000284CA36FC10>
          │       └ <function Matcher.run_handler at 0x00000284A70C8940>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function bc at 0x00000284CA36FC10>

  File "salmon/modules/botmanage\broadcast.py", line 21, in bc
    gl = await bot.get_group_list(self_id=sid)
               └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000284CA3921C0>

NameError: name 'sid' is not defined
2021-04-11 12:38:25.550 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 12:38:25.552 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 12:38:25.738 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 12:38:25.741 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 12:38:25.792 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 12:38:25.793 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 12:38:25.794 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 12:38:25.797 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 12:38:25.800 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 12:38:25.801 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 12:38:25.856 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 12:38:25.857 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 12:38:25.859 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 12:38:25.860 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 12:38:25.863 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 12:38:25.864 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 12:38:25.867 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 12:38:25.868 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 12:38:25.901 | INFO     | uvicorn:serve:405 - Started server process [12772]
2021-04-11 12:38:25.901 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 12:38:25.902 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 12:38:25.903 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 12:38:25.903 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 12:38:27.747 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 64325) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 12:38:27.747 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 12:38:31.121 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -267780969 from 1351495774 "bc test"
2021-04-11 12:38:31.124 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from broadcast, type=message, priority=1, temp=False>
2021-04-11 12:38:31.859 | INFO     | broadcast:bc:28 - 群1128254624 投递广播成功
2021-04-11 12:38:31.863 | INFO     | nonebot:run:561 - Matcher <Matcher from broadcast, type=message, priority=1, temp=False> running complete
2021-04-11 12:38:59.087 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_decrease.leave]: {'time': 1618115939, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_decrease', 'sub_type': 'leave', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 3235657949}
2021-04-11 12:38:59.088 | ERROR    | nonebot:_check_matcher:116 - Rule check failed for <Matcher from alert, type=notice, priority=1, temp=False>.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 19, in <module>
    nonebot.run()
    │       └ <function run at 0x000002946B655C10>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000029468E08A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000002940DD338B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002946BA11400>
    │       │   └ None
    │       └ <function run at 0x000002940DBB04C0>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000002940DBD31F0>
    └ <uvicorn.main.Server object at 0x000002940EADE970>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000002940DBD3280>
    │    │                  └ <uvicorn.main.Server object at 0x000002940EADE970>
    │    └ <function BaseEventLoop.run_until_complete at 0x000002946B5208B0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002946B520820>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002946B5233A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002946B4BF4C0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002940EB76700>(<_GatheringFu...be callable')>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002940EB76700>(<_GatheringFu...be callable')>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002940EB76700>(<_GatheringFu...be callable')>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002940EB76700>(<_GatheringFu...be callable')>)>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 113, in _check_matcher
    bot, event) or not await Matcher.check_rule(bot, event, state):
    │    │                   │       │          │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
    │    │                   │       │          │    └ GroupDecreaseNoticeEvent(time=1618115939, self_id=3235657949, post_type='notice', notice_type='group_decrease', sub_type='lea...
    │    │                   │       │          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002940EAF09A0>
    │    │                   │       └ <classmethod object at 0x000002946B6D46D0>
    │    │                   └ <Matcher from alert, type=notice, priority=1, temp=False>
    │    └ GroupDecreaseNoticeEvent(time=1618115939, self_id=3235657949, post_type='notice', notice_type='group_decrease', sub_type='lea...
    └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002940EAF09A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 232, in check_rule
    await cls.rule(bot, event, state))
          │   │    │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │   │    │    └ GroupDecreaseNoticeEvent(time=1618115939, self_id=3235657949, post_type='notice', notice_type='group_decrease', sub_type='lea...
          │   │    └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002940EAF09A0>
          │   └ <nonebot.rule.Rule object at 0x000002940EACC730>
          └ <Matcher from alert, type=notice, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\rule.py", line 85, in __call__
    results = await asyncio.gather(
                    │       └ <function gather at 0x000002946B512B80>
                    └ <module 'asyncio' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\asyncio\\__init__.py'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\utils.py", line 47, in _wrapper
    pfunc = partial(func, *args, **kwargs)
            │       │      │       └ {}
            │       │      └ (<nonebot.adapters.cqhttp.bot.Bot object at 0x000002940EAF09A0>, GroupDecreaseNoticeEvent(time=1618115939, self_id=3235657949...
            │       └ 'group_decrease.kick_me'
            └ <class 'functools.partial'>

TypeError: the first argument must be callable
2021-04-11 12:38:59.141 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_decrease.kick_me]: {'time': 1618115939, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_decrease', 'sub_type': 'kick_me', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 1351495774}
2021-04-11 12:38:59.143 | ERROR    | nonebot:_check_matcher:116 - Rule check failed for <Matcher from alert, type=notice, priority=1, temp=False>.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 19, in <module>
    nonebot.run()
    │       └ <function run at 0x000002946B655C10>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000029468E08A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000002940DD338B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002946BA11400>
    │       │   └ None
    │       └ <function run at 0x000002940DBB04C0>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000002940DBD31F0>
    └ <uvicorn.main.Server object at 0x000002940EADE970>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000002940DBD3280>
    │    │                  └ <uvicorn.main.Server object at 0x000002940EADE970>
    │    └ <function BaseEventLoop.run_until_complete at 0x000002946B5208B0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002946B520820>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002946B5233A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002946B4BF4C0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002940EBD12E0>(<_GatheringFu...be callable')>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002940EBD12E0>(<_GatheringFu...be callable')>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002940EBD12E0>(<_GatheringFu...be callable')>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002940EBD12E0>(<_GatheringFu...be callable')>)>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 113, in _check_matcher
    bot, event) or not await Matcher.check_rule(bot, event, state):
    │    │                   │       │          │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
    │    │                   │       │          │    └ GroupDecreaseNoticeEvent(time=1618115939, self_id=3235657949, post_type='notice', notice_type='group_decrease', sub_type='kic...
    │    │                   │       │          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002940EAF09A0>
    │    │                   │       └ <classmethod object at 0x000002946B6D46D0>
    │    │                   └ <Matcher from alert, type=notice, priority=1, temp=False>
    │    └ GroupDecreaseNoticeEvent(time=1618115939, self_id=3235657949, post_type='notice', notice_type='group_decrease', sub_type='kic...
    └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002940EAF09A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 232, in check_rule
    await cls.rule(bot, event, state))
          │   │    │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │   │    │    └ GroupDecreaseNoticeEvent(time=1618115939, self_id=3235657949, post_type='notice', notice_type='group_decrease', sub_type='kic...
          │   │    └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002940EAF09A0>
          │   └ <nonebot.rule.Rule object at 0x000002940EACC730>
          └ <Matcher from alert, type=notice, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\rule.py", line 85, in __call__
    results = await asyncio.gather(
                    │       └ <function gather at 0x000002946B512B80>
                    └ <module 'asyncio' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\asyncio\\__init__.py'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\utils.py", line 47, in _wrapper
    pfunc = partial(func, *args, **kwargs)
            │       │      │       └ {}
            │       │      └ (<nonebot.adapters.cqhttp.bot.Bot object at 0x000002940EAF09A0>, GroupDecreaseNoticeEvent(time=1618115939, self_id=3235657949...
            │       └ 'group_decrease.kick_me'
            └ <class 'functools.partial'>

TypeError: the first argument must be callable
2021-04-11 12:40:04.683 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 12:40:05.298 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 12:40:05.391 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 12:40:05.391 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 12:40:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 12:40:26.652 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 12:40:26.655 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 18:54:34.729 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 18:54:34.730 | WARNING  | salmon:<module>:17 - Not found config of "gacha"
2021-04-11 18:54:34.730 | WARNING  | salmon:<module>:17 - Not found config of "priconne"
2021-04-11 18:54:35.254 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 18:54:35.255 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 18:54:35.342 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 18:54:35.343 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 18:54:35.344 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 18:54:35.346 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 18:54:35.436 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 18:54:35.439 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 18:54:35.491 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 18:54:35.493 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 18:54:35.494 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 18:54:35.496 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 18:54:35.501 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 18:54:35.502 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 18:54:35.558 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 18:54:35.559 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 18:54:35.561 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 18:54:35.561 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 18:54:35.580 | ERROR    | uvicorn:load:280 - Error loading ASGI app. Could not import module "main".
2021-04-11 18:55:22.146 | WARNING  | salmon:<module>:17 - Not found config of "gacha"
2021-04-11 18:55:22.146 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 18:55:22.147 | WARNING  | salmon:<module>:17 - Not found config of "priconne"
2021-04-11 18:55:22.711 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 18:55:22.712 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 18:55:22.796 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 18:55:22.797 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 18:55:22.798 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 18:55:22.800 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 18:55:22.885 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 18:55:22.887 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 18:55:22.939 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 18:55:22.940 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 18:55:22.941 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 18:55:22.944 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 18:55:22.947 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 18:55:22.948 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 18:55:23.003 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 18:55:23.004 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 18:55:23.006 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 18:55:23.006 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 18:58:43.675 | WARNING  | salmon:<module>:17 - Not found config of "gacha"
2021-04-11 18:58:43.676 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 18:58:43.676 | WARNING  | salmon:<module>:17 - Not found config of "priconne"
2021-04-11 18:58:44.174 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 18:58:44.174 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 18:58:44.259 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 18:58:44.260 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 18:58:44.261 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 18:58:44.263 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 18:58:44.347 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 18:58:44.350 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 18:58:44.402 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 18:58:44.404 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 18:58:44.405 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 18:58:44.408 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 18:58:44.411 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 18:58:44.412 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 18:58:44.482 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 18:58:44.482 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 18:58:44.484 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 18:58:44.485 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 18:58:44.506 | INFO     | uvicorn:serve:405 - Started server process [13012]
2021-04-11 18:58:44.506 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 18:58:44.508 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 18:58:44.508 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 18:58:44.509 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 18:58:47.027 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 53782) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 18:58:47.028 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 18:59:03.634 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -1111439016 from 1351495774 "bc test"
2021-04-11 18:59:03.638 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from broadcast, type=message, priority=1, temp=False>
2021-04-11 18:59:03.643 | INFO     | nonebot:run:561 - Matcher <Matcher from broadcast, type=message, priority=1, temp=False> running complete
2021-04-11 18:59:21.281 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -1852768634 from 1351495774 "[CQ:xml,data=<?xml version='1.0' encoding='UTF-8' standalone='yes' ?><msg serviceID="128" templateID="12345" action="native" brief="&#91;链接&#93;邀请你加入群聊" sourceMsgId="0" url=""><item layout="2"><picture cover=""/><title>邀请你加入群聊</title><summary /></item><data groupcode="1128254624" groupname="鲑鱼烧的后花园" msgseq="1618138759667443" msgtype="2"/></msg>,resid=128]"
2021-04-11 18:59:21.395 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [request.group.invite]: {'time': 1618138761, 'self_id': 3235657949, 'post_type': 'request', 'request_type': 'group', 'sub_type': 'invite', 'group_id': 1128254624, 'user_id': 1351495774, 'comment': '', 'flag': '1618138759667443'}
2021-04-11 19:00:19.854 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 19:00:20.509 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 19:00:20.582 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 19:00:20.582 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 19:00:23.979 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_increase.approve]: {'time': 1618138823, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_increase', 'sub_type': 'approve', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 0}
2021-04-11 19:00:23.980 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 19:00:23.980 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 19:00:23.980 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 19:00:23.981 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 19:00:24.101 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.group.normal]: Message -405872999 from 2842117629@[群:1128254624] "欢迎新大佬加入本群！
※发送help可查看bot相关说明；
※请将群昵称修改为游戏ID；
～もう一度、君と繋がる物語～"
2021-04-11 19:00:24.104 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 19:00:24.105 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 19:00:24.105 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 19:00:24.105 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 19:00:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 19:00:25.431 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 19:00:25.434 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 19:00:49.837 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message 1309405238 from 1351495774 "bc test"
2021-04-11 19:00:49.840 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from broadcast, type=message, priority=1, temp=False>
2021-04-11 19:00:50.574 | INFO     | broadcast:bc:28 - 群1128254624 投递广播成功
2021-04-11 19:00:50.579 | INFO     | nonebot:run:561 - Matcher <Matcher from broadcast, type=message, priority=1, temp=False> running complete
2021-04-11 19:01:11.239 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_decrease.leave]: {'time': 1618138871, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_decrease', 'sub_type': 'leave', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 3235657949}
2021-04-11 19:01:11.241 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 19:01:11.243 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 19:01:11.243 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 19:01:11.244 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 19:01:11.295 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_decrease.kick_me]: {'time': 1618138871, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_decrease', 'sub_type': 'kick_me', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 1351495774}
2021-04-11 19:01:11.296 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 19:01:11.298 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 19:01:11.298 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 19:01:11.299 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 19:02:21.199 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_increase.approve]: {'time': 1618138941, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_increase', 'sub_type': 'approve', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 0}
2021-04-11 19:02:21.200 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 19:02:21.201 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 19:02:21.201 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 19:02:21.201 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 19:02:21.365 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.group.normal]: Message 503318214 from 2842117629@[群:1128254624] "欢迎新大佬加入本群！
※发送help可查看bot相关说明；
※请将群昵称修改为游戏ID；
～もう一度、君と繋がる物語～"
2021-04-11 19:02:21.369 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 19:02:21.369 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 19:02:21.370 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 19:02:21.370 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 19:03:04.170 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.group.normal]: Message 1762080336 from 296432694@[群:1128254624] "[CQ:image,file=94499b9372285ab77a8e9943d1d8a356.image,url=http://gchat.qpic.cn/gchatpic_new/296432694/1128254624-2182068747-94499B9372285AB77A8E9943D1D8A356/0?term=3]"
2021-04-11 19:03:04.175 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 19:03:04.175 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 19:03:04.176 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 19:03:04.176 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 19:05:03.624 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 19:05:04.248 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 19:05:04.338 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 19:05:04.338 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 19:05:25.007 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 19:05:25.442 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 19:05:25.444 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 19:08:27.443 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -921958310 from 1351495774 "一井"
2021-04-11 19:08:27.447 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from gacha, type=message, priority=1, temp=False>
2021-04-11 19:08:27.451 | INFO     | nonebot:run:561 - Matcher <Matcher from gacha, type=message, priority=1, temp=False> running complete
2021-04-11 19:08:30.988 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -1106560820 from 1351495774 "Jp"
2021-04-11 19:08:30.989 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from gacha, type=message, priority=0, temp=True>
2021-04-11 19:08:31.817 | INFO     | nonebot:run:561 - Matcher <Matcher from gacha, type=message, priority=0, temp=True> running complete
2021-04-11 19:10:19.772 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 19:10:20.371 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 19:10:20.469 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 19:10:20.469 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 19:10:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 19:10:26.346 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 19:10:26.348 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 19:11:26.516 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_ban.ban]: {'time': 1618139486, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_ban', 'sub_type': 'ban', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 1351495774, 'duration': 600}
2021-04-11 19:11:26.517 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 19:11:26.518 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 19:11:26.518 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 19:11:26.521 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 19:11:50.033 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_ban.lift_ban]: {'time': 1618139510, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_ban', 'sub_type': 'lift_ban', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 1351495774, 'duration': 0}
2021-04-11 19:11:50.034 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 19:11:50.035 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 19:11:50.035 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 19:11:50.038 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 19:12:35.557 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message 544189807 from 1351495774 "重载花名册"
2021-04-11 19:12:35.560 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from arena, type=message, priority=1, temp=False>
2021-04-11 19:12:35.594 | INFO     | nonebot:run:561 - Matcher <Matcher from arena, type=message, priority=1, temp=False> running complete
2021-04-11 19:15:08.327 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 19:15:08.968 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 19:15:09.036 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 19:15:09.036 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 19:15:25.006 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 19:15:25.411 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 19:15:25.413 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 19:20:18.324 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 19:20:19.029 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 19:20:19.124 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 19:20:19.124 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 19:20:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 19:20:25.459 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 19:20:25.461 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 19:25:01.739 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 19:25:02.366 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 19:25:02.459 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 19:25:02.459 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 19:25:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 19:25:25.338 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 19:25:25.340 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 19:30:11.210 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 19:30:11.793 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 19:30:11.887 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 19:30:11.887 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 19:30:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 19:30:25.330 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 19:30:25.333 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 19:34:38.716 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 19:34:38.717 | WARNING  | salmon:<module>:17 - Not found config of "gacha"
2021-04-11 19:34:38.717 | WARNING  | salmon:<module>:17 - Not found config of "priconne"
2021-04-11 19:34:39.205 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 19:34:39.206 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 19:34:39.289 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 19:34:39.290 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 19:34:39.292 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 19:34:39.296 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 19:34:39.386 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 19:34:39.389 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 19:34:39.440 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 19:34:39.442 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 19:34:39.442 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 19:34:39.445 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 19:34:39.448 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 19:34:39.449 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 19:34:39.504 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 19:34:39.504 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 19:34:39.506 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 19:34:39.506 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 19:34:39.546 | INFO     | uvicorn:serve:405 - Started server process [13104]
2021-04-11 19:34:39.546 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 19:34:39.548 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 19:34:39.549 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 19:34:39.549 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 19:34:41.828 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 54591) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 19:34:41.828 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 19:35:05.224 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 19:35:05.868 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 19:35:05.962 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 19:35:05.962 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 19:35:25.008 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 19:35:25.551 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 19:35:25.554 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 19:35:43.728 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 19:35:43.729 | WARNING  | salmon:<module>:17 - Not found config of "gacha"
2021-04-11 19:35:43.729 | WARNING  | salmon:<module>:17 - Not found config of "priconne"
2021-04-11 19:35:44.219 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 19:35:44.220 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 19:35:44.304 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 19:35:44.305 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 19:35:44.305 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 19:35:44.307 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 19:35:44.392 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 19:35:44.394 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 19:35:44.446 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 19:35:44.447 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 19:35:44.448 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 19:35:44.451 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 19:35:44.454 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 19:35:44.455 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 19:35:44.511 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 19:35:44.511 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 19:35:44.513 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 19:35:44.513 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 19:35:44.533 | INFO     | uvicorn:serve:405 - Started server process [15564]
2021-04-11 19:35:44.533 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 19:35:44.534 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 19:35:44.535 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 19:35:44.535 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 19:35:44.829 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 54609) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 19:35:44.829 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 19:40:04.769 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 19:40:05.400 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 19:40:05.481 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 19:40:05.482 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 19:40:25.000 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 19:40:25.325 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 19:40:25.327 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 19:45:16.595 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 19:45:17.234 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 19:45:17.322 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 19:45:17.322 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 19:45:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 19:45:25.709 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 19:45:25.711 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 19:50:12.597 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 19:50:13.197 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 19:50:13.283 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 19:50:13.284 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 19:50:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 19:50:25.578 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 19:50:25.580 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 19:55:17.772 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 19:55:18.333 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 19:55:18.394 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 19:55:18.395 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 19:55:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 19:55:25.313 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 19:55:25.315 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 20:00:06.723 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 20:00:07.333 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 20:00:07.430 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 20:00:07.431 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 20:00:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 20:00:25.471 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 20:00:25.473 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 20:05:05.295 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 20:05:05.888 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 20:05:06.005 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 20:05:06.006 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 20:05:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 20:05:25.317 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 20:05:25.319 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 20:10:05.927 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 20:10:06.519 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 20:10:06.619 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 20:10:06.619 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 20:10:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 20:10:25.438 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 20:10:25.441 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 20:15:12.357 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 20:15:13.356 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 20:15:13.429 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 20:15:13.429 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 20:15:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 20:15:25.331 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 20:15:25.333 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 20:20:02.425 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 20:20:03.217 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 20:20:03.315 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 20:20:03.315 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 20:20:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 20:20:25.320 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 20:20:25.322 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 20:25:04.874 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 20:25:05.444 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 20:25:05.541 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 20:25:05.541 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 20:25:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 20:25:25.416 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 20:25:25.418 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 20:30:12.426 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 20:30:13.114 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 20:30:13.180 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 20:30:13.180 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 20:30:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 20:30:25.450 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 20:30:25.453 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 20:35:10.587 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 20:35:11.158 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 20:35:11.243 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 20:35:11.244 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 20:35:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 20:35:25.335 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 20:35:25.337 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 20:40:10.289 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 20:40:10.920 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 20:40:10.992 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 20:40:10.993 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 20:40:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 20:40:25.564 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 20:40:25.567 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 20:45:08.523 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 20:45:09.109 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 20:45:09.179 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 20:45:09.180 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 20:45:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 20:45:25.424 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 20:45:25.426 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 20:48:04.022 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 20:48:04.022 | WARNING  | salmon:<module>:17 - Not found config of "priconne"
2021-04-11 20:48:04.023 | WARNING  | salmon:<module>:17 - Not found config of "gacha"
2021-04-11 20:48:04.528 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 20:48:04.529 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 20:48:04.615 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 20:48:04.616 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 20:48:04.618 | ERROR    | nonebot:_load_plugin:1037 - Failed to import "feedback"
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 4, in <module>
    salmon.init()
    │      └ <function init at 0x000002870FEE8790>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 28, in init
    nonebot.load_plugins(module_name)
    │       │            └ 'salmon/modules/botmanage'
    │       └ <function load_plugins at 0x000002870FBA9AF0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 1044, in load_plugins
    result = context.run(_load_plugin, module_info)
             │       │   │             └ ModuleInfo(module_finder=FileFinder('salmon/modules/botmanage'), name='feedback', ispkg=False)
             │       │   └ <function load_plugins.<locals>._load_plugin at 0x000002873205A790>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x0000028732214780>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 1028, in _load_plugin
    module = _load(spec)
             │     └ ModuleSpec(name='feedback', loader=<_frozen_importlib_external.SourceFileLoader object at 0x0000028732208F70>, origin='salmon...
             └ <function _load at 0x000002870CB6F040>

  File "<frozen importlib._bootstrap>", line 711, in _load
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 790, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed

  File "salmon/modules/botmanage\feedback.py", line 3, in <module>
    from hoshino.typing import CQEvent, T_State, GroupMessageEvent, PrivateMessageEvent, Message

ModuleNotFoundError: No module named 'hoshino'
2021-04-11 20:48:04.625 | ERROR    | nonebot:_load_plugin:1037 - Failed to import "help"
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 4, in <module>
    salmon.init()
    │      └ <function init at 0x000002870FEE8790>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 28, in init
    nonebot.load_plugins(module_name)
    │       │            └ 'salmon/modules/botmanage'
    │       └ <function load_plugins at 0x000002870FBA9AF0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 1044, in load_plugins
    result = context.run(_load_plugin, module_info)
             │       │   │             └ ModuleInfo(module_finder=FileFinder('salmon/modules/botmanage'), name='help', ispkg=False)
             │       │   └ <function load_plugins.<locals>._load_plugin at 0x000002873205A790>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x00000287322101C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 1028, in _load_plugin
    module = _load(spec)
             │     └ ModuleSpec(name='help', loader=<_frozen_importlib_external.SourceFileLoader object at 0x0000028732219520>, origin='salmon/mod...
             └ <function _load at 0x000002870CB6F040>

  File "<frozen importlib._bootstrap>", line 711, in _load
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 790, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed

  File "salmon/modules/botmanage\help.py", line 5, in <module>
    sv = Service('_help_', manage_priv=priv.SUPER, visible=False)
         │                             └ <module 'salmon.priv' from 'C:\\bot\\SalmonBot\\salmon\\priv.py'>
         └ <class 'salmon.service.Service'>

AttributeError: module 'salmon.priv' has no attribute 'SUPER'
2021-04-11 20:48:04.634 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 20:48:04.722 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 20:48:04.724 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 20:48:04.779 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 20:48:04.781 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 20:48:04.782 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 20:48:04.786 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 20:48:04.789 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 20:48:04.790 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 20:48:04.849 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 20:48:04.849 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 20:48:04.851 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 20:48:04.852 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 20:48:04.871 | INFO     | uvicorn:serve:405 - Started server process [15268]
2021-04-11 20:48:04.872 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 20:48:04.873 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 20:48:04.874 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 20:48:04.874 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 20:48:05.826 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 55770) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 20:48:05.826 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 20:49:10.694 | WARNING  | salmon:<module>:17 - Not found config of "priconne"
2021-04-11 20:49:10.695 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 20:49:10.695 | WARNING  | salmon:<module>:17 - Not found config of "gacha"
2021-04-11 20:49:11.214 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 20:49:11.215 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 20:49:11.383 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 20:49:11.385 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 20:49:11.437 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 20:49:11.439 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 20:49:11.440 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 20:49:11.443 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 20:49:11.446 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 20:49:11.448 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 20:49:11.506 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 20:49:11.506 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 20:49:11.508 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 20:49:11.509 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 20:49:11.531 | INFO     | uvicorn:serve:405 - Started server process [1368]
2021-04-11 20:49:11.532 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 20:49:11.533 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 20:49:11.533 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 20:49:11.534 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 20:49:13.824 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 55837) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 20:49:13.824 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 20:49:49.030 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message 957137056 from 1351495774 "反馈test"
2021-04-11 20:49:57.507 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -1610247910 from 1351495774 "反馈 test"
2021-04-11 20:50:07.883 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 20:50:08.626 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 20:50:08.697 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 20:50:08.697 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 20:50:19.468 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -687693428 from 1351495774 "查看卡池"
2021-04-11 20:50:19.471 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from gacha, type=message, priority=1, temp=False>
2021-04-11 20:50:19.476 | INFO     | nonebot:run:561 - Matcher <Matcher from gacha, type=message, priority=1, temp=False> running complete
2021-04-11 20:50:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 20:50:25.309 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 20:50:25.311 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 20:50:26.085 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message 1231434799 from 1351495774 "jp"
2021-04-11 20:50:32.089 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message 1046545593 from 1351495774 "反馈test"
2021-04-11 20:50:38.299 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -1486334717 from 1351495774 "反馈 test"
2021-04-11 20:50:48.964 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -798005867 from 1351495774 "帮助"
2021-04-11 20:51:10.050 | WARNING  | salmon:<module>:17 - Not found config of "priconne"
2021-04-11 20:51:10.051 | WARNING  | salmon:<module>:17 - Not found config of "gacha"
2021-04-11 20:51:10.051 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 20:51:10.555 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 20:51:10.556 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 20:51:10.722 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 20:51:10.724 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 20:51:10.777 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 20:51:10.778 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 20:51:10.779 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 20:51:10.782 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 20:51:10.786 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 20:51:10.787 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 20:51:10.842 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 20:51:10.843 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 20:51:10.844 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 20:51:10.845 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 20:51:10.864 | INFO     | uvicorn:serve:405 - Started server process [11292]
2021-04-11 20:51:10.864 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 20:51:10.866 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 20:51:10.867 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 20:51:10.867 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 20:51:13.826 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 55878) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 20:51:13.826 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 20:55:07.895 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 20:55:08.537 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 20:55:08.628 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 20:55:08.628 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 20:55:25.000 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 20:55:25.527 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 20:55:25.529 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 20:56:41.342 | WARNING  | salmon:<module>:17 - Not found config of "gacha"
2021-04-11 20:56:41.348 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 20:56:41.349 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 20:56:41.847 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 20:56:41.848 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 20:56:42.011 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 20:56:42.013 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 20:56:42.064 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 20:56:42.065 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 20:56:42.066 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 20:56:42.068 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 20:56:42.071 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 20:56:42.072 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 20:56:42.128 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 20:56:42.128 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 20:56:42.130 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 20:56:42.131 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 20:56:42.149 | INFO     | uvicorn:serve:405 - Started server process [8868]
2021-04-11 20:56:42.149 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 20:56:42.151 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 20:56:42.151 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 20:56:42.152 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 20:56:43.827 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 55999) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 20:56:43.827 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 21:00:17.552 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 21:00:21.157 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 21:00:21.238 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 21:00:21.239 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 21:00:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 21:00:35.020 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectTimeout'> occured when doing scheduled job update_seeker.
2021-04-11 21:00:35.022 | ERROR    | salmon:wrapper:21 - 
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x000001629D19E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000162C03E2B50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x000001629D19ACA0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 10, 'read': 10, 'write': 10, 'pool': 10}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x000001629D19AD30>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x000001629D15FF70>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x00000162C03E2B80>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x000001629D146D60>
                 └ <httpcore._backends.auto.AutoBackend object at 0x00000162C03E2B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000162C048D740>
    │    │   │     │     └ TimeoutError()
    │    │   │     └ <class 'asyncio.exceptions.TimeoutError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000162C03F62E0>
    └ <contextlib._GeneratorContextManager object at 0x00000162C042F4F0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectTimeout'>

httpcore.ConnectTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001629D3BA8B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 32, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001629CFEDA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001629A789AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000162BF6D2860>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001629CFF5100>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000162BF54D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000162BF5734C0>
    └ <uvicorn.main.Server object at 0x00000162C0321D00>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000162BF573550>
    │    │                  └ <uvicorn.main.Server object at 0x00000162C0321D00>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001629CEB9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001629CEB9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001629CEBB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001629CE5C310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000162C042FA00>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000162C042FA00>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000162C042FA00>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000162C042FA00>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=官漫更新 name=update_seeker)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=官漫更新 name=update_seeker)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=官漫更新 name=update_seeker)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function update_seeker at 0x00000162C00721F0>

  File "salmon/modules/priconne\comic.py", line 108, in update_seeker
    resp = await aiohttpx.get(index_api, timeout=10)
                 │        │   └ 'https://comic.priconne-redive.jp/api/index'
                 │        └ <function get at 0x00000162BF70CB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {'timeout': 10}
                 │      │   │     └ ()
                 │      │   └ 'https://comic.priconne-redive.jp/api/index'
                 │      └ <function AsyncClient.get at 0x000001629D39D3A0>
                 └ <httpx.AsyncClient object at 0x00000162C0413A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x000001629D39D0D0>
                 └ <httpx.AsyncClient object at 0x00000162C0413A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x000001629D39D160>
                     └ <httpx.AsyncClient object at 0x00000162C0413A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001629D39D1F0>
                     └ <httpx.AsyncClient object at 0x00000162C0413A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001629D39D280>
                     └ <httpx.AsyncClient object at 0x00000162C0413A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=10)
                     │    │                    └ <Request('GET', 'https://comic.priconne-redive.jp/api/index')>
                     │    └ <function AsyncClient._send_single_request at 0x000001629D39D310>
                     └ <httpx.AsyncClient object at 0x00000162C0413A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x000001629D19E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000162C03E2B50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000162C04CA340>
    │    │   │     │     └ ConnectTimeout(TimeoutError())
    │    │   │     └ <class 'httpcore.ConnectTimeout'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000162C048C890>
    └ <contextlib._GeneratorContextManager object at 0x00000162C042F220>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'https://comic.priconne-redive.jp/api/index')>}
          │          └ ''
          └ <class 'httpx.ConnectTimeout'>

httpx.ConnectTimeout
2021-04-11 21:01:05.743 | ERROR    | nonebot:receive:285 - WebSocket disconnected by peer.
2021-04-11 21:02:40.009 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 21:02:40.010 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 21:02:40.501 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 21:02:40.501 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 21:02:40.583 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 21:02:40.584 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 21:02:40.587 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "feedback"
2021-04-11 21:02:40.590 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 21:02:40.591 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 21:02:40.592 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 21:02:40.610 | INFO     | uvicorn:serve:405 - Started server process [16028]
2021-04-11 21:02:40.610 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 21:02:40.610 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 21:02:40.610 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 21:02:41.126 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 56195) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 21:02:41.126 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 21:12:49.394 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 21:12:49.395 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 21:12:49.395 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 21:12:49.963 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 21:12:49.964 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 21:12:50.047 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 21:12:50.048 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 21:12:50.049 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "feedback"
2021-04-11 21:12:50.050 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 21:12:50.052 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 21:12:50.137 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 21:12:50.139 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 21:12:50.193 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 21:12:50.194 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 21:12:50.195 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 21:12:50.197 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 21:12:50.200 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 21:12:50.201 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 21:12:50.259 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 21:12:50.260 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 21:12:50.261 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 21:12:50.262 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 21:12:50.281 | INFO     | uvicorn:serve:405 - Started server process [9376]
2021-04-11 21:12:50.281 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 21:12:50.283 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 21:12:50.283 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 21:12:50.283 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 21:12:50.603 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 56528) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 21:12:50.603 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 21:15:04.001 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 21:15:09.039 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectTimeout'> occured when doing scheduled job pcr_news_poller.
2021-04-11 21:15:09.041 | ERROR    | salmon:wrapper:21 - 
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x0000020763316550>
                                                 └ <httpcore.AsyncConnectionPool object at 0x0000020706561DF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x0000020763314AF0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x0000020763314B80>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x00000207632D8DC0>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x0000020706584070>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x00000207632C0D10>
                 └ <httpcore._backends.auto.AutoBackend object at 0x0000020706584070>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000207065AD940>
    │    │   │     │     └ TimeoutError()
    │    │   │     └ <class 'asyncio.exceptions.TimeoutError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000002070653CD60>
    └ <contextlib._GeneratorContextManager object at 0x0000020706584CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectTimeout'>

httpcore.ConnectTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x0000020763535700>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 36, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000207631648B0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000020760949CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000002070584F900>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002076315E880>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000207056C8790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000207056F14C0>
    └ <uvicorn.main.Server object at 0x00000207064B4550>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000207056F1550>
    │    │                  └ <uvicorn.main.Server object at 0x00000207064B4550>
    │    └ <function BaseEventLoop.run_until_complete at 0x0000020763030550>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000207630304C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000020763034040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000020762FD3160>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000020706561DC0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000020706561DC0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000020706561DC0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000020706561DC0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x00000207064A61F0>

  File "salmon/modules/priconne\news.py", line 98, in pcr_news_poller
    await news_poller(SonetSpider, svtw, '台服官网')
          │           │            └ <salmon.service.Service object at 0x000002070621F670>
          │           └ <class 'news.SonetSpider'>
          └ <function news_poller at 0x000002070622A430>

  File "salmon/modules/priconne\news.py", line 85, in news_poller
    await spider.get_update()
          │      └ <classmethod object at 0x000002070621FF10>
          └ <class 'news.SonetSpider'>

  File "salmon/modules/priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x0000020706237FA0>
                 └ <class 'news.SonetSpider'>

  File "salmon/modules/priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │        │   └ <class 'news.SonetSpider'>
                 │        └ <function get at 0x00000207058A88B0>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │      └ <function AsyncClient.get at 0x00000207635191F0>
                 └ <httpx.AsyncClient object at 0x000002070658A850>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x0000020763513EE0>
                 └ <httpx.AsyncClient object at 0x000002070658A850>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x0000020763513F70>
                     └ <httpx.AsyncClient object at 0x000002070658A850>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000020763519040>
                     └ <httpx.AsyncClient object at 0x000002070658A850>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000207635190D0>
                     └ <httpx.AsyncClient object at 0x000002070658A850>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>
                     │    └ <function AsyncClient._send_single_request at 0x0000020763519160>
                     └ <httpx.AsyncClient object at 0x000002070658A850>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x0000020763316550>
                                                 └ <httpcore.AsyncConnectionPool object at 0x0000020706561DF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000207065AD780>
    │    │   │     │     └ ConnectTimeout(TimeoutError())
    │    │   │     └ <class 'httpcore.ConnectTimeout'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000002070653CB30>
    └ <contextlib._GeneratorContextManager object at 0x0000020706584280>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>}
          │          └ ''
          └ <class 'httpx.ConnectTimeout'>

httpx.ConnectTimeout
2021-04-11 21:15:25.008 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 21:15:35.037 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectTimeout'> occured when doing scheduled job update_seeker.
2021-04-11 21:15:35.038 | ERROR    | salmon:wrapper:21 - 
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x0000020763316550>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000207065AAB50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x0000020763314AF0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 10, 'read': 10, 'write': 10, 'pool': 10}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x0000020763314B80>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x00000207632D8DC0>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x00000207065AAB80>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x00000207632C0D10>
                 └ <httpcore._backends.auto.AutoBackend object at 0x00000207065AAB80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000207066A2B40>
    │    │   │     │     └ TimeoutError()
    │    │   │     └ <class 'asyncio.exceptions.TimeoutError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000207066A6510>
    └ <contextlib._GeneratorContextManager object at 0x00000207066CE250>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectTimeout'>

httpcore.ConnectTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x0000020763535700>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 36, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000207631648B0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000020760949CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000002070584F900>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002076315E880>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000207056C8790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000207056F14C0>
    └ <uvicorn.main.Server object at 0x00000207064B4550>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000207056F1550>
    │    │                  └ <uvicorn.main.Server object at 0x00000207064B4550>
    │    └ <function BaseEventLoop.run_until_complete at 0x0000020763030550>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000207630304C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000020763034040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000020762FD3160>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000020706561AF0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000020706561AF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000020706561AF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000020706561AF0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=官漫更新 name=update_seeker)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=官漫更新 name=update_seeker)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=官漫更新 name=update_seeker)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function update_seeker at 0x00000207062093A0>

  File "salmon/modules/priconne\comic.py", line 108, in update_seeker
    resp = await aiohttpx.get(index_api, timeout=10)
                 │        │   └ 'https://comic.priconne-redive.jp/api/index'
                 │        └ <function get at 0x00000207058A88B0>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {'timeout': 10}
                 │      │   │     └ ()
                 │      │   └ 'https://comic.priconne-redive.jp/api/index'
                 │      └ <function AsyncClient.get at 0x00000207635191F0>
                 └ <httpx.AsyncClient object at 0x0000020706561E20>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x0000020763513EE0>
                 └ <httpx.AsyncClient object at 0x0000020706561E20>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x0000020763513F70>
                     └ <httpx.AsyncClient object at 0x0000020706561E20>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000020763519040>
                     └ <httpx.AsyncClient object at 0x0000020706561E20>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000207635190D0>
                     └ <httpx.AsyncClient object at 0x0000020706561E20>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=10)
                     │    │                    └ <Request('GET', 'https://comic.priconne-redive.jp/api/index')>
                     │    └ <function AsyncClient._send_single_request at 0x0000020763519160>
                     └ <httpx.AsyncClient object at 0x0000020706561E20>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x0000020763316550>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000207065AAB50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000207066D6080>
    │    │   │     │     └ ConnectTimeout(TimeoutError())
    │    │   │     └ <class 'httpcore.ConnectTimeout'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000207066A65F0>
    └ <contextlib._GeneratorContextManager object at 0x00000207065AADF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'https://comic.priconne-redive.jp/api/index')>}
          │          └ ''
          └ <class 'httpx.ConnectTimeout'>

httpx.ConnectTimeout
2021-04-11 21:18:51.800 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 21:18:51.801 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 21:18:51.801 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 21:18:52.323 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 21:18:52.323 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 21:18:52.407 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 21:18:52.408 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 21:18:52.409 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "feedback"
2021-04-11 21:18:52.410 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 21:18:52.412 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 21:18:52.498 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 21:18:52.501 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 21:18:52.553 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 21:18:52.554 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 21:18:52.555 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 21:18:52.558 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 21:18:52.562 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 21:18:52.562 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 21:18:52.636 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 21:18:52.637 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 21:18:52.638 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 21:18:52.639 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 21:18:52.678 | INFO     | uvicorn:serve:405 - Started server process [15556]
2021-04-11 21:18:52.678 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 21:18:52.681 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 21:18:52.681 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 21:18:52.682 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 21:18:54.112 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 56722) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 21:18:54.113 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 21:20:00.410 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 21:20:04.063 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 21:20:09.082 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectTimeout'> occured when doing scheduled job pcr_news_poller.
2021-04-11 21:20:09.084 | ERROR    | salmon:wrapper:21 - 
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000208B3186550>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000208D63CE700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000208B3182AF0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x00000208B3182B80>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x00000208B3148DC0>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x00000208D63CE7F0>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x00000208B3130DB0>
                 └ <httpcore._backends.auto.AutoBackend object at 0x00000208D63CE7F0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000208D6432140>
    │    │   │     │     └ TimeoutError()
    │    │   │     └ <class 'asyncio.exceptions.TimeoutError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000208D63A2E40>
    └ <contextlib._GeneratorContextManager object at 0x00000208D641B0D0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectTimeout'>

httpcore.ConnectTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000208B33A4700>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 33, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000208B2FD48B0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000208B0798C10>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000208D56BF9F0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000208B2FCE8B0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000208D5538790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000208D55614C0>
    └ <uvicorn.main.Server object at 0x00000208D6325F10>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000208D5561550>
    │    │                  └ <uvicorn.main.Server object at 0x00000208D6325F10>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000208B2EA0550>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000208B2EA04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000208B2EA3040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000208B2E43160>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000208D64342B0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000208D64342B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000208D64342B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000208D64342B0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x00000208D62571F0>

  File "salmon/modules/priconne\news.py", line 99, in pcr_news_poller
    await news_poller(BiliSpider, svbl, 'B服官网')
          │           │           └ <salmon.service.Service object at 0x00000208D60AE700>
          │           └ <class 'news.BiliSpider'>
          └ <function news_poller at 0x00000208D60A8430>

  File "salmon/modules/priconne\news.py", line 85, in news_poller
    await spider.get_update()
          │      └ <classmethod object at 0x00000208D60AEF70>
          └ <class 'news.BiliSpider'>

  File "salmon/modules/priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x00000208D60C1040>
                 └ <class 'news.BiliSpider'>

  File "salmon/modules/priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://api.biligame.com/news/list?gameExtensionId=267&positionId=2&pageNum=1&pageSize=7&typeId='
                 │        │   └ <class 'news.BiliSpider'>
                 │        └ <function get at 0x00000208D57178B0>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://api.biligame.com/news/list?gameExtensionId=267&positionId=2&pageNum=1&pageSize=7&typeId='
                 │      └ <function AsyncClient.get at 0x00000208B33891F0>
                 └ <httpx.AsyncClient object at 0x00000208D640C340>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000208B3384EE0>
                 └ <httpx.AsyncClient object at 0x00000208D640C340>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000208B3384F70>
                     └ <httpx.AsyncClient object at 0x00000208D640C340>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000208B3389040>
                     └ <httpx.AsyncClient object at 0x00000208D640C340>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000208B33890D0>
                     └ <httpx.AsyncClient object at 0x00000208D640C340>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://api.biligame.com/news/list?gameExtensionId=267&positionId=2&pageNum=1&pageSize=7&typeId=')>
                     │    └ <function AsyncClient._send_single_request at 0x00000208B3389160>
                     └ <httpx.AsyncClient object at 0x00000208D640C340>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000208B3186550>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000208D63CE700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000208D64257C0>
    │    │   │     │     └ ConnectTimeout(TimeoutError())
    │    │   │     └ <class 'httpcore.ConnectTimeout'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000208D6488E40>
    └ <contextlib._GeneratorContextManager object at 0x00000208D641B8B0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://api.biligame.com/news/list?gameExtensionId=267&positionId=2&pageNum=1&pageSize=7&typeId=')>}
          │          └ ''
          └ <class 'httpx.ConnectTimeout'>

httpx.ConnectTimeout
2021-04-11 21:20:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 21:20:26.387 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 21:20:26.390 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 21:24:54.573 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 21:24:54.573 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 21:24:54.574 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 21:24:55.098 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 21:24:55.099 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 21:24:55.181 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 21:24:55.182 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 21:24:55.183 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "feedback"
2021-04-11 21:24:55.184 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 21:24:55.185 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 21:24:55.270 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 21:24:55.272 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 21:24:55.324 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 21:24:55.325 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 21:24:55.326 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 21:24:55.329 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 21:24:55.332 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 21:24:55.333 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 21:24:55.389 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 21:24:55.390 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 21:24:55.392 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 21:24:55.392 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 21:24:55.413 | INFO     | uvicorn:serve:405 - Started server process [11616]
2021-04-11 21:24:55.413 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 21:24:55.415 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 21:24:55.415 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 21:24:55.415 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 21:24:58.103 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 56851) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 21:24:58.103 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 21:25:06.997 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 21:25:10.684 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 21:25:13.801 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 21:25:13.801 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 21:25:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 21:25:25.579 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 21:25:25.581 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 21:27:10.780 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 21:27:10.780 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 21:27:10.781 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 21:27:11.273 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 21:27:11.274 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 21:27:11.441 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 21:27:11.443 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 21:27:11.493 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 21:27:11.495 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 21:27:11.496 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 21:27:11.498 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 21:27:11.501 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 21:27:11.502 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 21:27:11.558 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 21:27:11.559 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 21:27:11.561 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 21:27:11.562 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 21:27:11.563 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 21:27:11.564 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "feedback"
2021-04-11 21:27:11.565 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 21:27:11.566 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 21:27:11.566 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 21:27:11.587 | INFO     | uvicorn:serve:405 - Started server process [2544]
2021-04-11 21:27:11.587 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 21:27:11.589 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 21:27:11.589 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 21:27:11.590 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 21:27:14.105 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 56902) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 21:27:14.105 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 21:30:05.119 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 21:30:05.120 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 21:30:05.120 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 21:30:05.607 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 21:30:05.608 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 21:30:05.690 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 21:30:05.709 | INFO     | uvicorn:serve:405 - Started server process [8104]
2021-04-11 21:30:05.709 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 21:30:05.709 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 21:30:05.709 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 21:30:06.104 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 56962) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 21:30:06.104 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 21:31:16.964 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 21:31:16.965 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 21:31:16.965 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 21:31:17.453 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 21:31:17.454 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 21:31:17.618 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 21:31:17.621 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 21:31:17.671 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 21:31:17.672 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 21:31:17.673 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 21:31:17.675 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 21:31:17.678 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 21:31:17.679 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 21:31:17.734 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 21:31:17.735 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 21:31:17.736 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 21:31:17.737 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 21:31:17.738 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 21:31:17.739 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "feedback"
2021-04-11 21:31:17.739 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 21:31:17.741 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 21:31:17.741 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 21:31:17.761 | INFO     | uvicorn:serve:405 - Started server process [10740]
2021-04-11 21:31:17.761 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 21:31:17.763 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 21:31:17.763 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 21:31:17.764 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 21:31:20.104 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 57019) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 21:31:20.104 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 21:33:31.981 | ERROR    | nonebot:receive:285 - WebSocket disconnected by peer.
2021-04-11 21:33:31.982 | ERROR    | alert:disconnect:25 - WebSocket连接已断开
2021-04-11 21:35:17.137 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 21:35:22.349 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectTimeout'> occured when doing scheduled job pcr_news_poller.
2021-04-11 21:35:22.349 | ERROR    | salmon:wrapper:21 - 
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x000001CFAED56550>
                                                 └ <httpcore.AsyncConnectionPool object at 0x000001CFD1F99D90>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x000001CFAED54AF0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x000001CFAED54B80>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x000001CFAED18DC0>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x000001CFD1F99220>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x000001CFAED00CC0>
                 └ <httpcore._backends.auto.AutoBackend object at 0x000001CFD1F99220>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x000001CFD2000080>
    │    │   │     │     └ TimeoutError()
    │    │   │     └ <class 'asyncio.exceptions.TimeoutError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001CFD1F975F0>
    └ <contextlib._GeneratorContextManager object at 0x000001CFD1FE87F0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectTimeout'>

httpcore.ConnectTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001CFAEF74700>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001CFAEBA48B0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001CFAC369C10>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000001CFD12919F0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001CFAEB9E8B0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001CFD1108790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000001CFD11314C0>
    └ <uvicorn.main.Server object at 0x000001CFD1EED730>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000001CFD1131550>
    │    │                  └ <uvicorn.main.Server object at 0x000001CFD1EED730>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001CFAEA70550>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001CFAEA704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001CFAEA73040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001CFAEA13160>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001CFD1FE8340>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001CFD1FE8340>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001CFD1FE8340>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001CFD1FE8340>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x000001CFD1ECC1F0>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 98, in pcr_news_poller
    await news_poller(SonetSpider, svtw, '台服官网')
          │           │            └ <salmon.service.Service object at 0x000001CFD192A0D0>
          │           └ <class 'news.SonetSpider'>
          └ <function news_poller at 0x000001CFD1C66430>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 85, in news_poller
    await spider.get_update()
          │      └ <classmethod object at 0x000001CFD1932AF0>
          └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x000001CFD1949670>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │        │   └ <class 'news.SonetSpider'>
                 │        └ <function get at 0x000001CFD12C7B80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │      └ <function AsyncClient.get at 0x000001CFAEF591F0>
                 └ <httpx.AsyncClient object at 0x000001CFD1FC2790>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x000001CFAEF53EE0>
                 └ <httpx.AsyncClient object at 0x000001CFD1FC2790>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x000001CFAEF53F70>
                     └ <httpx.AsyncClient object at 0x000001CFD1FC2790>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001CFAEF59040>
                     └ <httpx.AsyncClient object at 0x000001CFD1FC2790>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001CFAEF590D0>
                     └ <httpx.AsyncClient object at 0x000001CFD1FC2790>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://www.princessconnect.so-net.tw/news')>
                     │    └ <function AsyncClient._send_single_request at 0x000001CFAEF59160>
                     └ <httpx.AsyncClient object at 0x000001CFD1FC2790>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x000001CFAED56550>
                                                 └ <httpcore.AsyncConnectionPool object at 0x000001CFD1F99D90>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x000001CFD2000300>
    │    │   │     │     └ ConnectTimeout(TimeoutError())
    │    │   │     └ <class 'httpcore.ConnectTimeout'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001CFD1F97270>
    └ <contextlib._GeneratorContextManager object at 0x000001CFD1FE8B50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://www.princessconnect.so-net.tw/news')>}
          │          └ ''
          └ <class 'httpx.ConnectTimeout'>

httpx.ConnectTimeout
2021-04-11 21:35:25.000 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 21:35:25.487 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 21:35:25.490 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 21:36:10.794 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 57167) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 21:36:10.794 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 21:36:22.289 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message 19794484 from 1351495774 "反馈test"
2021-04-11 21:36:22.293 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from feedback, type=message, priority=1, temp=False>
2021-04-11 21:36:22.294 | INFO     | nonebot:run:561 - Matcher <Matcher from feedback, type=message, priority=1, temp=False> running complete
2021-04-11 21:36:22.294 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from feedback, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001CFAEF74700>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001CFAEBA48B0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001CFAC369C10>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000001CFD12919F0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001CFAEB9E8B0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001CFD1108790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000001CFD11314C0>
    └ <uvicorn.main.Server object at 0x000001CFD1EED730>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000001CFD1131550>
    │    │                  └ <uvicorn.main.Server object at 0x000001CFD1EED730>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001CFAEA70550>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001CFAEA704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001CFAEA73040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001CFAEA13160>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001CFD2144370>(<_GatheringFu...=[True, True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001CFD2144370>(<_GatheringFu...=[True, True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001CFD2144370>(<_GatheringFu...=[True, True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001CFD2144370>(<_GatheringFu...=[True, True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': '反馈', 'command': ('反馈',)}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618148182, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001CFD2101AF0>
          │            └ <Matcher from feedback, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x000001CFAEF5D310>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': '反馈', 'command': ('反馈',)}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618148182, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001CFD2101AF0>
          │       └ <function Matcher.run at 0x000001CFAEC29670>
          └ <Matcher from feedback, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': '反馈', 'command': ('反馈',)}, '_suffix': {'raw_command': None, 'command': None}, 'text': 'test', '_c...
          │    │           │        │    └ PrivateMessageEvent(time=1618148182, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001CFD2101AF0>
          │    │           └ <function feedback at 0x000001CFD1EDF670>
          │    └ <function Matcher.run_handler at 0x000001CFAEC295E0>
          └ <Matcher from feedback, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function feedback at 0x000001CFD1EDF670>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': '反馈', 'command': ('反馈',)}, '_suffix': {'raw_command': None, 'command': None}, 'text': 'test', '_c...
          │       │           │     │    └ PrivateMessageEvent(time=1618148182, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001CFD2101AF0>
          │       │           └ <function feedback at 0x000001CFD1EDF430>
          │       └ <function Matcher.run_handler at 0x000001CFAEC295E0>
          └ <Matcher from feedback, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function feedback at 0x000001CFD1EDF430>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\feedback.py", line 33, in feedback
    await bot.send_private_msg(self_id=event.self_id, user_id=su, message=f'群聊{event.group_id}@用户{uid}：\n{text}')
          │                            │     │                └ 1351495774
          │                            │     └ 3235657949
          │                            └ PrivateMessageEvent(time=1618148182, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001CFD2101AF0>

AttributeError: 'PrivateMessageEvent' object has no attribute 'group_id'
2021-04-11 21:38:02.331 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 21:38:02.332 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 21:38:02.332 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 21:38:02.822 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 21:38:02.823 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 21:38:02.989 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 21:38:02.991 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 21:38:03.042 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 21:38:03.043 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 21:38:03.044 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 21:38:03.046 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 21:38:03.049 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 21:38:03.051 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 21:38:03.107 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 21:38:03.108 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 21:38:03.109 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 21:38:03.110 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 21:38:03.111 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 21:38:03.114 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "feedback"
2021-04-11 21:38:03.114 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 21:38:03.116 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 21:38:03.116 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 21:38:03.137 | INFO     | uvicorn:serve:405 - Started server process [15936]
2021-04-11 21:38:03.137 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 21:38:03.138 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 21:38:03.139 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 21:38:03.139 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 21:38:05.800 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 57223) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 21:38:05.800 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 21:38:11.428 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message 1982413474 from 1351495774 "反馈test"
2021-04-11 21:38:11.432 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from feedback, type=message, priority=1, temp=False>
2021-04-11 21:38:11.439 | INFO     | nonebot:run:561 - Matcher <Matcher from feedback, type=message, priority=1, temp=False> running complete
2021-04-11 21:38:30.271 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.group.normal]: Message -144464909 from 1351495774@[群:1128254624] "反馈 test"
2021-04-11 21:38:30.274 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 21:38:30.275 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 21:38:30.275 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 21:38:30.276 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 21:38:30.276 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from feedback, type=message, priority=1, temp=False>
2021-04-11 21:38:30.484 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.group.normal]: Message -2140892315 from 2842117629@[群:1128254624] "[CQ:at,qq=1351495774]  您的反馈已发送至维护组！
======
test"
2021-04-11 21:38:30.487 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 21:38:30.487 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 21:38:30.487 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 21:38:30.488 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 21:38:30.568 | INFO     | nonebot:run:561 - Matcher <Matcher from feedback, type=message, priority=1, temp=False> running complete
2021-04-11 21:40:03.237 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 21:40:03.937 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 21:40:04.057 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 21:40:04.058 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 21:40:25.007 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 21:40:25.439 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 21:40:25.441 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 21:43:24.559 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.group.normal]: Message 1852502601 from 1351495774@[群:1128254624] "取码&#91;CQ: at, qq=1351495774&#93;"
2021-04-11 21:43:24.562 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 21:43:24.563 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 21:43:24.563 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 21:43:24.564 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 21:43:31.522 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_recall]: {'time': 1618148603, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_recall', 'user_id': 1351495774, 'group_id': 1128254624, 'operator_id': 1351495774, 'message_id': 1852502601}
2021-04-11 21:43:31.523 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 21:43:31.524 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 21:43:31.524 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 21:43:31.525 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 21:45:02.554 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 21:45:03.156 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 21:45:03.239 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 21:45:03.239 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 21:45:25.004 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 21:45:25.440 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 21:45:25.443 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 21:50:16.053 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 21:50:16.719 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 21:50:16.844 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 21:50:16.845 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 21:50:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 21:50:25.521 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 21:50:25.523 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 21:55:10.331 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 21:55:10.977 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 21:55:11.073 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 21:55:11.073 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 21:55:25.009 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 21:55:25.921 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 21:55:25.924 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 22:00:12.059 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 22:00:12.748 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 22:00:12.812 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 22:00:12.812 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 22:00:25.000 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 22:00:25.318 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 22:00:25.320 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 22:04:08.034 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 22:04:08.035 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 22:04:08.035 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 22:04:08.534 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 22:04:08.535 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 22:04:08.705 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 22:04:08.707 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 22:04:08.759 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 22:04:08.760 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 22:04:08.761 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 22:04:08.763 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 22:04:08.767 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 22:04:08.768 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 22:04:08.826 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 22:04:08.826 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 22:04:08.828 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 22:04:08.831 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 22:04:08.833 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 22:04:08.833 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "feedback"
2021-04-11 22:04:08.835 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "group_invite"
2021-04-11 22:04:08.836 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 22:04:08.837 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 22:04:08.838 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 22:04:08.862 | INFO     | uvicorn:serve:405 - Started server process [2848]
2021-04-11 22:04:08.862 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 22:04:08.864 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 22:04:08.864 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 22:04:08.865 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 22:04:11.798 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 57841) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 22:04:11.798 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 22:05:06.610 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 22:05:07.193 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 22:05:07.280 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 22:05:07.281 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 22:05:25.011 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 22:05:25.432 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 22:05:25.434 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 22:07:33.240 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_decrease.kick_me]: {'time': 1618150053, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_decrease', 'sub_type': 'kick_me', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 1351495774}
2021-04-11 22:07:33.241 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:07:33.242 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:07:33.242 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:07:33.244 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:07:49.050 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [request.group.invite]: {'time': 1618150069, 'self_id': 3235657949, 'post_type': 'request', 'request_type': 'group', 'sub_type': 'invite', 'group_id': 1128254624, 'user_id': 3224889915, 'comment': '', 'flag': '1618150067466987'}
2021-04-11 22:07:49.051 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from group_invite, type=request, priority=1, temp=False>
2021-04-11 22:07:49.053 | INFO     | nonebot:run:561 - Matcher <Matcher from group_invite, type=request, priority=1, temp=False> running complete
2021-04-11 22:07:49.053 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_invite, type=request, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000127473F88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001274702DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000127447C8AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x0000012769712770>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000127470350A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001276958D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000127695B34C0>
    └ <uvicorn.main.Server object at 0x000001276A3727C0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000127695B3550>
    │    │                  └ <uvicorn.main.Server object at 0x000001276A3727C0>
    │    └ <function BaseEventLoop.run_until_complete at 0x0000012746EF9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012746EF9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012746EFB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012746E9B310>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001276A448850>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001276A448850>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001276A448850>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001276A448850>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ GroupRequestEvent(time=1618150069, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001276A41C4C0>
          │            └ <Matcher from group_invite, type=request, priority=1, temp=False>
          └ <function _run_matcher at 0x00000127473D64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ GroupRequestEvent(time=1618150069, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001276A41C4C0>
          │       └ <function Matcher.run at 0x00000127470B3820>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │    │           │        │    └ GroupRequestEvent(time=1618150069, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001276A41C4C0>
          │    │           └ <function handle_group_invite at 0x000001276A365700>
          │    └ <function Matcher.run_handler at 0x00000127470B3790>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function handle_group_invite at 0x000001276A365700>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_invite.py", line 13, in handle_group_invite
    await bot.reject(reason='邀请入群请联系维护组')
          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001276A41C4C0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 368, in call_api
    return _handle_api_result(await ResultStore.fetch(
           │                        │           └ <classmethod object at 0x0000012747132A60>
           │                        └ <class 'nonebot.adapters.cqhttp.bot.ResultStore'>
           └ <function _handle_api_result at 0x00000127473D6B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 183, in _handle_api_result
    raise ActionFailed(**result)
          │              └ {'data': None, 'echo': {'seq': 3}, 'msg': 'API_NOT_FOUND', 'retcode': 404, 'status': 'failed', 'wording': 'API不存在'}
          └ <class 'nonebot.adapters.cqhttp.exception.ActionFailed'>

nonebot.adapters.cqhttp.exception.ActionFailed: <ActionFailed data=None, echo={'seq': 3}, msg=API_NOT_FOUND, retcode=404, status=failed, wording=API不存在>
2021-04-11 22:07:49.188 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_increase.approve]: {'time': 1618150069, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_increase', 'sub_type': 'approve', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 0}
2021-04-11 22:07:49.207 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:07:49.234 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:07:49.256 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:07:49.267 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:07:49.281 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.group.normal]: Message -1982668978 from 2842117629@[群:1128254624] "欢迎新大佬加入本群！
※发送help可查看bot相关说明；
※请将群昵称修改为游戏ID；
～もう一度、君と繋がる物語～"
2021-04-11 22:07:49.307 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 22:07:49.317 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 22:07:49.328 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 22:07:49.340 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 22:09:57.237 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 22:09:57.237 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 22:09:57.238 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 22:09:57.723 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 22:09:57.724 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 22:09:57.808 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 22:09:57.809 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 22:09:57.810 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "feedback"
2021-04-11 22:09:57.812 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "group_invite"
2021-04-11 22:09:57.814 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 22:09:57.815 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 22:09:57.900 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 22:09:57.903 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 22:09:57.955 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 22:09:57.956 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 22:09:57.957 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 22:09:57.960 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 22:09:57.963 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 22:09:57.964 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 22:09:58.019 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 22:09:58.020 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 22:09:58.022 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 22:09:58.022 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 22:09:58.045 | INFO     | uvicorn:serve:405 - Started server process [9100]
2021-04-11 22:09:58.045 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 22:09:58.047 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 22:09:58.047 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 22:09:58.048 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 22:09:58.301 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 57991) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 22:09:58.301 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 22:10:08.942 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_decrease.kick_me]: {'time': 1618150208, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_decrease', 'sub_type': 'kick_me', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 1351495774}
2021-04-11 22:10:08.943 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:10:08.944 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:10:08.945 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:10:08.951 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:10:15.535 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 22:10:16.238 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 22:10:16.311 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 22:10:16.312 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 22:10:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 22:10:25.467 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 22:10:25.469 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 22:11:17.478 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [request.group.invite]: {'time': 1618150277, 'self_id': 3235657949, 'post_type': 'request', 'request_type': 'group', 'sub_type': 'invite', 'group_id': 1128254624, 'user_id': 1351495774, 'comment': '', 'flag': '1618150275854420'}
2021-04-11 22:11:17.479 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from group_invite, type=request, priority=1, temp=False>
2021-04-11 22:11:17.479 | INFO     | nonebot:run:561 - Matcher <Matcher from group_invite, type=request, priority=1, temp=False> running complete
2021-04-11 22:11:17.480 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_invite, type=request, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000002622FEF88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000002622FB2DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000002622D2F9AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000262522118B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002622FB350A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000002625208D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000262520B34C0>
    └ <uvicorn.main.Server object at 0x0000026252E794F0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000262520B3550>
    │    │                  └ <uvicorn.main.Server object at 0x0000026252E794F0>
    │    └ <function BaseEventLoop.run_until_complete at 0x000002622F9F9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002622F9F9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002622F9FB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002622F99A310>
    └ <Handle <TaskStepMethWrapper object at 0x0000026252F25B20>()>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000026252F25B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000026252F25B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000026252F25B20>()>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ GroupRequestEvent(time=1618150277, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000026252F25310>
          │            └ <Matcher from group_invite, type=request, priority=1, temp=False>
          └ <function _run_matcher at 0x000002622FED64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ GroupRequestEvent(time=1618150277, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000026252F25310>
          │       └ <function Matcher.run at 0x000002622FBB3820>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │    │           │        │    └ GroupRequestEvent(time=1618150277, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000026252F25310>
          │    │           └ <function handle_group_invite at 0x0000026252238310>
          │    └ <function Matcher.run_handler at 0x000002622FBB3790>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function handle_group_invite at 0x0000026252238310>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_invite.py", line 11, in handle_group_invite
    await event.approve()
          │     └ <function GroupRequestEvent.approve at 0x000002622FC194C0>
          └ GroupRequestEvent(time=1618150277, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...

TypeError: approve() missing 1 required positional argument: 'bot'
2021-04-11 22:11:17.513 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message 823407278 from 1351495774 "[CQ:xml,data=<?xml version='1.0' encoding='UTF-8' standalone='yes' ?><msg serviceID="128" templateID="12345" action="native" brief="&#91;链接&#93;邀请你加入群聊" sourceMsgId="0" url=""><item layout="2"><picture cover=""/><title>邀请你加入群聊</title><summary /></item><data groupcode="1128254624" groupname="鲑鱼烧的后花园" msgseq="1618150275854420" msgtype="2"/></msg>,resid=128]"
2021-04-11 22:13:04.141 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 22:13:04.141 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 22:13:04.142 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 22:13:04.625 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 22:13:04.626 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 22:13:04.709 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 22:13:04.710 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 22:13:04.710 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "feedback"
2021-04-11 22:13:04.712 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "group_invite"
2021-04-11 22:13:04.715 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 22:13:04.715 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 22:13:04.800 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 22:13:04.802 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 22:13:04.853 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 22:13:04.854 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 22:13:04.855 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 22:13:04.858 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 22:13:04.861 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 22:13:04.862 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 22:13:04.918 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 22:13:04.918 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 22:13:04.920 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 22:13:04.920 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 22:13:04.941 | INFO     | uvicorn:serve:405 - Started server process [11112]
2021-04-11 22:13:04.941 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 22:13:04.943 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 22:13:04.943 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 22:13:04.943 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 22:15:01.544 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 22:15:02.342 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 22:15:02.416 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 22:15:02.416 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 22:15:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 22:15:25.625 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 22:15:25.627 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 22:18:15.459 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 22:18:15.460 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 22:18:15.460 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 22:18:15.950 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 22:18:15.951 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 22:18:16.035 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 22:18:16.036 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 22:18:16.036 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "feedback"
2021-04-11 22:18:16.038 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "group_invite"
2021-04-11 22:18:16.040 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 22:18:16.042 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 22:18:16.128 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 22:18:16.131 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 22:18:16.181 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 22:18:16.183 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 22:18:16.183 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 22:18:16.186 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 22:18:16.189 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 22:18:16.190 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 22:18:16.246 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 22:18:16.247 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 22:18:16.249 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 22:18:16.249 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 22:18:16.271 | INFO     | uvicorn:serve:405 - Started server process [12520]
2021-04-11 22:18:16.271 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 22:18:16.273 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 22:18:16.273 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 22:18:16.273 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 22:20:18.524 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 22:20:19.177 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 22:20:19.258 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 22:20:19.258 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 22:20:25.000 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 22:20:25.458 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 22:20:25.461 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 22:20:27.858 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 58272) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 22:20:27.859 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 22:20:28.074 | ERROR    | nonebot:receive:285 - WebSocket disconnected by peer.
2021-04-11 22:20:28.076 | ERROR    | alert:disconnect:23 - WebSocket连接已断开
2021-04-11 22:20:31.076 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 58275) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 22:20:31.077 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 22:20:57.867 | ERROR    | nonebot:_run_hook:166 - Error when running WebSocketConnection hook. Running cancelled!
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000138C7F088B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000138C7B3DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000138C5319AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000138EA2227C0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000138C7B450A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000138EA09D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000138EA0C34C0>
    └ <uvicorn.main.Server object at 0x00000138EAE88640>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000138EA0C3550>
    │    │                  └ <uvicorn.main.Server object at 0x00000138EAE88640>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000138C7A09700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000138C7A09670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000138C7A0B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000138C79AB310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000138EAF57430>(<_GatheringFu...call timeout>>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000138EAF57430>(<_GatheringFu...call timeout>>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000138EAF57430>(<_GatheringFu...call timeout>>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000138EAF57430>(<_GatheringFu...call timeout>>)>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\__init__.py", line 164, in _run_hook
    await asyncio.gather(*coros)
          │       │       └ [<coroutine object connect at 0x00000138EAFDF440>]
          │       └ <function gather at 0x00000138C79FE9D0>
          └ <module 'asyncio' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\asyncio\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\alert.py", line 14, in connect
    await bot.send_private_msg(user_id=feed_back, message='ただいま戻りました、主さま')
          │                            └ 1351495774
          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000138EAF57910>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 368, in call_api
    return _handle_api_result(await ResultStore.fetch(
           │                        │           └ <classmethod object at 0x00000138C7C42A60>
           │                        └ <class 'nonebot.adapters.cqhttp.bot.ResultStore'>
           └ <function _handle_api_result at 0x00000138C7EE6B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 212, in fetch
    raise NetworkError("WebSocket API call timeout") from None
          └ <class 'nonebot.adapters.cqhttp.exception.NetworkError'>

nonebot.adapters.cqhttp.exception.NetworkError: <NetWorkError message=WebSocket API call timeout>
2021-04-11 22:21:07.558 | ERROR    | nonebot:receive:285 - WebSocket disconnected by peer.
2021-04-11 22:21:07.559 | ERROR    | alert:disconnect:23 - WebSocket连接已断开
2021-04-11 22:21:39.728 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 58318) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 22:21:39.728 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 22:21:56.961 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_increase.approve]: {'time': 1618150916, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_increase', 'sub_type': 'approve', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 0}
2021-04-11 22:21:56.962 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:21:56.963 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:21:56.963 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:21:56.964 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:21:57.002 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [request.group.invite]: {'time': 1618150917, 'self_id': 3235657949, 'post_type': 'request', 'request_type': 'group', 'sub_type': 'invite', 'group_id': 1128254624, 'user_id': 3224889915, 'comment': '', 'flag': '1618150915291682'}
2021-04-11 22:21:57.002 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from group_invite, type=request, priority=1, temp=False>
2021-04-11 22:21:57.003 | INFO     | nonebot:run:561 - Matcher <Matcher from group_invite, type=request, priority=1, temp=False> running complete
2021-04-11 22:21:57.003 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_invite, type=request, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000138C7F088B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000138C7B3DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000138C5319AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000138EA2227C0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000138C7B450A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000138EA09D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000138EA0C34C0>
    └ <uvicorn.main.Server object at 0x00000138EAE88640>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000138EA0C3550>
    │    │                  └ <uvicorn.main.Server object at 0x00000138EAE88640>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000138C7A09700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000138C7A09670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000138C7A0B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000138C79AB310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000138EB022460>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000138EB022460>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000138EB022460>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000138EB022460>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ GroupRequestEvent(time=1618150917, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000138EAF32B80>
          │            └ <Matcher from group_invite, type=request, priority=1, temp=False>
          └ <function _run_matcher at 0x00000138C7EE64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ GroupRequestEvent(time=1618150917, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000138EAF32B80>
          │       └ <function Matcher.run at 0x00000138C7BC3820>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │    │           │        │    └ GroupRequestEvent(time=1618150917, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000138EAF32B80>
          │    │           └ <function handle_group_invite at 0x00000138EA248310>
          │    └ <function Matcher.run_handler at 0x00000138C7BC3790>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function handle_group_invite at 0x00000138EA248310>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_invite.py", line 11, in handle_group_invite
    await bot.reject(reason='邀请入群请联系维护组')
          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000138EAF32B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 368, in call_api
    return _handle_api_result(await ResultStore.fetch(
           │                        │           └ <classmethod object at 0x00000138C7C42A60>
           │                        └ <class 'nonebot.adapters.cqhttp.bot.ResultStore'>
           └ <function _handle_api_result at 0x00000138C7EE6B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 183, in _handle_api_result
    raise ActionFailed(**result)
          │              └ {'data': None, 'echo': {'seq': 6}, 'msg': 'API_NOT_FOUND', 'retcode': 404, 'status': 'failed', 'wording': 'API不存在'}
          └ <class 'nonebot.adapters.cqhttp.exception.ActionFailed'>

nonebot.adapters.cqhttp.exception.ActionFailed: <ActionFailed data=None, echo={'seq': 6}, msg=API_NOT_FOUND, retcode=404, status=failed, wording=API不存在>
2021-04-11 22:21:57.172 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.group.normal]: Message -598806480 from 2842117629@[群:1128254624] "欢迎新大佬加入本群！
※发送help可查看bot相关说明；
※请将群昵称修改为游戏ID；
～もう一度、君と繋がる物語～"
2021-04-11 22:21:57.189 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 22:21:57.201 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 22:21:57.212 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 22:21:57.235 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 22:25:14.163 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 22:25:14.753 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 22:25:14.831 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 22:25:14.832 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 22:25:25.005 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 22:25:26.123 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 22:25:26.125 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 22:28:22.804 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 22:28:22.805 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 22:28:22.805 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 22:28:23.289 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 22:28:23.290 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 22:28:23.372 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 22:28:23.373 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 22:28:23.373 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "feedback"
2021-04-11 22:28:23.376 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "group_invite"
2021-04-11 22:28:23.378 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 22:28:23.379 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 22:28:23.462 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 22:28:23.464 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 22:28:23.516 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 22:28:23.516 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 22:28:23.517 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 22:28:23.520 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 22:28:23.523 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 22:28:23.524 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 22:28:23.579 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 22:28:23.579 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 22:28:23.581 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 22:28:23.581 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 22:28:23.603 | INFO     | uvicorn:serve:405 - Started server process [12208]
2021-04-11 22:28:23.603 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 22:28:23.604 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 22:28:23.605 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 22:28:23.605 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 22:28:23.733 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 58447) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 22:28:23.733 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 22:28:45.754 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_decrease.leave]: {'time': 1618151325, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_decrease', 'sub_type': 'leave', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 3235657949}
2021-04-11 22:28:45.755 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:28:45.756 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:28:45.756 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:28:45.756 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:28:45.779 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_decrease.kick_me]: {'time': 1618151325, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_decrease', 'sub_type': 'kick_me', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 1351495774}
2021-04-11 22:28:45.779 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:28:45.779 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:28:45.780 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:28:45.781 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:29:14.629 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -1360955787 from 3224889915 "一井"
2021-04-11 22:29:14.632 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from gacha, type=message, priority=1, temp=False>
2021-04-11 22:29:14.635 | INFO     | nonebot:run:561 - Matcher <Matcher from gacha, type=message, priority=1, temp=False> running complete
2021-04-11 22:29:18.287 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -1736681450 from 3224889915 "Jp"
2021-04-11 22:29:18.287 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from gacha, type=message, priority=0, temp=True>
2021-04-11 22:29:19.148 | INFO     | nonebot:run:561 - Matcher <Matcher from gacha, type=message, priority=0, temp=True> running complete
2021-04-11 22:29:34.068 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_increase.approve]: {'time': 1618151374, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_increase', 'sub_type': 'approve', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 0}
2021-04-11 22:29:34.069 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:29:34.070 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:29:34.070 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:29:34.071 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:29:34.100 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [request.group.invite]: {'time': 1618151374, 'self_id': 3235657949, 'post_type': 'request', 'request_type': 'group', 'sub_type': 'invite', 'group_id': 1128254624, 'user_id': 3224889915, 'comment': '', 'flag': '1618151372396323'}
2021-04-11 22:29:34.101 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from group_invite, type=request, priority=1, temp=False>
2021-04-11 22:29:34.102 | INFO     | nonebot:run:561 - Matcher <Matcher from group_invite, type=request, priority=1, temp=False> running complete
2021-04-11 22:29:34.230 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.group.normal]: Message 1162322314 from 2842117629@[群:1128254624] "欢迎新大佬加入本群！
※发送help可查看bot相关说明；
※请将群昵称修改为游戏ID；
～もう一度、君と繋がる物語～"
2021-04-11 22:29:34.234 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 22:29:34.234 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 22:29:34.235 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 22:29:34.235 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 22:30:04.390 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 22:30:04.995 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 22:30:05.078 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 22:30:05.079 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 22:30:25.011 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 22:30:25.309 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 22:30:25.311 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 22:35:01.310 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 22:35:01.920 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 22:35:01.996 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 22:35:01.996 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 22:35:18.020 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 22:35:18.021 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 22:35:18.021 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 22:35:18.521 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 22:35:18.522 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 22:35:18.606 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 22:35:18.607 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 22:35:18.608 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "feedback"
2021-04-11 22:35:18.608 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "group_invite"
2021-04-11 22:35:18.610 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 22:35:18.612 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 22:35:18.700 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 22:35:18.703 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 22:35:18.755 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 22:35:18.757 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 22:35:18.758 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 22:35:18.761 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 22:35:18.764 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 22:35:18.765 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 22:35:18.823 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 22:35:18.824 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 22:35:18.825 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 22:35:18.826 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 22:35:18.849 | INFO     | uvicorn:serve:405 - Started server process [10028]
2021-04-11 22:35:18.849 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 22:35:18.851 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 22:35:18.851 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 22:35:18.852 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 22:35:20.734 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 58565) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 22:35:20.734 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 22:35:25.000 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 22:35:25.514 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 22:35:25.516 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 22:35:29.347 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_decrease.kick_me]: {'time': 1618151729, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_decrease', 'sub_type': 'kick_me', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 1351495774}
2021-04-11 22:35:29.348 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:35:29.350 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:35:29.351 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:35:29.352 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:36:08.951 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -277124992 from 3224889915 "帮助"
2021-04-11 22:36:08.954 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from help, type=message, priority=1, temp=False>
2021-04-11 22:36:08.958 | INFO     | nonebot:run:561 - Matcher <Matcher from help, type=message, priority=1, temp=False> running complete
2021-04-11 22:38:31.878 | ERROR    | nonebot:receive:285 - WebSocket disconnected by peer.
2021-04-11 22:38:31.879 | ERROR    | alert:disconnect:23 - WebSocket连接已断开
2021-04-11 22:38:58.746 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 58809) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 22:38:58.746 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 22:39:16.768 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -441932720 from 1351495774 "帮助"
2021-04-11 22:39:16.771 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from help, type=message, priority=1, temp=False>
2021-04-11 22:39:16.776 | INFO     | nonebot:run:561 - Matcher <Matcher from help, type=message, priority=1, temp=False> running complete
2021-04-11 22:39:32.474 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message 301219924 from 3224889915 "[CQ:xml,data=<?xml version="1.0" encoding="utf-8"?>
<msg templateID="-1" action="web" brief="推荐群聊：鲑鱼烧的后花园" serviceID="15" i_actionData="group:1128254624" url="https://jq.qq.com/?_wv=1027&amp;amp;k=fazD1WQZ"><item layout="0" mode="1"><summary>推荐群聊</summary><hr/></item><item layout="2" mode="1"><picture cover="https://p.qlogo.cn/gh/1128254624/1128254624/100"/><title>鲑鱼烧的后花园</title><summary>本群为bot测试群。欢迎功能测试和问题反馈！</summary></item><source/></msg>
,resid=15]https://jq.qq.com/?_wv=1027&amp;k=fazD1WQZ"
2021-04-11 22:40:07.424 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 22:40:08.025 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 22:40:08.085 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 22:40:08.085 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 22:40:25.010 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 22:40:25.347 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 22:40:25.349 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 22:40:38.129 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [request.group.invite]: {'time': 1618152038, 'self_id': 3235657949, 'post_type': 'request', 'request_type': 'group', 'sub_type': 'invite', 'group_id': 1128254624, 'user_id': 1351495774, 'comment': '', 'flag': '1618152036552409'}
2021-04-11 22:40:38.130 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from group_invite, type=request, priority=1, temp=False>
2021-04-11 22:40:38.131 | INFO     | nonebot:run:561 - Matcher <Matcher from group_invite, type=request, priority=1, temp=False> running complete
2021-04-11 22:40:38.131 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_invite, type=request, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000002AAF0D788B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000002AAF09ADA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000002AAEE188AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000002AA930928B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002AAF09B50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000002AA92F0D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000002AA92F334C0>
    └ <uvicorn.main.Server object at 0x000002AA93E49220>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000002AA92F33550>
    │    │                  └ <uvicorn.main.Server object at 0x000002AA93E49220>
    │    └ <function BaseEventLoop.run_until_complete at 0x000002AAF0879700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002AAF0879670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002AAF087B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002AAF081B310>
    └ <Handle <TaskStepMethWrapper object at 0x000002AA93F20550>()>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002AA93F20550>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002AA93F20550>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002AA93F20550>()>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ GroupRequestEvent(time=1618152038, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002AA93EF8B50>
          │            └ <Matcher from group_invite, type=request, priority=1, temp=False>
          └ <function _run_matcher at 0x000002AAF0D564C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ GroupRequestEvent(time=1618152038, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002AA93EF8B50>
          │       └ <function Matcher.run at 0x000002AAF0A33820>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │    │           │        │    └ GroupRequestEvent(time=1618152038, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002AA93EF8B50>
          │    │           └ <function handle_group_invite at 0x000002AA930B7310>
          │    └ <function Matcher.run_handler at 0x000002AAF0A33790>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function handle_group_invite at 0x000002AA930B7310>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_invite.py", line 13, in handle_group_invite
    await group_invite.approve()
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

AttributeError: type object 'Matcher' has no attribute 'approve'
2021-04-11 22:40:38.192 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -356396448 from 1351495774 "[CQ:xml,data=<?xml version='1.0' encoding='UTF-8' standalone='yes' ?><msg serviceID="128" templateID="12345" action="native" brief="&#91;链接&#93;邀请你加入群聊" sourceMsgId="0" url=""><item layout="2"><picture cover=""/><title>邀请你加入群聊</title><summary /></item><data groupcode="1128254624" groupname="鲑鱼烧的后花园" msgseq="1618152036552409" msgtype="2"/></msg>,resid=128]"
2021-04-11 22:42:57.544 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 22:42:57.545 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 22:42:57.545 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 22:42:58.032 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 22:42:58.033 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 22:42:58.198 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 22:42:58.200 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 22:42:58.252 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 22:42:58.253 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 22:42:58.254 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 22:42:58.257 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 22:42:58.260 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 22:42:58.261 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 22:42:58.319 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 22:42:58.320 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 22:42:58.321 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 22:42:58.323 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 22:42:58.324 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 22:42:58.324 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "feedback"
2021-04-11 22:42:58.326 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "group_invite"
2021-04-11 22:42:58.327 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 22:42:58.328 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 22:42:58.328 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 22:42:58.351 | INFO     | uvicorn:serve:405 - Started server process [15128]
2021-04-11 22:42:58.351 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 22:42:58.353 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 22:42:58.353 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 22:42:58.354 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 22:42:59.752 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 58965) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 22:42:59.753 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 22:43:01.758 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [request.group.invite]: {'time': 1618152181, 'self_id': 3235657949, 'post_type': 'request', 'request_type': 'group', 'sub_type': 'invite', 'group_id': 1128254624, 'user_id': 1351495774, 'comment': '', 'flag': '1618152180270741'}
2021-04-11 22:43:01.759 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from group_invite, type=request, priority=1, temp=False>
2021-04-11 22:43:01.760 | INFO     | nonebot:run:561 - Matcher <Matcher from group_invite, type=request, priority=1, temp=False> running complete
2021-04-11 22:43:01.760 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_invite, type=request, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000247418188B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000002474144DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000002473EC09AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x0000024763B32810>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000247414550A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000247639AD790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000247639D34C0>
    └ <uvicorn.main.Server object at 0x0000024764791BB0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000247639D3550>
    │    │                  └ <uvicorn.main.Server object at 0x0000024764791BB0>
    │    └ <function BaseEventLoop.run_until_complete at 0x0000024741319700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024741319670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002474131B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000247412BB310>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002476483DDF0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002476483DDF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002476483DDF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002476483DDF0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ GroupRequestEvent(time=1618152181, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002476483D8B0>
          │            └ <Matcher from group_invite, type=request, priority=1, temp=False>
          └ <function _run_matcher at 0x00000247417F64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ GroupRequestEvent(time=1618152181, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002476483D8B0>
          │       └ <function Matcher.run at 0x00000247414D3820>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │    │           │        │    └ GroupRequestEvent(time=1618152181, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002476483D8B0>
          │    │           └ <function handle_group_invite at 0x0000024764784700>
          │    └ <function Matcher.run_handler at 0x00000247414D3790>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function handle_group_invite at 0x0000024764784700>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_invite.py", line 13, in handle_group_invite
    await bot.approve()
          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002476483D8B0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 368, in call_api
    return _handle_api_result(await ResultStore.fetch(
           │                        │           └ <classmethod object at 0x0000024741552A60>
           │                        └ <class 'nonebot.adapters.cqhttp.bot.ResultStore'>
           └ <function _handle_api_result at 0x00000247417F6B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 183, in _handle_api_result
    raise ActionFailed(**result)
          │              └ {'data': None, 'echo': {'seq': 2}, 'msg': 'API_NOT_FOUND', 'retcode': 404, 'status': 'failed', 'wording': 'API不存在'}
          └ <class 'nonebot.adapters.cqhttp.exception.ActionFailed'>

nonebot.adapters.cqhttp.exception.ActionFailed: <ActionFailed data=None, echo={'seq': 2}, msg=API_NOT_FOUND, retcode=404, status=failed, wording=API不存在>
2021-04-11 22:43:01.933 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message 174983038 from 1351495774 "[CQ:xml,data=<?xml version='1.0' encoding='UTF-8' standalone='yes' ?><msg serviceID="128" templateID="12345" action="native" brief="&#91;链接&#93;邀请你加入群聊" sourceMsgId="0" url=""><item layout="2"><picture cover=""/><title>邀请你加入群聊</title><summary /></item><data groupcode="1128254624" groupname="鲑鱼烧的后花园" msgseq="1618152180270741" msgtype="2"/></msg>,resid=128]"
2021-04-11 22:45:00.086 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 22:45:00.087 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 22:45:00.087 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 22:45:00.568 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 22:45:00.568 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 22:45:00.650 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 22:45:00.651 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 22:45:00.651 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "feedback"
2021-04-11 22:45:00.653 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "group_invite"
2021-04-11 22:45:00.655 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 22:45:00.657 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 22:45:00.741 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 22:45:00.743 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 22:45:00.795 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 22:45:00.796 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 22:45:00.797 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 22:45:00.800 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 22:45:00.803 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 22:45:00.804 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 22:45:00.859 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 22:45:00.859 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 22:45:00.861 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 22:45:00.862 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 22:45:00.882 | INFO     | uvicorn:serve:405 - Started server process [14104]
2021-04-11 22:45:00.882 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 22:45:00.884 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 22:45:00.884 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 22:45:00.884 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 22:45:03.751 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 59040) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 22:45:03.752 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 22:45:06.040 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [request.group.invite]: {'time': 1618152306, 'self_id': 3235657949, 'post_type': 'request', 'request_type': 'group', 'sub_type': 'invite', 'group_id': 1128254624, 'user_id': 1351495774, 'comment': '', 'flag': '1618152304295650'}
2021-04-11 22:45:06.041 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from group_invite, type=request, priority=1, temp=False>
2021-04-11 22:45:06.041 | INFO     | nonebot:run:561 - Matcher <Matcher from group_invite, type=request, priority=1, temp=False> running complete
2021-04-11 22:45:06.042 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_invite, type=request, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001B2EB8E88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001B2EB51DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001B2E8CB9AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000001B28DC01900>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001B2EB5250A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001B28DA7D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000001B28DAA34C0>
    └ <uvicorn.main.Server object at 0x000001B28E9B63A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000001B28DAA3550>
    │    │                  └ <uvicorn.main.Server object at 0x000001B28E9B63A0>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001B2EB3E9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B2EB3E9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B2EB3EB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B2EB38B310>
    └ <Handle <TaskStepMethWrapper object at 0x000001B28EA66310>()>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B28EA66310>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B28EA66310>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B28EA66310>()>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ GroupRequestEvent(time=1618152306, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001B28EA663A0>
          │            └ <Matcher from group_invite, type=request, priority=1, temp=False>
          └ <function _run_matcher at 0x000001B2EB8C64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ GroupRequestEvent(time=1618152306, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001B28EA663A0>
          │       └ <function Matcher.run at 0x000001B2EB5A4820>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │    │           │        │    └ GroupRequestEvent(time=1618152306, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001B28EA663A0>
          │    │           └ <function handle_group_invite at 0x000001B28DC27310>
          │    └ <function Matcher.run_handler at 0x000001B2EB5A4790>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function handle_group_invite at 0x000001B28DC27310>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_invite.py", line 13, in handle_group_invite
    await event.approve()
          │     └ <function GroupRequestEvent.approve at 0x000001B2EB60A4C0>
          └ GroupRequestEvent(time=1618152306, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...

TypeError: approve() missing 1 required positional argument: 'bot'
2021-04-11 22:45:06.074 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message 120047884 from 1351495774 "[CQ:xml,data=<?xml version='1.0' encoding='UTF-8' standalone='yes' ?><msg serviceID="128" templateID="12345" action="native" brief="&#91;链接&#93;邀请你加入群聊" sourceMsgId="0" url=""><item layout="2"><picture cover=""/><title>邀请你加入群聊</title><summary /></item><data groupcode="1128254624" groupname="鲑鱼烧的后花园" msgseq="1618152304295650" msgtype="2"/></msg>,resid=128]"
2021-04-11 22:45:25.002 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 22:45:25.474 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 22:45:25.476 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 22:46:04.025 | INFO     | salmon:<module>:15 - Succeeded to load config of "priconne"
2021-04-11 22:46:04.026 | WARNING  | salmon:<module>:17 - Not found config of "fal"
2021-04-11 22:46:04.026 | WARNING  | salmon:<module>:17 - Not found config of "botmanage"
2021-04-11 22:46:04.510 | INFO     | nonebot:init:174 - NoneBot is initializing...
2021-04-11 22:46:04.511 | INFO     | nonebot:init:176 - Current Env: dev
2021-04-11 22:46:04.675 | WARNING  | arena:<module>:40 - arena_db.json not found, will create when needed.
2021-04-11 22:46:04.677 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena"
2021-04-11 22:46:04.726 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "arena_reminder"
2021-04-11 22:46:04.728 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "cherugo"
2021-04-11 22:46:04.728 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "comic"
2021-04-11 22:46:04.731 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "gacha"
2021-04-11 22:46:04.734 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "games"
2021-04-11 22:46:04.734 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "login_bonus"
2021-04-11 22:46:04.790 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "news"
2021-04-11 22:46:04.791 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "pool"
2021-04-11 22:46:04.792 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "query"
2021-04-11 22:46:04.793 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "alert"
2021-04-11 22:46:04.794 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "broadcast"
2021-04-11 22:46:04.795 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "feedback"
2021-04-11 22:46:04.796 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "group_invite"
2021-04-11 22:46:04.797 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "help"
2021-04-11 22:46:04.799 | INFO     | nonebot:_load_plugin:1034 - Succeeded to import "service_manage"
2021-04-11 22:46:04.799 | INFO     | nonebot:run:218 - Running NoneBot...
2021-04-11 22:46:04.819 | INFO     | uvicorn:serve:405 - Started server process [3820]
2021-04-11 22:46:04.820 | INFO     | uvicorn:startup:22 - Waiting for application startup.
2021-04-11 22:46:04.821 | INFO     | nonebot_plugin_apscheduler:_start_scheduler:21 - Scheduler Started
2021-04-11 22:46:04.821 | INFO     | uvicorn:startup:34 - Application startup complete.
2021-04-11 22:46:04.822 | INFO     | uvicorn:startup:492 - Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
2021-04-11 22:46:07.751 | INFO     | uvicorn:asgi_send:182 - ('127.0.0.1', 59092) - "WebSocket /cqhttp/ws" [accepted]
2021-04-11 22:46:07.751 | INFO     | nonebot:_handle_ws_reverse:234 - WebSocket Connection from CQHTTP Bot 3235657949 Accepted!
2021-04-11 22:46:09.418 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [request.group.invite]: {'time': 1618152369, 'self_id': 3235657949, 'post_type': 'request', 'request_type': 'group', 'sub_type': 'invite', 'group_id': 1128254624, 'user_id': 1351495774, 'comment': '', 'flag': '1618152367912017'}
2021-04-11 22:46:09.419 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from group_invite, type=request, priority=1, temp=False>
2021-04-11 22:46:09.518 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.private.friend]: Message -411537481 from 1351495774 "[CQ:xml,data=<?xml version='1.0' encoding='UTF-8' standalone='yes' ?><msg serviceID="128" templateID="12345" action="native" brief="&#91;链接&#93;邀请你加入群聊" sourceMsgId="0" url=""><item layout="2"><picture cover=""/><title>邀请你加入群聊</title><summary /></item><data groupcode="1128254624" groupname="鲑鱼烧的后花园" msgseq="1618152367912017" msgtype="2"/></msg>,resid=128]"
2021-04-11 22:46:09.620 | INFO     | nonebot:run:561 - Matcher <Matcher from group_invite, type=request, priority=1, temp=False> running complete
2021-04-11 22:46:09.977 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [notice.group_increase.approve]: {'time': 1618152369, 'self_id': 3235657949, 'post_type': 'notice', 'notice_type': 'group_increase', 'sub_type': 'approve', 'user_id': 3235657949, 'group_id': 1128254624, 'operator_id': 0}
2021-04-11 22:46:09.978 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:46:09.979 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:46:09.979 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from alert, type=notice, priority=1, temp=False>
2021-04-11 22:46:09.980 | INFO     | nonebot:run:561 - Matcher <Matcher from alert, type=notice, priority=1, temp=False> running complete
2021-04-11 22:46:10.177 | INFO     | nonebot:handle_event:202 - CQHTTP 3235657949 | [message.group.normal]: Message -1560310643 from 2842117629@[群:1128254624] "欢迎新大佬加入本群！
※发送help可查看bot相关说明；
※请将群昵称修改为游戏ID；
～もう一度、君と繋がる物語～"
2021-04-11 22:46:10.181 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 22:46:10.181 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 22:46:10.182 | INFO     | nonebot:_run_matcher:131 - Event will be handled by <Matcher from games, type=message, priority=1, temp=False>
2021-04-11 22:46:10.182 | INFO     | nonebot:run:561 - Matcher <Matcher from games, type=message, priority=1, temp=False> running complete
2021-04-11 22:50:12.146 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 22:50:12.784 | INFO     | news:news_poller:86 - 台服官网新闻缓存为空，已加载至最新
2021-04-11 22:50:12.879 | INFO     | news:news_poller:86 - B服官网新闻缓存为空，已加载至最新
2021-04-11 22:50:12.879 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 22:50:25.006 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 22:50:25.430 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 22:50:25.432 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 22:55:15.480 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 22:55:16.138 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 22:55:16.218 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 22:55:16.218 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 22:55:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 22:55:25.453 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 22:55:25.455 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 23:00:01.111 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 23:00:01.951 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 23:00:02.028 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 23:00:02.029 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 23:00:25.007 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 23:00:25.438 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 23:00:25.441 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 23:05:06.838 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 23:05:07.507 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 23:05:07.580 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 23:05:07.581 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 23:05:25.000 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 23:05:25.599 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 23:05:25.601 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 23:10:07.580 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 23:10:08.188 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 23:10:08.347 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 23:10:08.347 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 23:10:25.008 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 23:10:25.347 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 23:10:25.349 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 23:15:13.269 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 23:15:13.833 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 23:15:13.919 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 23:15:13.920 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 23:15:25.007 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 23:15:25.429 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 23:15:25.431 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 23:20:04.196 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 23:20:04.734 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 23:20:04.811 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 23:20:04.811 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 23:20:25.000 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 23:20:25.316 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 23:20:25.319 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 23:25:16.016 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 23:25:16.725 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 23:25:16.787 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 23:25:16.787 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 23:25:25.010 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 23:25:25.338 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 23:25:25.340 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 23:30:05.449 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 23:30:06.135 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 23:30:06.222 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 23:30:06.223 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 23:30:25.000 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 23:30:25.341 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 23:30:25.343 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 23:35:02.949 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 23:35:03.628 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 23:35:03.703 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 23:35:03.703 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 23:35:25.000 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 23:35:25.490 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 23:35:25.492 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 23:40:12.116 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 23:40:12.759 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 23:40:12.848 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 23:40:12.848 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 23:40:25.002 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 23:40:25.475 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 23:40:25.478 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 23:45:05.032 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 23:45:05.714 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 23:45:05.803 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 23:45:05.803 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 23:45:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 23:45:25.340 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 23:45:25.342 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 23:50:10.253 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 23:50:10.894 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 23:50:10.990 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 23:50:10.990 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 23:50:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 23:50:25.568 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 23:50:25.570 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-11 23:55:10.827 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-11 23:55:11.474 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-11 23:55:11.555 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-11 23:55:11.556 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-11 23:55:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-11 23:55:25.432 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-11 23:55:25.434 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-12 00:00:06.541 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-12 00:00:07.079 | INFO     | news:news_poller:90 - 未检索到台服官网新闻更新
2021-04-12 00:00:07.171 | INFO     | news:news_poller:90 - 未检索到B服官网新闻更新
2021-04-12 00:00:07.172 | INFO     | salmon:wrapper:17 - Scheduled job pcr_news_poller completed.
2021-04-12 00:00:25.001 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-12 00:00:25.432 | INFO     | comic:update_seeker:120 - 未检测到官漫更新
2021-04-12 00:00:25.434 | INFO     | salmon:wrapper:17 - Scheduled job update_seeker completed.
2021-04-12 00:03:07.194 | ERROR    | nonebot:receive:285 - WebSocket disconnected by peer.
2021-04-12 00:03:07.197 | ERROR    | alert:disconnect:23 - WebSocket连接已断开
2021-04-12 00:05:06.651 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-12 00:05:06.696 | ERROR    | salmon:wrapper:20 - <class 'httpx.RemoteProtocolError'> occured when doing scheduled job pcr_news_poller.
2021-04-12 00:05:06.696 | ERROR    | salmon:wrapper:21 - can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D17C5A30>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000192AE44ACA0>
                     └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 106, in arequest
    return await self.connection.arequest(method, url, headers, stream, ext)
                 │    │          │        │       │    │        │       └ {'timeout': {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}}
                 │    │          │        │       │    │        └ <httpx._content.PlainByteStream object at 0x00000192D17C5F10>
                 │    │          │        │       │    └ [(b'Host', b'www.princessconnect.so-net.tw'), (b'Accept', b'*/*'), (b'Accept-Encoding', b'gzip, deflate'), (b'Connection', b'...
                 │    │          │        │       └ (b'http', b'www.princessconnect.so-net.tw', None, b'/news/')
                 │    │          │        └ b'GET'
                 │    │          └ <function AsyncHTTP11Connection.arequest at 0x00000192AE44A430>
                 │    └ <AsyncHTTP11Connection state=2>
                 └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 72, in arequest
    ) = await self._receive_response(timeout)
              │    │                 └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
              │    └ <function AsyncHTTP11Connection._receive_response at 0x00000192AE44A700>
              └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 133, in _receive_response
    event = await self._receive_event(timeout)
                  │    │              └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
                  │    └ <function AsyncHTTP11Connection._receive_event at 0x00000192AE44A820>
                  └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 169, in _receive_event
    event = self.h11_state.next_event()
            │    │         └ <function Connection.next_event at 0x00000192AE4443A0>
            │    └ <h11._connection.Connection object at 0x00000192D1836460>
            └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D184FD00>
    │    │   │     │     └ RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE")
    │    │   │     └ <class 'h11._util.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D18946D0>
    └ <contextlib._GeneratorContextManager object at 0x00000192D1822670>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.RemoteProtocolError'>

httpcore.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000192AE6688B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000192AE29DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000192ABA68AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000192D09818B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000192AE2A50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000192D07FE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000192D08234C0>
    └ <uvicorn.main.Server object at 0x00000192D15E38E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000192D0823550>
    │    │                  └ <uvicorn.main.Server object at 0x00000192D15E38E0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000192AE169700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000192AE169670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000192AE16B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000192AE109310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D1836640>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000192D1836640>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000192D1836640>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D1836640>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x00000192D14FD1F0>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 98, in pcr_news_poller
    await news_poller(SonetSpider, svtw, '台服官网')
          │           │            └ <salmon.service.Service object at 0x00000192D130A220>
          │           └ <class 'news.SonetSpider'>
          └ <function news_poller at 0x00000192D135A430>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 88, in news_poller
    news = await spider.get_update()
                 │      └ <classmethod object at 0x00000192D1301070>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x00000192D103F700>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │        │   └ <class 'news.SonetSpider'>
                 │        └ <function get at 0x00000192D09BBB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │      └ <function AsyncClient.get at 0x00000192AE64C3A0>
                 └ <httpx.AsyncClient object at 0x00000192D180FEE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000192AE64C0D0>
                 └ <httpx.AsyncClient object at 0x00000192D180FEE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000192AE64C160>
                     └ <httpx.AsyncClient object at 0x00000192D180FEE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000192AE64C1F0>
                     └ <httpx.AsyncClient object at 0x00000192D180FEE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000192AE64C280>
                     └ <httpx.AsyncClient object at 0x00000192D180FEE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>
                     │    └ <function AsyncClient._send_single_request at 0x00000192AE64C310>
                     └ <httpx.AsyncClient object at 0x00000192D180FEE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D17C5A30>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D184FB80>
    │    │   │     │     └ RemoteProtocolError(RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"))
    │    │   │     └ <class 'httpcore.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D18DC660>
    └ <contextlib._GeneratorContextManager object at 0x00000192D17C5D60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>}
          │          └ "can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"
          └ <class 'httpx.RemoteProtocolError'>

httpx.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
2021-04-12 00:05:25.000 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-12 00:05:35.018 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectTimeout'> occured when doing scheduled job update_seeker.
2021-04-12 00:05:35.019 | ERROR    | salmon:wrapper:21 - 
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D1729E80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000192AE44ACA0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 10, 'read': 10, 'write': 10, 'pool': 10}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x00000192AE44AD30>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x00000192AE40AF70>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x00000192D1729CA0>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x00000192AE3F5EF0>
                 └ <httpcore._backends.auto.AutoBackend object at 0x00000192D1729CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D1980440>
    │    │   │     │     └ TimeoutError()
    │    │   │     └ <class 'asyncio.exceptions.TimeoutError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D195DAC0>
    └ <contextlib._GeneratorContextManager object at 0x00000192D172D5B0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectTimeout'>

httpcore.ConnectTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000192AE6688B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000192AE29DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000192ABA68AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000192D09818B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000192AE2A50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000192D07FE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000192D08234C0>
    └ <uvicorn.main.Server object at 0x00000192D15E38E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000192D0823550>
    │    │                  └ <uvicorn.main.Server object at 0x00000192D15E38E0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000192AE169700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000192AE169670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000192AE16B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000192AE109310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D172D3D0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000192D172D3D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000192D172D3D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D172D3D0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=官漫更新 name=update_seeker)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=官漫更新 name=update_seeker)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=官漫更新 name=update_seeker)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function update_seeker at 0x00000192D1327280>

  File "C:\bot\SalmonBot\salmon\modules\priconne\comic.py", line 108, in update_seeker
    resp = await aiohttpx.get(index_api, timeout=10)
                 │        │   └ 'https://comic.priconne-redive.jp/api/index'
                 │        └ <function get at 0x00000192D09BBB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {'timeout': 10}
                 │      │   │     └ ()
                 │      │   └ 'https://comic.priconne-redive.jp/api/index'
                 │      └ <function AsyncClient.get at 0x00000192AE64C3A0>
                 └ <httpx.AsyncClient object at 0x00000192D172F520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000192AE64C0D0>
                 └ <httpx.AsyncClient object at 0x00000192D172F520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000192AE64C160>
                     └ <httpx.AsyncClient object at 0x00000192D172F520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000192AE64C1F0>
                     └ <httpx.AsyncClient object at 0x00000192D172F520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000192AE64C280>
                     └ <httpx.AsyncClient object at 0x00000192D172F520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=10)
                     │    │                    └ <Request('GET', 'https://comic.priconne-redive.jp/api/index')>
                     │    └ <function AsyncClient._send_single_request at 0x00000192AE64C310>
                     └ <httpx.AsyncClient object at 0x00000192D172F520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D1729E80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D19805C0>
    │    │   │     │     └ ConnectTimeout(TimeoutError())
    │    │   │     └ <class 'httpcore.ConnectTimeout'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D1894970>
    └ <contextlib._GeneratorContextManager object at 0x00000192D174F7F0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'https://comic.priconne-redive.jp/api/index')>}
          │          └ ''
          └ <class 'httpx.ConnectTimeout'>

httpx.ConnectTimeout
2021-04-12 00:10:13.847 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-12 00:10:13.890 | ERROR    | salmon:wrapper:20 - <class 'httpx.RemoteProtocolError'> occured when doing scheduled job pcr_news_poller.
2021-04-12 00:10:13.891 | ERROR    | salmon:wrapper:21 - can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D19CC340>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000192AE44ACA0>
                     └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 106, in arequest
    return await self.connection.arequest(method, url, headers, stream, ext)
                 │    │          │        │       │    │        │       └ {'timeout': {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}}
                 │    │          │        │       │    │        └ <httpx._content.PlainByteStream object at 0x00000192D19CC4F0>
                 │    │          │        │       │    └ [(b'Host', b'www.princessconnect.so-net.tw'), (b'Accept', b'*/*'), (b'Accept-Encoding', b'gzip, deflate'), (b'Connection', b'...
                 │    │          │        │       └ (b'http', b'www.princessconnect.so-net.tw', None, b'/news/')
                 │    │          │        └ b'GET'
                 │    │          └ <function AsyncHTTP11Connection.arequest at 0x00000192AE44A430>
                 │    └ <AsyncHTTP11Connection state=2>
                 └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 72, in arequest
    ) = await self._receive_response(timeout)
              │    │                 └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
              │    └ <function AsyncHTTP11Connection._receive_response at 0x00000192AE44A700>
              └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 133, in _receive_response
    event = await self._receive_event(timeout)
                  │    │              └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
                  │    └ <function AsyncHTTP11Connection._receive_event at 0x00000192AE44A820>
                  └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 169, in _receive_event
    event = self.h11_state.next_event()
            │    │         └ <function Connection.next_event at 0x00000192AE4443A0>
            │    └ <h11._connection.Connection object at 0x00000192D19CCD30>
            └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D19CBE40>
    │    │   │     │     └ RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE")
    │    │   │     └ <class 'h11._util.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D195DC10>
    └ <contextlib._GeneratorContextManager object at 0x00000192D19CCE80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.RemoteProtocolError'>

httpcore.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000192AE6688B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000192AE29DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000192ABA68AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000192D09818B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000192AE2A50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000192D07FE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000192D08234C0>
    └ <uvicorn.main.Server object at 0x00000192D15E38E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000192D0823550>
    │    │                  └ <uvicorn.main.Server object at 0x00000192D15E38E0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000192AE169700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000192AE169670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000192AE16B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000192AE109310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D19CCA90>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000192D19CCA90>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000192D19CCA90>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D19CCA90>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x00000192D14FD1F0>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 98, in pcr_news_poller
    await news_poller(SonetSpider, svtw, '台服官网')
          │           │            └ <salmon.service.Service object at 0x00000192D130A220>
          │           └ <class 'news.SonetSpider'>
          └ <function news_poller at 0x00000192D135A430>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 88, in news_poller
    news = await spider.get_update()
                 │      └ <classmethod object at 0x00000192D1301070>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x00000192D103F700>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │        │   └ <class 'news.SonetSpider'>
                 │        └ <function get at 0x00000192D09BBB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │      └ <function AsyncClient.get at 0x00000192AE64C3A0>
                 └ <httpx.AsyncClient object at 0x00000192D172D130>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000192AE64C0D0>
                 └ <httpx.AsyncClient object at 0x00000192D172D130>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000192AE64C160>
                     └ <httpx.AsyncClient object at 0x00000192D172D130>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000192AE64C1F0>
                     └ <httpx.AsyncClient object at 0x00000192D172D130>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000192AE64C280>
                     └ <httpx.AsyncClient object at 0x00000192D172D130>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>
                     │    └ <function AsyncClient._send_single_request at 0x00000192AE64C310>
                     └ <httpx.AsyncClient object at 0x00000192D172D130>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D19CC340>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D19D00C0>
    │    │   │     │     └ RemoteProtocolError(RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"))
    │    │   │     └ <class 'httpcore.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D19155F0>
    └ <contextlib._GeneratorContextManager object at 0x00000192D19CC520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>}
          │          └ "can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"
          └ <class 'httpx.RemoteProtocolError'>

httpx.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
2021-04-12 00:10:25.000 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-12 00:10:35.041 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectTimeout'> occured when doing scheduled job update_seeker.
2021-04-12 00:10:35.042 | ERROR    | salmon:wrapper:21 - 
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D172D7F0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000192AE44ACA0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 10, 'read': 10, 'write': 10, 'pool': 10}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x00000192AE44AD30>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x00000192AE40AF70>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x00000192D172D730>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x00000192AE3F5EF0>
                 └ <httpcore._backends.auto.AutoBackend object at 0x00000192D172D730>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D196B300>
    │    │   │     │     └ TimeoutError()
    │    │   │     └ <class 'asyncio.exceptions.TimeoutError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D1894660>
    └ <contextlib._GeneratorContextManager object at 0x00000192D174F6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectTimeout'>

httpcore.ConnectTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000192AE6688B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000192AE29DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000192ABA68AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000192D09818B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000192AE2A50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000192D07FE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000192D08234C0>
    └ <uvicorn.main.Server object at 0x00000192D15E38E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000192D0823550>
    │    │                  └ <uvicorn.main.Server object at 0x00000192D15E38E0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000192AE169700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000192AE169670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000192AE16B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000192AE109310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D172D6D0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000192D172D6D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000192D172D6D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D172D6D0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=官漫更新 name=update_seeker)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=官漫更新 name=update_seeker)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=官漫更新 name=update_seeker)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function update_seeker at 0x00000192D1327280>

  File "C:\bot\SalmonBot\salmon\modules\priconne\comic.py", line 108, in update_seeker
    resp = await aiohttpx.get(index_api, timeout=10)
                 │        │   └ 'https://comic.priconne-redive.jp/api/index'
                 │        └ <function get at 0x00000192D09BBB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {'timeout': 10}
                 │      │   │     └ ()
                 │      │   └ 'https://comic.priconne-redive.jp/api/index'
                 │      └ <function AsyncClient.get at 0x00000192AE64C3A0>
                 └ <httpx.AsyncClient object at 0x00000192D172F6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000192AE64C0D0>
                 └ <httpx.AsyncClient object at 0x00000192D172F6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000192AE64C160>
                     └ <httpx.AsyncClient object at 0x00000192D172F6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000192AE64C1F0>
                     └ <httpx.AsyncClient object at 0x00000192D172F6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000192AE64C280>
                     └ <httpx.AsyncClient object at 0x00000192D172F6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=10)
                     │    │                    └ <Request('GET', 'https://comic.priconne-redive.jp/api/index')>
                     │    └ <function AsyncClient._send_single_request at 0x00000192AE64C310>
                     └ <httpx.AsyncClient object at 0x00000192D172F6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D172D7F0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D196B140>
    │    │   │     │     └ ConnectTimeout(TimeoutError())
    │    │   │     └ <class 'httpcore.ConnectTimeout'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D195DCF0>
    └ <contextlib._GeneratorContextManager object at 0x00000192D1729CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'https://comic.priconne-redive.jp/api/index')>}
          │          └ ''
          └ <class 'httpx.ConnectTimeout'>

httpx.ConnectTimeout
2021-04-12 00:15:09.731 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-12 00:15:09.774 | ERROR    | salmon:wrapper:20 - <class 'httpx.RemoteProtocolError'> occured when doing scheduled job pcr_news_poller.
2021-04-12 00:15:09.775 | ERROR    | salmon:wrapper:21 - can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D19D73A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000192AE44ACA0>
                     └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 106, in arequest
    return await self.connection.arequest(method, url, headers, stream, ext)
                 │    │          │        │       │    │        │       └ {'timeout': {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}}
                 │    │          │        │       │    │        └ <httpx._content.PlainByteStream object at 0x00000192D19D7550>
                 │    │          │        │       │    └ [(b'Host', b'www.princessconnect.so-net.tw'), (b'Accept', b'*/*'), (b'Accept-Encoding', b'gzip, deflate'), (b'Connection', b'...
                 │    │          │        │       └ (b'http', b'www.princessconnect.so-net.tw', None, b'/news/')
                 │    │          │        └ b'GET'
                 │    │          └ <function AsyncHTTP11Connection.arequest at 0x00000192AE44A430>
                 │    └ <AsyncHTTP11Connection state=2>
                 └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 72, in arequest
    ) = await self._receive_response(timeout)
              │    │                 └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
              │    └ <function AsyncHTTP11Connection._receive_response at 0x00000192AE44A700>
              └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 133, in _receive_response
    event = await self._receive_event(timeout)
                  │    │              └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
                  │    └ <function AsyncHTTP11Connection._receive_event at 0x00000192AE44A820>
                  └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 169, in _receive_event
    event = self.h11_state.next_event()
            │    │         └ <function Connection.next_event at 0x00000192AE4443A0>
            │    └ <h11._connection.Connection object at 0x00000192D19D7D90>
            └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D1968E80>
    │    │   │     │     └ RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE")
    │    │   │     └ <class 'h11._util.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D1894A50>
    └ <contextlib._GeneratorContextManager object at 0x00000192D19D7EE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.RemoteProtocolError'>

httpcore.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000192AE6688B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000192AE29DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000192ABA68AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000192D09818B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000192AE2A50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000192D07FE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000192D08234C0>
    └ <uvicorn.main.Server object at 0x00000192D15E38E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000192D0823550>
    │    │                  └ <uvicorn.main.Server object at 0x00000192D15E38E0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000192AE169700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000192AE169670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000192AE16B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000192AE109310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D19D7AF0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000192D19D7AF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000192D19D7AF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D19D7AF0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x00000192D14FD1F0>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 98, in pcr_news_poller
    await news_poller(SonetSpider, svtw, '台服官网')
          │           │            └ <salmon.service.Service object at 0x00000192D130A220>
          │           └ <class 'news.SonetSpider'>
          └ <function news_poller at 0x00000192D135A430>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 88, in news_poller
    news = await spider.get_update()
                 │      └ <classmethod object at 0x00000192D1301070>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x00000192D103F700>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │        │   └ <class 'news.SonetSpider'>
                 │        └ <function get at 0x00000192D09BBB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │      └ <function AsyncClient.get at 0x00000192AE64C3A0>
                 └ <httpx.AsyncClient object at 0x00000192D174FA00>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000192AE64C0D0>
                 └ <httpx.AsyncClient object at 0x00000192D174FA00>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000192AE64C160>
                     └ <httpx.AsyncClient object at 0x00000192D174FA00>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000192AE64C1F0>
                     └ <httpx.AsyncClient object at 0x00000192D174FA00>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000192AE64C280>
                     └ <httpx.AsyncClient object at 0x00000192D174FA00>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>
                     │    └ <function AsyncClient._send_single_request at 0x00000192AE64C310>
                     └ <httpx.AsyncClient object at 0x00000192D174FA00>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D19D73A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D1976100>
    │    │   │     │     └ RemoteProtocolError(RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"))
    │    │   │     └ <class 'httpcore.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D1894820>
    └ <contextlib._GeneratorContextManager object at 0x00000192D19D7580>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>}
          │          └ "can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"
          └ <class 'httpx.RemoteProtocolError'>

httpx.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
2021-04-12 00:15:25.002 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-12 00:15:28.053 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectError'> occured when doing scheduled job update_seeker.
2021-04-12 00:15:28.054 | ERROR    | salmon:wrapper:21 - [SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D196C520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000192AE44ACA0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 10, 'read': 10, 'write': 10, 'pool': 10}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x00000192AE44AD30>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x00000192AE40AF70>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x00000192D196C580>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x00000192AE3F5EF0>
                 └ <httpcore._backends.auto.AutoBackend object at 0x00000192D196C580>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D19F3540>
    │    │   │     │     └ SSLError(1, '[SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)')
    │    │   │     └ <class 'ssl.SSLError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D198BA50>
    └ <contextlib._GeneratorContextManager object at 0x00000192D196CC70>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectError'>

httpcore.ConnectError: [SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000192AE6688B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000192AE29DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000192ABA68AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000192D09818B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000192AE2A50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000192D07FE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000192D08234C0>
    └ <uvicorn.main.Server object at 0x00000192D15E38E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000192D0823550>
    │    │                  └ <uvicorn.main.Server object at 0x00000192D15E38E0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000192AE169700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000192AE169670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000192AE16B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000192AE109310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D196CD00>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000192D196CD00>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000192D196CD00>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D196CD00>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=官漫更新 name=update_seeker)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=官漫更新 name=update_seeker)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=官漫更新 name=update_seeker)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function update_seeker at 0x00000192D1327280>

  File "C:\bot\SalmonBot\salmon\modules\priconne\comic.py", line 108, in update_seeker
    resp = await aiohttpx.get(index_api, timeout=10)
                 │        │   └ 'https://comic.priconne-redive.jp/api/index'
                 │        └ <function get at 0x00000192D09BBB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {'timeout': 10}
                 │      │   │     └ ()
                 │      │   └ 'https://comic.priconne-redive.jp/api/index'
                 │      └ <function AsyncClient.get at 0x00000192AE64C3A0>
                 └ <httpx.AsyncClient object at 0x00000192D18AC0A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000192AE64C0D0>
                 └ <httpx.AsyncClient object at 0x00000192D18AC0A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000192AE64C160>
                     └ <httpx.AsyncClient object at 0x00000192D18AC0A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000192AE64C1F0>
                     └ <httpx.AsyncClient object at 0x00000192D18AC0A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000192AE64C280>
                     └ <httpx.AsyncClient object at 0x00000192D18AC0A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=10)
                     │    │                    └ <Request('GET', 'https://comic.priconne-redive.jp/api/index')>
                     │    └ <function AsyncClient._send_single_request at 0x00000192AE64C310>
                     └ <httpx.AsyncClient object at 0x00000192D18AC0A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D196C520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D1976380>
    │    │   │     │     └ ConnectError(SSLError(1, '[SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)'))
    │    │   │     └ <class 'httpcore.ConnectError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D198BBA0>
    └ <contextlib._GeneratorContextManager object at 0x00000192D196C7C0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'https://comic.priconne-redive.jp/api/index')>}
          │          └ '[SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)'
          └ <class 'httpx.ConnectError'>

httpx.ConnectError: [SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)
2021-04-12 00:20:08.730 | INFO     | salmon:wrapper:15 - Scheduled job pcr_news_poller start.
2021-04-12 00:20:08.774 | ERROR    | salmon:wrapper:20 - <class 'httpx.RemoteProtocolError'> occured when doing scheduled job pcr_news_poller.
2021-04-12 00:20:08.775 | ERROR    | salmon:wrapper:21 - can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D19D7DC0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000192AE44ACA0>
                     └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 106, in arequest
    return await self.connection.arequest(method, url, headers, stream, ext)
                 │    │          │        │       │    │        │       └ {'timeout': {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}}
                 │    │          │        │       │    │        └ <httpx._content.PlainByteStream object at 0x00000192D19D7A60>
                 │    │          │        │       │    └ [(b'Host', b'www.princessconnect.so-net.tw'), (b'Accept', b'*/*'), (b'Accept-Encoding', b'gzip, deflate'), (b'Connection', b'...
                 │    │          │        │       └ (b'http', b'www.princessconnect.so-net.tw', None, b'/news/')
                 │    │          │        └ b'GET'
                 │    │          └ <function AsyncHTTP11Connection.arequest at 0x00000192AE44A430>
                 │    └ <AsyncHTTP11Connection state=2>
                 └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 72, in arequest
    ) = await self._receive_response(timeout)
              │    │                 └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
              │    └ <function AsyncHTTP11Connection._receive_response at 0x00000192AE44A700>
              └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 133, in _receive_response
    event = await self._receive_event(timeout)
                  │    │              └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
                  │    └ <function AsyncHTTP11Connection._receive_event at 0x00000192AE44A820>
                  └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 169, in _receive_event
    event = self.h11_state.next_event()
            │    │         └ <function Connection.next_event at 0x00000192AE4443A0>
            │    └ <h11._connection.Connection object at 0x00000192D1836AF0>
            └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D1A23200>
    │    │   │     │     └ RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE")
    │    │   │     └ <class 'h11._util.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D19F5040>
    └ <contextlib._GeneratorContextManager object at 0x00000192D196CEE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.RemoteProtocolError'>

httpcore.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000192AE6688B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000192AE29DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000192ABA68AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000192D09818B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000192AE2A50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000192D07FE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000192D08234C0>
    └ <uvicorn.main.Server object at 0x00000192D15E38E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000192D0823550>
    │    │                  └ <uvicorn.main.Server object at 0x00000192D15E38E0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000192AE169700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000192AE169670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000192AE16B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000192AE109310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D196CF70>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000192D196CF70>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000192D196CF70>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D196CF70>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x00000192D14FD1F0>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 98, in pcr_news_poller
    await news_poller(SonetSpider, svtw, '台服官网')
          │           │            └ <salmon.service.Service object at 0x00000192D130A220>
          │           └ <class 'news.SonetSpider'>
          └ <function news_poller at 0x00000192D135A430>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 88, in news_poller
    news = await spider.get_update()
                 │      └ <classmethod object at 0x00000192D1301070>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x00000192D103F700>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │        │   └ <class 'news.SonetSpider'>
                 │        └ <function get at 0x00000192D09BBB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │      └ <function AsyncClient.get at 0x00000192AE64C3A0>
                 └ <httpx.AsyncClient object at 0x00000192D19D7610>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000192AE64C0D0>
                 └ <httpx.AsyncClient object at 0x00000192D19D7610>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000192AE64C160>
                     └ <httpx.AsyncClient object at 0x00000192D19D7610>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000192AE64C1F0>
                     └ <httpx.AsyncClient object at 0x00000192D19D7610>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000192AE64C280>
                     └ <httpx.AsyncClient object at 0x00000192D19D7610>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>
                     │    └ <function AsyncClient._send_single_request at 0x00000192AE64C310>
                     └ <httpx.AsyncClient object at 0x00000192D19D7610>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D19D7DC0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D1A23440>
    │    │   │     │     └ RemoteProtocolError(RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"))
    │    │   │     └ <class 'httpcore.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D1A1EF90>
    └ <contextlib._GeneratorContextManager object at 0x00000192D19D79D0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>}
          │          └ "can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"
          └ <class 'httpx.RemoteProtocolError'>

httpx.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
2021-04-12 00:20:25.000 | INFO     | salmon:wrapper:15 - Scheduled job update_seeker start.
2021-04-12 00:20:25.046 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectError'> occured when doing scheduled job update_seeker.
2021-04-12 00:20:25.047 | ERROR    | salmon:wrapper:21 - [SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D1A22580>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000192AE44ACA0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 10, 'read': 10, 'write': 10, 'pool': 10}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x00000192AE44AD30>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x00000192AE40AF70>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x00000192D1A225E0>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x00000192AE3F5EF0>
                 └ <httpcore._backends.auto.AutoBackend object at 0x00000192D1A225E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D1A467C0>
    │    │   │     │     └ SSLError(1, '[SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)')
    │    │   │     └ <class 'ssl.SSLError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D1A45120>
    └ <contextlib._GeneratorContextManager object at 0x00000192D1A22CD0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectError'>

httpcore.ConnectError: [SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000192AE6688B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000192AE29DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000192ABA68AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000192D09818B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000192AE2A50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000192D07FE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000192D08234C0>
    └ <uvicorn.main.Server object at 0x00000192D15E38E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000192D0823550>
    │    │                  └ <uvicorn.main.Server object at 0x00000192D15E38E0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000192AE169700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000192AE169670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000192AE16B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000192AE109310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D1A22D60>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000192D1A22D60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000192D1A22D60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D1A22D60>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=官漫更新 name=update_seeker)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=官漫更新 name=update_seeker)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=官漫更新 name=update_seeker)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function update_seeker at 0x00000192D1327280>

  File "C:\bot\SalmonBot\salmon\modules\priconne\comic.py", line 108, in update_seeker
    resp = await aiohttpx.get(index_api, timeout=10)
                 │        │   └ 'https://comic.priconne-redive.jp/api/index'
                 │        └ <function get at 0x00000192D09BBB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {'timeout': 10}
                 │      │   │     └ ()
                 │      │   └ 'https://comic.priconne-redive.jp/api/index'
                 │      └ <function AsyncClient.get at 0x00000192AE64C3A0>
                 └ <httpx.AsyncClient object at 0x00000192D19D7700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000192AE64C0D0>
                 └ <httpx.AsyncClient object at 0x00000192D19D7700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000192AE64C160>
                     └ <httpx.AsyncClient object at 0x00000192D19D7700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000192AE64C1F0>
                     └ <httpx.AsyncClient object at 0x00000192D19D7700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000192AE64C280>
                     └ <httpx.AsyncClient object at 0x00000192D19D7700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=10)
                     │    │                    └ <Request('GET', 'https://comic.priconne-redive.jp/api/index')>
                     │    └ <function AsyncClient._send_single_request at 0x00000192AE64C310>
                     └ <httpx.AsyncClient object at 0x00000192D19D7700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D1A22580>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D1A46AC0>
    │    │   │     │     └ ConnectError(SSLError(1, '[SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)'))
    │    │   │     └ <class 'httpcore.ConnectError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D198BDD0>
    └ <contextlib._GeneratorContextManager object at 0x00000192D1A22820>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'https://comic.priconne-redive.jp/api/index')>}
          │          └ '[SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)'
          └ <class 'httpx.ConnectError'>

httpx.ConnectError: [SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)
