2021-04-12 19:50:32.342 | ERROR    | nonebot:_load_plugin:1037 - Failed to import "group_leave"
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 4, in <module>
    salmon.init()
    │      └ <function init at 0x0000021F0F2F8790>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 26, in init
    nonebot.load_plugins(os.path.join(os.path.dirname(__file__), 'modules', module_name))
    │       │            │  │    │    │  │    │       │                     └ 'botmanage'
    │       │            │  │    │    │  │    │       └ 'C:\\bot\\SalmonBot\\salmon\\__init__.py'
    │       │            │  │    │    │  │    └ <function dirname at 0x0000021F0C4B8AF0>
    │       │            │  │    │    │  └ <module 'ntpath' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\ntpath.py'>
    │       │            │  │    │    └ <module 'os' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\os.py'>
    │       │            │  │    └ <function join at 0x0000021F0C4B8820>
    │       │            │  └ <module 'ntpath' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\ntpath.py'>
    │       │            └ <module 'os' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\os.py'>
    │       └ <function load_plugins at 0x0000021F0EFB9AF0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 1044, in load_plugins
    result = context.run(_load_plugin, module_info)
             │       │   │             └ ModuleInfo(module_finder=FileFinder('C:\\bot\\SalmonBot\\salmon\\modules\\botmanage'), name='group_leave', ispkg=False)
             │       │   └ <function load_plugins.<locals>._load_plugin at 0x0000021F31468790>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x0000021F31623D00>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 1028, in _load_plugin
    module = _load(spec)
             │     └ ModuleSpec(name='group_leave', loader=<_frozen_importlib_external.SourceFileLoader object at 0x0000021F3162BE80>, origin='C:\...
             └ <function _load at 0x0000021F0C32F040>

  File "<frozen importlib._bootstrap>", line 711, in _load
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 790, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_leave.py", line 8, in <module>
    leave = on_command('quit', aliases={'退群'}, only_group=False)
            └ <function on_command at 0x0000021F0EFB9040>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 436, in on_command
    return on_message(command(*commands) & rule, handlers=handlers, **kwargs)
           │          │        │           │              │           └ {'only_group': False}
           │          │        │           │              └ [<function on_command.<locals>._strip_cmd at 0x0000021F316373A0>]
           │          │        │           └ None
           │          │        └ {'quit', '退群'}
           │          └ <function command at 0x0000021F0EFAA310>
           └ <function on_message at 0x0000021F0EFB3CA0>

TypeError: on_message() got an unexpected keyword argument 'only_group'
2021-04-12 19:50:32.999 | ERROR    | nonebot:_load_plugin:1037 - Failed to import "group_leave"
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x0000021F0F2F88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x0000021F0EF2DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000021F0C728AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x0000021F31611A40>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x0000021F0EF350A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x0000021F3148D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x0000021F314B34C0>
    └ <uvicorn.main.Server object at 0x0000021F3229D4C0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x0000021F314B3550>
    │    │                  └ <uvicorn.main.Server object at 0x0000021F3229D4C0>
    │    └ <function BaseEventLoop.run_until_complete at 0x0000021F0EDF9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000021F0EDF9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000021F0EDFB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000021F0ED9A310>
    └ <Handle <TaskStepMethWrapper object at 0x0000021F3229D400>()>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000021F3229D400>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000021F3229D400>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000021F3229D400>()>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 397, in serve
    config.load()
    │      └ <function Config.load at 0x0000021F31487F70>
    └ <uvicorn.config.Config object at 0x0000021F303A5FD0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\config.py", line 278, in load
    self.loaded_app = import_from_string(self.app)
    │                 │                  │    └ 'run:app'
    │                 │                  └ <uvicorn.config.Config object at 0x0000021F303A5FD0>
    │                 └ <function import_from_string at 0x0000021F31468CA0>
    └ <uvicorn.config.Config object at 0x0000021F303A5FD0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\importer.py", line 20, in import_from_string
    module = importlib.import_module(module_str)
             │         │             └ 'run'
             │         └ <function import_module at 0x0000021F0C4C9F70>
             └ <module 'importlib' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\importlib\\__init__.py'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\importlib\__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           │          │           │    │        │        └ 0
           │          │           │    │        └ None
           │          │           │    └ 0
           │          │           └ 'run'
           │          └ <function _gcd_import at 0x0000021F0C331310>
           └ <module 'importlib._bootstrap' (frozen)>

  File "<frozen importlib._bootstrap>", line 1030, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1007, in _find_and_load
  File "<frozen importlib._bootstrap>", line 986, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 790, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed

  File "C:\bot\SalmonBot\run.py", line 4, in <module>
    salmon.init()
    │      └ <function init at 0x0000021F0F2F8790>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 26, in init
    nonebot.load_plugins(os.path.join(os.path.dirname(__file__), 'modules', module_name))
    │       │            │  │    │    │  │    │       │                     └ 'botmanage'
    │       │            │  │    │    │  │    │       └ 'C:\\bot\\SalmonBot\\salmon\\__init__.py'
    │       │            │  │    │    │  │    └ <function dirname at 0x0000021F0C4B8AF0>
    │       │            │  │    │    │  └ <module 'ntpath' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\ntpath.py'>
    │       │            │  │    │    └ <module 'os' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\os.py'>
    │       │            │  │    └ <function join at 0x0000021F0C4B8820>
    │       │            │  └ <module 'ntpath' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\ntpath.py'>
    │       │            └ <module 'os' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\os.py'>
    │       └ <function load_plugins at 0x0000021F0EFB9AF0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 1044, in load_plugins
    result = context.run(_load_plugin, module_info)
             │       │   │             └ ModuleInfo(module_finder=FileFinder('C:\\bot\\SalmonBot\\salmon\\modules\\botmanage'), name='group_leave', ispkg=False)
             │       │   └ <function load_plugins.<locals>._load_plugin at 0x0000021F32293F70>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x0000021F322B6480>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 1028, in _load_plugin
    module = _load(spec)
             │     └ ModuleSpec(name='group_leave', loader=<_frozen_importlib_external.SourceFileLoader object at 0x0000021F3231F5B0>, origin='C:\...
             └ <function _load at 0x0000021F0C32F040>

  File "<frozen importlib._bootstrap>", line 711, in _load
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 790, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_leave.py", line 8, in <module>
    leave = on_command('quit', aliases={'退群'}, only_group=False)
            └ <function on_command at 0x0000021F0EFB9040>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 436, in on_command
    return on_message(command(*commands) & rule, handlers=handlers, **kwargs)
           │          │        │           │              │           └ {'only_group': False}
           │          │        │           │              └ [<function on_command.<locals>._strip_cmd at 0x0000021F323235E0>]
           │          │        │           └ None
           │          │        └ {'quit', '退群'}
           │          └ <function command at 0x0000021F0EFAA310>
           └ <function on_message at 0x0000021F0EFB3CA0>

TypeError: on_message() got an unexpected keyword argument 'only_group'
2021-04-12 19:53:36.433 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_leave, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000210E16988B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000210E12CDA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000210DEAA9AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000210839B2720>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000210E12D50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000002108382E790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000210838534C0>
    └ <uvicorn.main.Server object at 0x00000210847740D0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x0000021083853550>
    │    │                  └ <uvicorn.main.Server object at 0x00000210847740D0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000210E1199700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000210E1199670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000210E119B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000210E113B310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000210848404F0>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000210848404F0>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000210848404F0>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000210848404F0>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': '退群', 'command': ('退群',)}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618228416, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000210847FCFD0>
          │            └ <Matcher from group_leave, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x00000210E16764C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': '退群', 'command': ('退群',)}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618228416, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000210847FCFD0>
          │       └ <function Matcher.run at 0x00000210E1353820>
          └ <Matcher from group_leave, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': '退群', 'command': ('退群',)}, '_suffix': {'raw_command': None, 'command': None}}
          │    │           │        │    └ PrivateMessageEvent(time=1618228416, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000210847FCFD0>
          │    │           └ <function quit_rec at 0x00000210839D7550>
          │    └ <function Matcher.run_handler at 0x00000210E1353790>
          └ <Matcher from group_leave, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function quit_rec at 0x00000210839D7550>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_leave.py", line 12, in quit_rec
    args = event.current_arg_text.split()
           └ PrivateMessageEvent(time=1618228416, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...

AttributeError: 'PrivateMessageEvent' object has no attribute 'current_arg_text'
2021-04-12 19:56:17.808 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_leave, type=message, priority=0, temp=True> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001E21EAD88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001E21E70DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001E21BEC8AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000001E240DF2810>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001E21E715070>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001E240C6E790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000001E240C934C0>
    └ <uvicorn.main.Server object at 0x000001E241A55820>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000001E240C93550>
    │    │                  └ <uvicorn.main.Server object at 0x000001E241A55820>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001E21E5D9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E21E5D9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E21E5DB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E21E579310>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E241B62EB0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E241B62EB0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E241B62EB0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E241B62EB0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618228577, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001E241B0DB50>
          │            └ <Matcher from group_leave, type=message, priority=0, temp=True>
          └ <function _run_matcher at 0x000001E21EAB64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618228577, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001E241B0DB50>
          │       └ <function Matcher.run at 0x000001E21E793820>
          └ <Matcher from group_leave, type=message, priority=0, temp=True>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}, '_current_key': 'gids'...
          │    │           │        │    └ PrivateMessageEvent(time=1618228577, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001E241B0DB50>
          │    │           └ <function group_quit at 0x000001E241A53B80>
          │    └ <function Matcher.run_handler at 0x000001E21E793790>
          └ <Matcher from group_leave, type=message, priority=0, temp=True>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function group_quit at 0x000001E241A53B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}, '_current_key': 'gids'...
          │       │           │     │    └ PrivateMessageEvent(time=1618228577, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001E241B0DB50>
          │       │           └ <function group_quit at 0x000001E241A53AF0>
          │       └ <function Matcher.run_handler at 0x000001E21E793790>
          └ <Matcher from group_leave, type=message, priority=0, temp=True>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function group_quit at 0x000001E241A53AF0>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_leave.py", line 22, in group_quit
    if not re.fullmatch(r'^\d+$', gids):
           │  │                   └ [1128254624]
           │  └ <function fullmatch at 0x000001E21BEA1AF0>
           └ <module 're' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\re.py'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\re.py", line 196, in fullmatch
    return _compile(pattern, flags).fullmatch(string)
           │        │        │                └ [1128254624]
           │        │        └ 0
           │        └ '^\\d+$'
           └ <function _compile at 0x000001E21BEA2160>

TypeError: expected string or bytes-like object
2021-04-12 20:04:04.168 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_leave, type=message, priority=0, temp=True> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001E5590378B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001E558C6DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001E556448AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000001E57B352860>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001E558C750A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001E57B1CD790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000001E57B1F34C0>
    └ <uvicorn.main.Server object at 0x000001E57BFC40D0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000001E57B1F3550>
    │    │                  └ <uvicorn.main.Server object at 0x000001E57BFC40D0>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001E558B39700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E558B39670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E558B3B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E558ADA310>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E57C06C400>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E57C06C400>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E57C06C400>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E57C06C400>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618229044, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001E57C04CFD0>
          │            └ <Matcher from group_leave, type=message, priority=0, temp=True>
          └ <function _run_matcher at 0x000001E5590164C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618229044, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001E57C04CFD0>
          │       └ <function Matcher.run at 0x000001E558CF3820>
          └ <Matcher from group_leave, type=message, priority=0, temp=True>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}, '_current_key': 'gids'...
          │    │           │        │    └ PrivateMessageEvent(time=1618229044, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001E57C04CFD0>
          │    │           └ <function group_quit at 0x000001E57B377790>
          │    └ <function Matcher.run_handler at 0x000001E558CF3790>
          └ <Matcher from group_leave, type=message, priority=0, temp=True>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function group_quit at 0x000001E57B377790>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}, '_current_key': 'gids'...
          │       │           │     │    └ PrivateMessageEvent(time=1618229044, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001E57C04CFD0>
          │       │           └ <function group_quit at 0x000001E57B377700>
          │       └ <function Matcher.run_handler at 0x000001E558CF3790>
          └ <Matcher from group_leave, type=message, priority=0, temp=True>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function group_quit at 0x000001E57B377700>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_leave.py", line 32, in group_quit
    await bot.send(msg)
          │   │    └ '已尝试退出1个群'
          │   └ <function Bot.send at 0x000001E55902B280>
          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001E57C04CFD0>

TypeError: send() missing 1 required positional argument: 'message'
2021-04-12 20:04:04.284 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_leave, type=message, priority=0, temp=True> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001E5590378B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001E558C6DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001E556448AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000001E57B352860>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001E558C750A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001E57B1CD790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000001E57B1F34C0>
    └ <uvicorn.main.Server object at 0x000001E57BFC40D0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000001E57B1F3550>
    │    │                  └ <uvicorn.main.Server object at 0x000001E57BFC40D0>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001E558B39700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001E558B39670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E558B3B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E558ADA310>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E57C0BB6A0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001E57C0BB6A0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001E57C0BB6A0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001E57C0BB6A0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618229044, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001E57C04CFD0>
          │            └ <Matcher from group_leave, type=message, priority=0, temp=True>
          └ <function _run_matcher at 0x000001E5590164C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618229044, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001E57C04CFD0>
          │       └ <function Matcher.run at 0x000001E558CF3820>
          └ <Matcher from group_leave, type=message, priority=0, temp=True>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}, '_current_key': 'gids'...
          │    │           │        │    └ PrivateMessageEvent(time=1618229044, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001E57C04CFD0>
          │    │           └ <function group_quit at 0x000001E57B377790>
          │    └ <function Matcher.run_handler at 0x000001E558CF3790>
          └ <Matcher from group_leave, type=message, priority=0, temp=True>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function group_quit at 0x000001E57B377790>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}, '_current_key': 'gids'...
          │       │           │     │    └ PrivateMessageEvent(time=1618229044, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001E57C04CFD0>
          │       │           └ <function group_quit at 0x000001E57B377700>
          │       └ <function Matcher.run_handler at 0x000001E558CF3790>
          └ <Matcher from group_leave, type=message, priority=0, temp=True>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function group_quit at 0x000001E57B377700>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_leave.py", line 32, in group_quit
    await bot.send(msg)
          │   │    └ '已尝试退出1个群'
          │   └ <function Bot.send at 0x000001E55902B280>
          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001E57C04CFD0>

TypeError: send() missing 1 required positional argument: 'message'
2021-04-12 20:09:58.006 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_invite, type=request, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x0000027C082E88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x0000027C07F1DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000027C056E8AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x0000027C2A602770>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x0000027C07F250A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x0000027C2A47D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x0000027C2A4A34C0>
    └ <uvicorn.main.Server object at 0x0000027C2B26BDF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x0000027C2A4A3550>
    │    │                  └ <uvicorn.main.Server object at 0x0000027C2B26BDF0>
    │    └ <function BaseEventLoop.run_until_complete at 0x0000027C07DE9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000027C07DE9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000027C07DEB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000027C07D89310>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000027C2B360910>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000027C2B360910>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000027C2B360910>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000027C2B360910>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ GroupRequestEvent(time=1618229397, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000027C2B30ACA0>
          │            └ <Matcher from group_invite, type=request, priority=1, temp=False>
          └ <function _run_matcher at 0x0000027C082C64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ GroupRequestEvent(time=1618229397, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000027C2B30ACA0>
          │       └ <function Matcher.run at 0x0000027C07FA3820>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │    │           │        │    └ GroupRequestEvent(time=1618229397, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000027C2B30ACA0>
          │    │           └ <function handle_group_invite at 0x0000027C2A627310>
          │    └ <function Matcher.run_handler at 0x0000027C07FA3790>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function handle_group_invite at 0x0000027C2A627310>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_invite.py", line 11, in handle_group_invite
    await event.reject(bot, reason='邀请入群请联系维护组')
          │     │      └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000027C2B30ACA0>
          │     └ <function GroupRequestEvent.reject at 0x0000027C0800A670>
          └ GroupRequestEvent(time=1618229397, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\event.py", line 497, in reject
    return await bot.set_group_add_request(flag=self.flag,
                 │                              │    └ '1618229395828235'
                 │                              └ GroupRequestEvent(time=1618229397, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
                 └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000027C2B30ACA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 368, in call_api
    return _handle_api_result(await ResultStore.fetch(
           │                        │           └ <classmethod object at 0x0000027C08022A60>
           │                        └ <class 'nonebot.adapters.cqhttp.bot.ResultStore'>
           └ <function _handle_api_result at 0x0000027C082C6B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 183, in _handle_api_result
    raise ActionFailed(**result)
          │              └ {'data': None, 'echo': {'seq': 3}, 'msg': 'FLAG_HAS_BEEN_CHECKED', 'retcode': 100, 'status': 'failed', 'wording': '消息已被处理'}
          └ <class 'nonebot.adapters.cqhttp.exception.ActionFailed'>

nonebot.adapters.cqhttp.exception.ActionFailed: <ActionFailed data=None, echo={'seq': 3}, msg=FLAG_HAS_BEEN_CHECKED, retcode=100, status=failed, wording=消息已被处理>
2021-04-12 20:26:42.341 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_leave, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001F1EA4B88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001F1EA0EDA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001F1E7898AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000001F18C7D27C0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001F1EA0F50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001F18C64E790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000001F18C6734C0>
    └ <uvicorn.main.Server object at 0x000001F18D587100>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000001F18C673550>
    │    │                  └ <uvicorn.main.Server object at 0x000001F18D587100>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001F1E9FB9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F1E9FB9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F1E9FBB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F1E9F59310>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F18D685130>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001F18D685130>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001F18D685130>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001F18D685130>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': '退群', 'command': ('退群',)}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618230402, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001F18D616E20>
          │            └ <Matcher from group_leave, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x000001F1EA4964C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': '退群', 'command': ('退群',)}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618230402, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001F18D616E20>
          │       └ <function Matcher.run at 0x000001F1EA173820>
          └ <Matcher from group_leave, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': '退群', 'command': ('退群',)}, '_suffix': {'raw_command': None, 'command': None}, 'gids': 1128254624,...
          │    │           │        │    └ PrivateMessageEvent(time=1618230402, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001F18D616E20>
          │    │           └ <function group_quit at 0x000001F18D571B80>
          │    └ <function Matcher.run_handler at 0x000001F1EA173790>
          └ <Matcher from group_leave, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function group_quit at 0x000001F18D571B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': '退群', 'command': ('退群',)}, '_suffix': {'raw_command': None, 'command': None}, 'gids': 1128254624,...
          │       │           │     │    └ PrivateMessageEvent(time=1618230402, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001F18D616E20>
          │       │           └ <function group_quit at 0x000001F18D571AF0>
          │       └ <function Matcher.run_handler at 0x000001F1EA173790>
          └ <Matcher from group_leave, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function group_quit at 0x000001F18D571AF0>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_leave.py", line 25, in group_quit
    for gid in gids:
               └ 1128254624

TypeError: 'int' object is not iterable
2021-04-12 20:28:12.517 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_leave, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000002D60F5888B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000002D60F1BDA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000002D60C999AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000002D6318A29A0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002D60F1C50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000002D63171D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000002D6317434C0>
    └ <uvicorn.main.Server object at 0x000002D6325130A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000002D631743550>
    │    │                  └ <uvicorn.main.Server object at 0x000002D6325130A0>
    │    └ <function BaseEventLoop.run_until_complete at 0x000002D60F089700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002D60F089670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002D60F08B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002D60F02B310>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002D6325DA490>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002D6325DA490>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002D6325DA490>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002D6325DA490>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': '退群', 'command': ('退群',)}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618230492, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002D632593FA0>
          │            └ <Matcher from group_leave, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x000002D60F5664C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': '退群', 'command': ('退群',)}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618230492, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002D632593FA0>
          │       └ <function Matcher.run at 0x000002D60F243820>
          └ <Matcher from group_leave, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': '退群', 'command': ('退群',)}, '_suffix': {'raw_command': None, 'command': None}, 'gids': 1128254624,...
          │    │           │        │    └ PrivateMessageEvent(time=1618230492, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002D632593FA0>
          │    │           └ <function group_quit at 0x000002D6318C7790>
          │    └ <function Matcher.run_handler at 0x000002D60F243790>
          └ <Matcher from group_leave, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function group_quit at 0x000002D6318C7790>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': '退群', 'command': ('退群',)}, '_suffix': {'raw_command': None, 'command': None}, 'gids': 1128254624,...
          │       │           │     │    └ PrivateMessageEvent(time=1618230492, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002D632593FA0>
          │       │           └ <function group_quit at 0x000002D6318C7700>
          │       └ <function Matcher.run_handler at 0x000002D60F243790>
          └ <Matcher from group_leave, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function group_quit at 0x000002D6318C7700>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_leave.py", line 24, in group_quit
    for gid in state['gids']:
               └ {'_prefix': {'raw_command': '退群', 'command': ('退群',)}, '_suffix': {'raw_command': None, 'command': None}, 'gids': 1128254624,...

TypeError: 'int' object is not iterable
2021-04-12 20:28:38.494 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from service_manage, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000002D60F5888B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000002D60F1BDA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000002D60C999AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000002D6318A29A0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002D60F1C50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000002D63171D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000002D6317434C0>
    └ <uvicorn.main.Server object at 0x000002D6325130A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000002D631743550>
    │    │                  └ <uvicorn.main.Server object at 0x000002D6325130A0>
    │    └ <function BaseEventLoop.run_until_complete at 0x000002D60F089700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002D60F089670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002D60F08B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002D60F02B310>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002D6325F2E50>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002D6325F2E50>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002D6325F2E50>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002D6325F2E50>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': '服务列表', 'command': ('服务列表',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['11282...
          │            │        │    └ PrivateMessageEvent(time=1618230518, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002D632593FA0>
          │            └ <Matcher from service_manage, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x000002D60F5664C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': '服务列表', 'command': ('服务列表',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['11282...
          │       │   │    └ PrivateMessageEvent(time=1618230518, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002D632593FA0>
          │       └ <function Matcher.run at 0x000002D60F243820>
          └ <Matcher from service_manage, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': '服务列表', 'command': ('服务列表',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['11282...
          │    │           │        │    └ PrivateMessageEvent(time=1618230518, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002D632593FA0>
          │    │           └ <function _ at 0x000002D6318D3700>
          │    └ <function Matcher.run_handler at 0x000002D60F243790>
          └ <Matcher from service_manage, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function _ at 0x000002D6318D3700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': '服务列表', 'command': ('服务列表',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['11282...
          │       │           │     │    └ PrivateMessageEvent(time=1618230518, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002D632593FA0>
          │       │           └ <function _ at 0x000002D6318D3670>
          │       └ <function Matcher.run_handler at 0x000002D60F243790>
          └ <Matcher from service_manage, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function _ at 0x000002D6318D3670>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\service_manage.py", line 42, in _
    for gid in state['gids']:
               └ {'_prefix': {'raw_command': '服务列表', 'command': ('服务列表',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['11282...

TypeError: 'int' object is not iterable
2021-04-12 20:40:45.967 | ERROR    | nonebot:_load_plugin:1037 - Failed to import "group_invite"
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 4, in <module>
    salmon.init()
    │      └ <function init at 0x000001906C8E8790>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 26, in init
    nonebot.load_plugins(os.path.join(os.path.dirname(__file__), 'modules', module_name))
    │       │            │  │    │    │  │    │       │                     └ 'botmanage'
    │       │            │  │    │    │  │    │       └ 'C:\\bot\\SalmonBot\\salmon\\__init__.py'
    │       │            │  │    │    │  │    └ <function dirname at 0x0000019069A49AF0>
    │       │            │  │    │    │  └ <module 'ntpath' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\ntpath.py'>
    │       │            │  │    │    └ <module 'os' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\os.py'>
    │       │            │  │    └ <function join at 0x0000019069A49820>
    │       │            │  └ <module 'ntpath' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\ntpath.py'>
    │       │            └ <module 'os' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\os.py'>
    │       └ <function load_plugins at 0x000001906C5A9AF0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 1044, in load_plugins
    result = context.run(_load_plugin, module_info)
             │       │   │             └ ModuleInfo(module_finder=FileFinder('C:\\bot\\SalmonBot\\salmon\\modules\\botmanage'), name='group_invite', ispkg=False)
             │       │   └ <function load_plugins.<locals>._load_plugin at 0x000001900EA68790>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x000001900EC23DC0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 1028, in _load_plugin
    module = _load(spec)
             │     └ ModuleSpec(name='group_invite', loader=<_frozen_importlib_external.SourceFileLoader object at 0x000001900EC2C880>, origin='C:...
             └ <function _load at 0x000001906956F040>

  File "<frozen importlib._bootstrap>", line 711, in _load
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 790, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_invite.py", line 9, in <module>
    async def handle_group_invite(event: GroupRequestEvent):
                                         └ <class 'nonebot.adapters.cqhttp.event.GroupRequestEvent'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 283, in _decorator
    cls.append_handler(func)
    │   │              └ <function handle_group_invite at 0x000001900EC37310>
    │   └ <classmethod object at 0x000001906C59CAF0>
    └ <Matcher from unknow, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 268, in append_handler
    cls.handlers.append(cls.process_handler(handler))
    │   │        │      │   │               └ <function handle_group_invite at 0x000001900EC37310>
    │   │        │      │   └ <staticmethod object at 0x000001906C59CAC0>
    │   │        │      └ <Matcher from unknow, type=request, priority=1, temp=False>
    │   │        └ <method 'append' of 'list' objects>
    │   └ []
    └ <Matcher from unknow, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 256, in process_handler
    raise ValueError("Handler missing parameter 'bot'")

ValueError: Handler missing parameter 'bot'
2021-04-12 20:40:46.266 | ERROR    | nonebot:_load_plugin:1037 - Failed to import "group_invite"
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001906C8E88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001906C51DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000019069CB9AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000001900EC11950>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001906C525070>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001900EA8D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000001900EAB34C0>
    └ <uvicorn.main.Server object at 0x000001900F9FA460>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000001900EAB3550>
    │    │                  └ <uvicorn.main.Server object at 0x000001900F9FA460>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001906C3E9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001906C3E9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001906C3EB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001906C38B310>
    └ <Handle <TaskStepMethWrapper object at 0x000001900D9A6F70>()>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001900D9A6F70>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001900D9A6F70>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001900D9A6F70>()>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 397, in serve
    config.load()
    │      └ <function Config.load at 0x000001900EA87F70>
    └ <uvicorn.config.Config object at 0x000001900EC79B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\config.py", line 278, in load
    self.loaded_app = import_from_string(self.app)
    │                 │                  │    └ 'run:app'
    │                 │                  └ <uvicorn.config.Config object at 0x000001900EC79B80>
    │                 └ <function import_from_string at 0x000001900EA68CA0>
    └ <uvicorn.config.Config object at 0x000001900EC79B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\importer.py", line 20, in import_from_string
    module = importlib.import_module(module_str)
             │         │             └ 'run'
             │         └ <function import_module at 0x0000019069A59F70>
             └ <module 'importlib' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\importlib\\__init__.py'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\importlib\__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           │          │           │    │        │        └ 0
           │          │           │    │        └ None
           │          │           │    └ 0
           │          │           └ 'run'
           │          └ <function _gcd_import at 0x0000019069571310>
           └ <module 'importlib._bootstrap' (frozen)>

  File "<frozen importlib._bootstrap>", line 1030, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1007, in _find_and_load
  File "<frozen importlib._bootstrap>", line 986, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 790, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed

  File "C:\bot\SalmonBot\run.py", line 4, in <module>
    salmon.init()
    │      └ <function init at 0x000001906C8E8790>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 26, in init
    nonebot.load_plugins(os.path.join(os.path.dirname(__file__), 'modules', module_name))
    │       │            │  │    │    │  │    │       │                     └ 'botmanage'
    │       │            │  │    │    │  │    │       └ 'C:\\bot\\SalmonBot\\salmon\\__init__.py'
    │       │            │  │    │    │  │    └ <function dirname at 0x0000019069A49AF0>
    │       │            │  │    │    │  └ <module 'ntpath' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\ntpath.py'>
    │       │            │  │    │    └ <module 'os' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\os.py'>
    │       │            │  │    └ <function join at 0x0000019069A49820>
    │       │            │  └ <module 'ntpath' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\ntpath.py'>
    │       │            └ <module 'os' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\os.py'>
    │       └ <function load_plugins at 0x000001906C5A9AF0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 1044, in load_plugins
    result = context.run(_load_plugin, module_info)
             │       │   │             └ ModuleInfo(module_finder=FileFinder('C:\\bot\\SalmonBot\\salmon\\modules\\botmanage'), name='group_invite', ispkg=False)
             │       │   └ <function load_plugins.<locals>._load_plugin at 0x000001900FA070D0>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x000001900FA89D80>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 1028, in _load_plugin
    module = _load(spec)
             │     └ ModuleSpec(name='group_invite', loader=<_frozen_importlib_external.SourceFileLoader object at 0x000001900FA82670>, origin='C:...
             └ <function _load at 0x000001906956F040>

  File "<frozen importlib._bootstrap>", line 711, in _load
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 790, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_invite.py", line 9, in <module>
    async def handle_group_invite(event: GroupRequestEvent):
                                         └ <class 'nonebot.adapters.cqhttp.event.GroupRequestEvent'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 283, in _decorator
    cls.append_handler(func)
    │   │              └ <function handle_group_invite at 0x000001900FA84790>
    │   └ <classmethod object at 0x000001906C59CAF0>
    └ <Matcher from unknow, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 268, in append_handler
    cls.handlers.append(cls.process_handler(handler))
    │   │        │      │   │               └ <function handle_group_invite at 0x000001900FA84790>
    │   │        │      │   └ <staticmethod object at 0x000001906C59CAC0>
    │   │        │      └ <Matcher from unknow, type=request, priority=1, temp=False>
    │   │        └ <method 'append' of 'list' objects>
    │   └ []
    └ <Matcher from unknow, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 256, in process_handler
    raise ValueError("Handler missing parameter 'bot'")

ValueError: Handler missing parameter 'bot'
2021-04-12 22:59:52.769 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_leave, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001DEBB3A88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001DEBAFDDA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001DEB87C9AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000001DEDD6C2810>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001DEBAFE50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001DEDD53E790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000001DEDD5634C0>
    └ <uvicorn.main.Server object at 0x000001DEDE337190>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000001DEDD563550>
    │    │                  └ <uvicorn.main.Server object at 0x000001DEDE337190>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001DEBAEA9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001DEBAEA9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001DEBAEAB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001DEBAE49310>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DEDE434940>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001DEDE434940>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001DEDE434940>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001DEDE434940>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': '退群', 'command': ('退群',)}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ GroupMessageEvent(time=1618239587, self_id=3235657949, post_type='message', sub_type='normal', user_id=1351495774, message_ty...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001DEDE3C9EE0>
          │            └ <Matcher from group_leave, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x000001DEBB3864C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': '退群', 'command': ('退群',)}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ GroupMessageEvent(time=1618239587, self_id=3235657949, post_type='message', sub_type='normal', user_id=1351495774, message_ty...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001DEDE3C9EE0>
          │       └ <function Matcher.run at 0x000001DEBB063820>
          └ <Matcher from group_leave, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': '退群', 'command': ('退群',)}, '_suffix': {'raw_command': None, 'command': None}, 'gids': [1128254624...
          │    │           │        │    └ GroupMessageEvent(time=1618239587, self_id=3235657949, post_type='message', sub_type='normal', user_id=1351495774, message_ty...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001DEDE3C9EE0>
          │    │           └ <function group_quit at 0x000001DEDE320CA0>
          │    └ <function Matcher.run_handler at 0x000001DEBB063790>
          └ <Matcher from group_leave, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function group_quit at 0x000001DEDE320CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': '退群', 'command': ('退群',)}, '_suffix': {'raw_command': None, 'command': None}, 'gids': [1128254624...
          │       │           │     │    └ GroupMessageEvent(time=1618239587, self_id=3235657949, post_type='message', sub_type='normal', user_id=1351495774, message_ty...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001DEDE3C9EE0>
          │       │           └ <function group_quit at 0x000001DEDE320C10>
          │       └ <function Matcher.run_handler at 0x000001DEBB063790>
          └ <Matcher from group_leave, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function group_quit at 0x000001DEDE320C10>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_leave.py", line 32, in group_quit
    await bot.send(event, msg)
          │   │    │      └ '已尝试退出1个群'
          │   │    └ GroupMessageEvent(time=1618239587, self_id=3235657949, post_type='message', sub_type='normal', user_id=1351495774, message_ty...
          │   └ <function Bot.send at 0x000001DEBB39A280>
          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001DEDE3C9EE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 454, in send
    return await self.send_msg(**params)
                 │               └ {'user_id': 1351495774, 'group_id': 1128254624, 'message_type': 'group', 'message': [MessageSegment(type='text', data={'text'...
                 └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001DEDE3C9EE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 368, in call_api
    return _handle_api_result(await ResultStore.fetch(
           │                        │           └ <classmethod object at 0x000001DEBB0E2A60>
           │                        └ <class 'nonebot.adapters.cqhttp.bot.ResultStore'>
           └ <function _handle_api_result at 0x000001DEBB386B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 183, in _handle_api_result
    raise ActionFailed(**result)
          │              └ {'data': None, 'echo': {'seq': 3}, 'msg': 'SEND_MSG_API_ERROR', 'retcode': 100, 'status': 'failed', 'wording': '请参考输出'}
          └ <class 'nonebot.adapters.cqhttp.exception.ActionFailed'>

nonebot.adapters.cqhttp.exception.ActionFailed: <ActionFailed data=None, echo={'seq': 3}, msg=SEND_MSG_API_ERROR, retcode=100, status=failed, wording=请参考输出>
2021-04-12 23:56:06.797 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from ls, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001CC26D488B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001CC2697DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001CC24158AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000001CC490628B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001CC269850A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001CC48EDD790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000001CC48F034C0>
    └ <uvicorn.main.Server object at 0x000001CC49CD2430>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000001CC48F03550>
    │    │                  └ <uvicorn.main.Server object at 0x000001CC49CD2430>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001CC26849700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001CC26849670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001CC2684B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001CC267E9310>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001CC49DACF10>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001CC49DACF10>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001CC49DACF10>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001CC49DACF10>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': 'ls', 'command': ('ls',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': [], 'args':...
          │            │        │    └ PrivateMessageEvent(time=1618242966, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001CC49D7F280>
          │            └ <Matcher from ls, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x000001CC26D264C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': 'ls', 'command': ('ls',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': [], 'args':...
          │       │   │    └ PrivateMessageEvent(time=1618242966, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001CC49D7F280>
          │       └ <function Matcher.run at 0x000001CC26A03820>
          └ <Matcher from ls, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': 'ls', 'command': ('ls',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': [], 'args':...
          │    │           │        │    └ PrivateMessageEvent(time=1618242966, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001CC49D7F280>
          │    │           └ <function _ at 0x000001CC49091280>
          │    └ <function Matcher.run_handler at 0x000001CC26A03790>
          └ <Matcher from ls, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function _ at 0x000001CC49091280>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\ls.py", line 44, in _
    args = parser.parse_args(event.argv)
           │      │          └ PrivateMessageEvent(time=1618242966, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
           │      └ <function ArgumentParser.parse_args at 0x000001CC269FA550>
           └ ArgumentParser(prog='run.py', usage=None, description=None, formatter_class=<class 'argparse.HelpFormatter'>, conflict_handle...

AttributeError: 'PrivateMessageEvent' object has no attribute 'argv'
2021-04-13 00:00:00.308 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from ls, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x0000022165BE88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000002216581DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000022162FE8AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x0000022107F01720>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000221658250A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x0000022107D7E790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x0000022107DA34C0>
    └ <uvicorn.main.Server object at 0x0000022108CB5B50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x0000022107DA3550>
    │    │                  └ <uvicorn.main.Server object at 0x0000022108CB5B50>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000221656E9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000221656E9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000221656EB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002216568A310>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022108DBDE50>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022108DBDE50>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022108DBDE50>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022108DBDE50>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': 'ls', 'command': ('ls',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['-s'], 'ar...
          │            │        │    └ PrivateMessageEvent(time=1618243200, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000022108D673D0>
          │            └ <Matcher from ls, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x0000022165BC64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': 'ls', 'command': ('ls',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['-s'], 'ar...
          │       │   │    └ PrivateMessageEvent(time=1618243200, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000022108D673D0>
          │       └ <function Matcher.run at 0x00000221658A3820>
          └ <Matcher from ls, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': 'ls', 'command': ('ls',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['-s'], 'ar...
          │    │           │        │    └ PrivateMessageEvent(time=1618243200, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000022108D673D0>
          │    │           └ <function _ at 0x0000022108CAB670>
          │    └ <function Matcher.run_handler at 0x00000221658A3790>
          └ <Matcher from ls, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function _ at 0x0000022108CAB670>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\ls.py", line 44, in _
    args = parser.parse_args(state.args)
           │      │          └ {'_prefix': {'raw_command': 'ls', 'command': ('ls',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['-s'], 'ar...
           │      └ <function ArgumentParser.parse_args at 0x000002216589A550>
           └ ArgumentParser(prog='run.py', usage=None, description=None, formatter_class=<class 'argparse.HelpFormatter'>, conflict_handle...

AttributeError: 'dict' object has no attribute 'args'
2021-04-13 00:05:19.724 | ERROR    | salmon:wrapper:20 - <class 'httpx.RemoteProtocolError'> occured when doing scheduled job pcr_news_poller.
2021-04-13 00:05:19.725 | ERROR    | salmon:wrapper:21 - can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000221659CE700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x0000022108DAAE50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000221659CACA0>
                     └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 106, in arequest
    return await self.connection.arequest(method, url, headers, stream, ext)
                 │    │          │        │       │    │        │       └ {'timeout': {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}}
                 │    │          │        │       │    │        └ <httpx._content.PlainByteStream object at 0x0000022108DAAF40>
                 │    │          │        │       │    └ [(b'Host', b'www.princessconnect.so-net.tw'), (b'Accept', b'*/*'), (b'Accept-Encoding', b'gzip, deflate'), (b'Connection', b'...
                 │    │          │        │       └ (b'http', b'www.princessconnect.so-net.tw', None, b'/news/')
                 │    │          │        └ b'GET'
                 │    │          └ <function AsyncHTTP11Connection.arequest at 0x00000221659CA430>
                 │    └ <AsyncHTTP11Connection state=2>
                 └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 72, in arequest
    ) = await self._receive_response(timeout)
              │    │                 └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
              │    └ <function AsyncHTTP11Connection._receive_response at 0x00000221659CA700>
              └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 133, in _receive_response
    event = await self._receive_event(timeout)
                  │    │              └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
                  │    └ <function AsyncHTTP11Connection._receive_event at 0x00000221659CA820>
                  └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 169, in _receive_event
    event = self.h11_state.next_event()
            │    │         └ <function Connection.next_event at 0x00000221659AE3A0>
            │    └ <h11._connection.Connection object at 0x0000022108DAA790>
            └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x0000022108EC8400>
    │    │   │     │     └ RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE")
    │    │   │     └ <class 'h11._util.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000022108E17B30>
    └ <contextlib._GeneratorContextManager object at 0x0000022108DAA670>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.RemoteProtocolError'>

httpcore.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x0000022165BE88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000002216581DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000022162FE8AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x0000022107F01720>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000221658250A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x0000022107D7E790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x0000022107DA34C0>
    └ <uvicorn.main.Server object at 0x0000022108CB5B50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x0000022107DA3550>
    │    │                  └ <uvicorn.main.Server object at 0x0000022108CB5B50>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000221656E9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000221656E9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000221656EB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002216568A310>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022108DAA220>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022108DAA220>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022108DAA220>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022108DAA220>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x0000022108BBF1F0>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 98, in pcr_news_poller
    await news_poller(SonetSpider, svtw, '台服官网')
          │           │            └ <salmon.service.Service object at 0x00000221089C12E0>
          │           └ <class 'news.SonetSpider'>
          └ <function news_poller at 0x0000022108A19430>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 88, in news_poller
    news = await spider.get_update()
                 │      └ <classmethod object at 0x000002210862CCD0>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x0000022108644EB0>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │        │   └ <class 'news.SonetSpider'>
                 │        └ <function get at 0x0000022107F3BB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │      └ <function AsyncClient.get at 0x0000022165BCD3A0>
                 └ <httpx.AsyncClient object at 0x0000022108D67CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x0000022165BCD0D0>
                 └ <httpx.AsyncClient object at 0x0000022108D67CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x0000022165BCD160>
                     └ <httpx.AsyncClient object at 0x0000022108D67CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000022165BCD1F0>
                     └ <httpx.AsyncClient object at 0x0000022108D67CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000022165BCD280>
                     └ <httpx.AsyncClient object at 0x0000022108D67CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>
                     │    └ <function AsyncClient._send_single_request at 0x0000022165BCD310>
                     └ <httpx.AsyncClient object at 0x0000022108D67CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000221659CE700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x0000022108DAAE50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x0000022108EC3D00>
    │    │   │     │     └ RemoteProtocolError(RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"))
    │    │   │     └ <class 'httpcore.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000022108E17EB0>
    └ <contextlib._GeneratorContextManager object at 0x0000022108DAAA60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>}
          │          └ "can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"
          └ <class 'httpx.RemoteProtocolError'>

httpx.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
2021-04-13 00:05:35.024 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectTimeout'> occured when doing scheduled job update_seeker.
2021-04-13 00:05:35.026 | ERROR    | salmon:wrapper:21 - 
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000221659CE700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x0000022108DAA5B0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000221659CACA0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 10, 'read': 10, 'write': 10, 'pool': 10}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x00000221659CAD30>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x000002216598FF70>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x0000022108DAA0A0>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x0000022165976DB0>
                 └ <httpcore._backends.auto.AutoBackend object at 0x0000022108DAA0A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x0000022108D64280>
    │    │   │     │     └ TimeoutError()
    │    │   │     └ <class 'asyncio.exceptions.TimeoutError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000022108F19040>
    └ <contextlib._GeneratorContextManager object at 0x0000022108DAADC0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectTimeout'>

httpcore.ConnectTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x0000022165BE88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000002216581DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000022162FE8AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x0000022107F01720>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000221658250A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x0000022107D7E790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x0000022107DA34C0>
    └ <uvicorn.main.Server object at 0x0000022108CB5B50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x0000022107DA3550>
    │    │                  └ <uvicorn.main.Server object at 0x0000022108CB5B50>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000221656E9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000221656E9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000221656EB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002216568A310>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022108D937C0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022108D937C0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022108D937C0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022108D937C0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=官漫更新 name=update_seeker)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=官漫更新 name=update_seeker)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=官漫更新 name=update_seeker)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function update_seeker at 0x00000221089E6280>

  File "C:\bot\SalmonBot\salmon\modules\priconne\comic.py", line 108, in update_seeker
    resp = await aiohttpx.get(index_api, timeout=10)
                 │        │   └ 'https://comic.priconne-redive.jp/api/index'
                 │        └ <function get at 0x0000022107F3BB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {'timeout': 10}
                 │      │   │     └ ()
                 │      │   └ 'https://comic.priconne-redive.jp/api/index'
                 │      └ <function AsyncClient.get at 0x0000022165BCD3A0>
                 └ <httpx.AsyncClient object at 0x0000022108D92190>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x0000022165BCD0D0>
                 └ <httpx.AsyncClient object at 0x0000022108D92190>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x0000022165BCD160>
                     └ <httpx.AsyncClient object at 0x0000022108D92190>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000022165BCD1F0>
                     └ <httpx.AsyncClient object at 0x0000022108D92190>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000022165BCD280>
                     └ <httpx.AsyncClient object at 0x0000022108D92190>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=10)
                     │    │                    └ <Request('GET', 'https://comic.priconne-redive.jp/api/index')>
                     │    └ <function AsyncClient._send_single_request at 0x0000022165BCD310>
                     └ <httpx.AsyncClient object at 0x0000022108D92190>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000221659CE700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x0000022108DAA5B0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x0000022108F3D100>
    │    │   │     │     └ ConnectTimeout(TimeoutError())
    │    │   │     └ <class 'httpcore.ConnectTimeout'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000022108EBB040>
    └ <contextlib._GeneratorContextManager object at 0x0000022108DAAA00>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'https://comic.priconne-redive.jp/api/index')>}
          │          └ ''
          └ <class 'httpx.ConnectTimeout'>

httpx.ConnectTimeout
2021-04-13 00:05:48.649 | ERROR    | nonebot:receive:285 - WebSocket disconnected by peer.
2021-04-13 00:05:48.651 | ERROR    | alert:disconnect:23 - WebSocket连接已断开
2021-04-13 00:10:01.912 | ERROR    | salmon:wrapper:20 - <class 'httpx.RemoteProtocolError'> occured when doing scheduled job pcr_news_poller.
2021-04-13 00:10:01.912 | ERROR    | salmon:wrapper:21 - can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000221659CE700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x0000022108DAAB80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000221659CACA0>
                     └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 106, in arequest
    return await self.connection.arequest(method, url, headers, stream, ext)
                 │    │          │        │       │    │        │       └ {'timeout': {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}}
                 │    │          │        │       │    │        └ <httpx._content.PlainByteStream object at 0x0000022108DAA340>
                 │    │          │        │       │    └ [(b'Host', b'www.princessconnect.so-net.tw'), (b'Accept', b'*/*'), (b'Accept-Encoding', b'gzip, deflate'), (b'Connection', b'...
                 │    │          │        │       └ (b'http', b'www.princessconnect.so-net.tw', None, b'/news/')
                 │    │          │        └ b'GET'
                 │    │          └ <function AsyncHTTP11Connection.arequest at 0x00000221659CA430>
                 │    └ <AsyncHTTP11Connection state=2>
                 └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 72, in arequest
    ) = await self._receive_response(timeout)
              │    │                 └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
              │    └ <function AsyncHTTP11Connection._receive_response at 0x00000221659CA700>
              └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 133, in _receive_response
    event = await self._receive_event(timeout)
                  │    │              └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
                  │    └ <function AsyncHTTP11Connection._receive_event at 0x00000221659CA820>
                  └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 169, in _receive_event
    event = self.h11_state.next_event()
            │    │         └ <function Connection.next_event at 0x00000221659AE3A0>
            │    └ <h11._connection.Connection object at 0x0000022108E95F40>
            └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x0000022108F83680>
    │    │   │     │     └ RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE")
    │    │   │     └ <class 'h11._util.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000022108F193C0>
    └ <contextlib._GeneratorContextManager object at 0x0000022108DAE6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.RemoteProtocolError'>

httpcore.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x0000022165BE88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000002216581DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000022162FE8AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x0000022107F01720>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000221658250A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x0000022107D7E790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x0000022107DA34C0>
    └ <uvicorn.main.Server object at 0x0000022108CB5B50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x0000022107DA3550>
    │    │                  └ <uvicorn.main.Server object at 0x0000022108CB5B50>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000221656E9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000221656E9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000221656EB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002216568A310>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022108F840D0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022108F840D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022108F840D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022108F840D0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x0000022108BBF1F0>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 98, in pcr_news_poller
    await news_poller(SonetSpider, svtw, '台服官网')
          │           │            └ <salmon.service.Service object at 0x00000221089C12E0>
          │           └ <class 'news.SonetSpider'>
          └ <function news_poller at 0x0000022108A19430>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 88, in news_poller
    news = await spider.get_update()
                 │      └ <classmethod object at 0x000002210862CCD0>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x0000022108644EB0>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │        │   └ <class 'news.SonetSpider'>
                 │        └ <function get at 0x0000022107F3BB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │      └ <function AsyncClient.get at 0x0000022165BCD3A0>
                 └ <httpx.AsyncClient object at 0x0000022108D67400>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x0000022165BCD0D0>
                 └ <httpx.AsyncClient object at 0x0000022108D67400>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x0000022165BCD160>
                     └ <httpx.AsyncClient object at 0x0000022108D67400>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000022165BCD1F0>
                     └ <httpx.AsyncClient object at 0x0000022108D67400>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000022165BCD280>
                     └ <httpx.AsyncClient object at 0x0000022108D67400>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>
                     │    └ <function AsyncClient._send_single_request at 0x0000022165BCD310>
                     └ <httpx.AsyncClient object at 0x0000022108D67400>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000221659CE700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x0000022108DAAB80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x0000022108F83A00>
    │    │   │     │     └ RemoteProtocolError(RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"))
    │    │   │     └ <class 'httpcore.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000022108D49740>
    └ <contextlib._GeneratorContextManager object at 0x0000022108DAA940>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>}
          │          └ "can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"
          └ <class 'httpx.RemoteProtocolError'>

httpx.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
2021-04-13 00:10:35.028 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectTimeout'> occured when doing scheduled job update_seeker.
2021-04-13 00:10:35.029 | ERROR    | salmon:wrapper:21 - 
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000221659CE700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x0000022108F846A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000221659CACA0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 10, 'read': 10, 'write': 10, 'pool': 10}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x00000221659CAD30>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x000002216598FF70>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x0000022108F84700>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x0000022165976DB0>
                 └ <httpcore._backends.auto.AutoBackend object at 0x0000022108F84700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x0000022108DA5680>
    │    │   │     │     └ TimeoutError()
    │    │   │     └ <class 'asyncio.exceptions.TimeoutError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000022108F19040>
    └ <contextlib._GeneratorContextManager object at 0x0000022108DAE2B0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectTimeout'>

httpcore.ConnectTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x0000022165BE88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000002216581DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000022162FE8AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x0000022107F01720>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000221658250A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x0000022107D7E790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x0000022107DA34C0>
    └ <uvicorn.main.Server object at 0x0000022108CB5B50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x0000022107DA3550>
    │    │                  └ <uvicorn.main.Server object at 0x0000022108CB5B50>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000221656E9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000221656E9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000221656EB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002216568A310>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022108D937C0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022108D937C0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022108D937C0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022108D937C0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=官漫更新 name=update_seeker)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=官漫更新 name=update_seeker)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=官漫更新 name=update_seeker)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function update_seeker at 0x00000221089E6280>

  File "C:\bot\SalmonBot\salmon\modules\priconne\comic.py", line 108, in update_seeker
    resp = await aiohttpx.get(index_api, timeout=10)
                 │        │   └ 'https://comic.priconne-redive.jp/api/index'
                 │        └ <function get at 0x0000022107F3BB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {'timeout': 10}
                 │      │   │     └ ()
                 │      │   └ 'https://comic.priconne-redive.jp/api/index'
                 │      └ <function AsyncClient.get at 0x0000022165BCD3A0>
                 └ <httpx.AsyncClient object at 0x0000022108D67AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x0000022165BCD0D0>
                 └ <httpx.AsyncClient object at 0x0000022108D67AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x0000022165BCD160>
                     └ <httpx.AsyncClient object at 0x0000022108D67AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000022165BCD1F0>
                     └ <httpx.AsyncClient object at 0x0000022108D67AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000022165BCD280>
                     └ <httpx.AsyncClient object at 0x0000022108D67AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=10)
                     │    │                    └ <Request('GET', 'https://comic.priconne-redive.jp/api/index')>
                     │    └ <function AsyncClient._send_single_request at 0x0000022165BCD310>
                     └ <httpx.AsyncClient object at 0x0000022108D67AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000221659CE700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x0000022108F846A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x0000022108F837C0>
    │    │   │     │     └ ConnectTimeout(TimeoutError())
    │    │   │     └ <class 'httpcore.ConnectTimeout'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000022108F193C0>
    └ <contextlib._GeneratorContextManager object at 0x0000022108DAE6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'https://comic.priconne-redive.jp/api/index')>}
          │          └ ''
          └ <class 'httpx.ConnectTimeout'>

httpx.ConnectTimeout
2021-04-13 00:15:18.921 | ERROR    | salmon:wrapper:20 - <class 'httpx.RemoteProtocolError'> occured when doing scheduled job pcr_news_poller.
2021-04-13 00:15:18.922 | ERROR    | salmon:wrapper:21 - can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000221659CE700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x0000022108DAAB20>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000221659CACA0>
                     └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 106, in arequest
    return await self.connection.arequest(method, url, headers, stream, ext)
                 │    │          │        │       │    │        │       └ {'timeout': {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}}
                 │    │          │        │       │    │        └ <httpx._content.PlainByteStream object at 0x0000022108DAA0A0>
                 │    │          │        │       │    └ [(b'Host', b'www.princessconnect.so-net.tw'), (b'Accept', b'*/*'), (b'Accept-Encoding', b'gzip, deflate'), (b'Connection', b'...
                 │    │          │        │       └ (b'http', b'www.princessconnect.so-net.tw', None, b'/news/')
                 │    │          │        └ b'GET'
                 │    │          └ <function AsyncHTTP11Connection.arequest at 0x00000221659CA430>
                 │    └ <AsyncHTTP11Connection state=2>
                 └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 72, in arequest
    ) = await self._receive_response(timeout)
              │    │                 └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
              │    └ <function AsyncHTTP11Connection._receive_response at 0x00000221659CA700>
              └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 133, in _receive_response
    event = await self._receive_event(timeout)
                  │    │              └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
                  │    └ <function AsyncHTTP11Connection._receive_event at 0x00000221659CA820>
                  └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 169, in _receive_event
    event = self.h11_state.next_event()
            │    │         └ <function Connection.next_event at 0x00000221659AE3A0>
            │    └ <h11._connection.Connection object at 0x0000022108D673A0>
            └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x000002216592FBC0>
    │    │   │     │     └ RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE")
    │    │   │     └ <class 'h11._util.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000022108E96E40>
    └ <contextlib._GeneratorContextManager object at 0x0000022108D937C0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.RemoteProtocolError'>

httpcore.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x0000022165BE88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000002216581DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000022162FE8AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x0000022107F01720>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000221658250A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x0000022107D7E790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x0000022107DA34C0>
    └ <uvicorn.main.Server object at 0x0000022108CB5B50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x0000022107DA3550>
    │    │                  └ <uvicorn.main.Server object at 0x0000022108CB5B50>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000221656E9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000221656E9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000221656EB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002216568A310>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022108D67AC0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000022108D67AC0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000022108D67AC0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000022108D67AC0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x0000022108BBF1F0>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 98, in pcr_news_poller
    await news_poller(SonetSpider, svtw, '台服官网')
          │           │            └ <salmon.service.Service object at 0x00000221089C12E0>
          │           └ <class 'news.SonetSpider'>
          └ <function news_poller at 0x0000022108A19430>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 88, in news_poller
    news = await spider.get_update()
                 │      └ <classmethod object at 0x000002210862CCD0>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x0000022108644EB0>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │        │   └ <class 'news.SonetSpider'>
                 │        └ <function get at 0x0000022107F3BB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │      └ <function AsyncClient.get at 0x0000022165BCD3A0>
                 └ <httpx.AsyncClient object at 0x0000022108DAAF10>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x0000022165BCD0D0>
                 └ <httpx.AsyncClient object at 0x0000022108DAAF10>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x0000022165BCD160>
                     └ <httpx.AsyncClient object at 0x0000022108DAAF10>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000022165BCD1F0>
                     └ <httpx.AsyncClient object at 0x0000022108DAAF10>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x0000022165BCD280>
                     └ <httpx.AsyncClient object at 0x0000022108DAAF10>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>
                     │    └ <function AsyncClient._send_single_request at 0x0000022165BCD310>
                     └ <httpx.AsyncClient object at 0x0000022108DAAF10>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000221659CE700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x0000022108DAAB20>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x0000022108F37940>
    │    │   │     │     └ RemoteProtocolError(RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"))
    │    │   │     └ <class 'httpcore.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x0000022108EBB190>
    └ <contextlib._GeneratorContextManager object at 0x0000022108DAAE20>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>}
          │          └ "can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"
          └ <class 'httpx.RemoteProtocolError'>

httpx.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
2021-04-13 00:19:02.389 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from ls, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000002086B3D78B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000002086B00DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000208687A9AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000002080D6F2860>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002086B0150A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000002080D56D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000002080D5934C0>
    └ <uvicorn.main.Server object at 0x000002080E4AF4F0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000002080D593550>
    │    │                  └ <uvicorn.main.Server object at 0x000002080E4AF4F0>
    │    └ <function BaseEventLoop.run_until_complete at 0x000002086AED9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002086AED9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002086AEDB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002086AE7B310>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002080E59C100>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002080E59C100>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002080E59C100>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002080E59C100>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': 'ls', 'command': ('ls',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': [], 'args':...
          │            │        │    └ PrivateMessageEvent(time=1618244342, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002080E55F340>
          │            └ <Matcher from ls, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x000002086B3B64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': 'ls', 'command': ('ls',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': [], 'args':...
          │       │   │    └ PrivateMessageEvent(time=1618244342, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002080E55F340>
          │       └ <function Matcher.run at 0x000002086B093820>
          └ <Matcher from ls, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': 'ls', 'command': ('ls',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': [], 'args':...
          │    │           │        │    └ PrivateMessageEvent(time=1618244342, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002080E55F340>
          │    │           └ <function _ at 0x000002080D724280>
          │    └ <function Matcher.run_handler at 0x000002086B093790>
          └ <Matcher from ls, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function _ at 0x000002080D724280>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\ls.py", line 44, in _
    args = parser.parse_args(state.args)
           │      │          └ {'_prefix': {'raw_command': 'ls', 'command': ('ls',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': [], 'args':...
           │      └ <function ArgumentParser.parse_args at 0x000002086B08B550>
           └ ArgumentParser(prog='run.py', usage=None, description=None, formatter_class=<class 'argparse.HelpFormatter'>, conflict_handle...

AttributeError: 'dict' object has no attribute 'args'
2021-04-13 00:22:50.089 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from service_manage, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000234CA0F88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000234C9D2DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000234C74C8AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000234EC412860>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000234C9D350A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000234EC28D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000234EC2B34C0>
    └ <uvicorn.main.Server object at 0x00000234ED06DC40>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000234EC2B3550>
    │    │                  └ <uvicorn.main.Server object at 0x00000234ED06DC40>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000234C9BF9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000234C9BF9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000234C9BFB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000234C9B9B310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000234ED181190>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000234ED181190>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000234ED181190>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000234ED181190>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': '服务列表', 'command': ('服务列表',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['-a', ...
          │            │        │    └ PrivateMessageEvent(time=1618244570, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000234ED1283A0>
          │            └ <Matcher from service_manage, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x00000234CA0D64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': '服务列表', 'command': ('服务列表',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['-a', ...
          │       │   │    └ PrivateMessageEvent(time=1618244570, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000234ED1283A0>
          │       └ <function Matcher.run at 0x00000234C9DB3820>
          └ <Matcher from service_manage, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': '服务列表', 'command': ('服务列表',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['-a', ...
          │    │           │        │    └ PrivateMessageEvent(time=1618244570, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000234ED1283A0>
          │    │           └ <function _ at 0x00000234ED06EDC0>
          │    └ <function Matcher.run_handler at 0x00000234C9DB3790>
          └ <Matcher from service_manage, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function _ at 0x00000234ED06EDC0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': '服务列表', 'command': ('服务列表',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['-a', ...
          │       │           │     │    └ PrivateMessageEvent(time=1618244570, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000234ED1283A0>
          │       │           └ <function _ at 0x00000234ED06ED30>
          │       └ <function Matcher.run_handler at 0x00000234C9DB3790>
          └ <Matcher from service_manage, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function _ at 0x00000234ED06ED30>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\service_manage.py", line 36, in _
    verbose_all = state['args'].all
                  └ {'_prefix': {'raw_command': '服务列表', 'command': ('服务列表',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['-a', ...

AttributeError: 'ParserExit' object has no attribute 'all'
2021-04-13 00:33:29.331 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from ls, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001A6429178B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001A64254DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001A63FCF8AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000001A664C32860>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001A6425550A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001A664AAE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000001A664AD34C0>
    └ <uvicorn.main.Server object at 0x000001A665885F10>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000001A664AD3550>
    │    │                  └ <uvicorn.main.Server object at 0x000001A665885F10>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001A642419700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A642419670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A64241B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A6423BA310>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A6659A2490>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A6659A2490>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A6659A2490>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A6659A2490>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': 'ls', 'command': ('ls',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['-g'], 'ar...
          │            │        │    └ PrivateMessageEvent(time=1618245209, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001A665948400>
          │            └ <Matcher from ls, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x000001A6428F64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': 'ls', 'command': ('ls',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['-g'], 'ar...
          │       │   │    └ PrivateMessageEvent(time=1618245209, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001A665948400>
          │       └ <function Matcher.run at 0x000001A6425D3820>
          └ <Matcher from ls, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': 'ls', 'command': ('ls',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['-g'], 'ar...
          │    │           │        │    └ PrivateMessageEvent(time=1618245209, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001A665948400>
          │    │           └ <function _ at 0x000001A665887670>
          │    └ <function Matcher.run_handler at 0x000001A6425D3790>
          └ <Matcher from ls, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function _ at 0x000001A665887670>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\ls.py", line 45, in _
    if 'group' in state['args'].__dict__ and state['args'].all:
                  │                          └ {'_prefix': {'raw_command': 'ls', 'command': ('ls',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['-g'], 'ar...
                  └ {'_prefix': {'raw_command': 'ls', 'command': ('ls',)}, '_suffix': {'raw_command': None, 'command': None}, 'argv': ['-g'], 'ar...

AttributeError: 'Namespace' object has no attribute 'all'
2021-04-13 01:04:02.795 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from ls, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001A94E2E88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001A94DF1DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001A94B6C8AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000001A970601900>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001A94DF250A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001A97047D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000001A9704A34C0>
    └ <uvicorn.main.Server object at 0x000001A97125DDF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000001A9704A3550>
    │    │                  └ <uvicorn.main.Server object at 0x000001A97125DDF0>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001A94DDE9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A94DDE9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A94DDEB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A94DD8B310>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A971371880>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A971371880>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A971371880>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A971371880>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': 'ls -f', 'command': ('ls -f',)}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618247042, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001A971311A90>
          │            └ <Matcher from ls, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x000001A94E2C64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': 'ls -f', 'command': ('ls -f',)}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618247042, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001A971311A90>
          │       └ <function Matcher.run at 0x000001A94DFA3820>
          └ <Matcher from ls, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': 'ls -f', 'command': ('ls -f',)}, '_suffix': {'raw_command': None, 'command': None}}
          │    │           │        │    └ PrivateMessageEvent(time=1618247042, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001A971311A90>
          │    │           └ <function ls_f at 0x000001A97125E8B0>
          │    └ <function Matcher.run_handler at 0x000001A94DFA3790>
          └ <Matcher from ls, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function ls_f at 0x000001A97125E8B0>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\ls.py", line 49, in ls_f
    if event.user_id not in configs.SUPERUSERS[0]:
       │     │              │       └ [1351495774]
       │     │              └ <module 'salmon.configs' from 'C:\\bot\\SalmonBot\\salmon\\configs\\__init__.py'>
       │     └ 1351495774
       └ PrivateMessageEvent(time=1618247042, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...

TypeError: argument of type 'int' is not iterable
2021-04-13 01:04:54.127 | ERROR    | nonebot:receive:285 - WebSocket disconnected by peer.
2021-04-13 01:04:54.128 | ERROR    | alert:disconnect:23 - WebSocket连接已断开
2021-04-13 01:05:36.595 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from ls, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001A94E2E88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001A94DF1DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001A94B6C8AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000001A970601900>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001A94DF250A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001A97047D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000001A9704A34C0>
    └ <uvicorn.main.Server object at 0x000001A97125DDF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000001A9704A3550>
    │    │                  └ <uvicorn.main.Server object at 0x000001A97125DDF0>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001A94DDE9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001A94DDE9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001A94DDEB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001A94DD8B310>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A971483FD0>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001A971483FD0>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001A971483FD0>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001A971483FD0>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': 'ls -f', 'command': ('ls -f',)}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618247136, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001A9713627F0>
          │            └ <Matcher from ls, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x000001A94E2C64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': 'ls -f', 'command': ('ls -f',)}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618247136, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001A9713627F0>
          │       └ <function Matcher.run at 0x000001A94DFA3820>
          └ <Matcher from ls, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': 'ls -f', 'command': ('ls -f',)}, '_suffix': {'raw_command': None, 'command': None}}
          │    │           │        │    └ PrivateMessageEvent(time=1618247136, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001A9713627F0>
          │    │           └ <function ls_f at 0x000001A97125E8B0>
          │    └ <function Matcher.run_handler at 0x000001A94DFA3790>
          └ <Matcher from ls, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function ls_f at 0x000001A97125E8B0>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\ls.py", line 49, in ls_f
    if event.user_id not in configs.SUPERUSERS[0]:
       │     │              │       └ [1351495774]
       │     │              └ <module 'salmon.configs' from 'C:\\bot\\SalmonBot\\salmon\\configs\\__init__.py'>
       │     └ 1351495774
       └ PrivateMessageEvent(time=1618247136, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...

TypeError: argument of type 'int' is not iterable
