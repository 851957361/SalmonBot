2021-04-11 12:16:32.037 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from broadcast, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 19, in <module>
    nonebot.run()
    │       └ <function run at 0x000002368FC65C10>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000002368D409A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000236B2343CC0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002368FC58CD0>
    │       │   └ None
    │       └ <function run at 0x00000236B21C14C0>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000236B21E51F0>
    └ <uvicorn.main.Server object at 0x00000236B2FA2E50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000236B21E5280>
    │    │                  └ <uvicorn.main.Server object at 0x00000236B2FA2E50>
    │    └ <function BaseEventLoop.run_until_complete at 0x000002368FB308B0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002368FB30820>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002368FB333A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002368FACF4C0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000236B307E370>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000236B307E370>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000236B307E370>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000236B307E370>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': '广播', 'command': ('广播',)}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618114592, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>
          │            └ <Matcher from broadcast, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x0000023690016670>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': '广播', 'command': ('广播',)}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618114592, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>
          │       └ <function Matcher.run at 0x000002368FCE99D0>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': '广播', 'command': ('广播',)}, '_suffix': {'raw_command': None, 'command': None}, 'msg': [MessageSegm...
          │    │           │        │    └ PrivateMessageEvent(time=1618114592, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>
          │    │           └ <function bc at 0x00000236B2357820>
          │    └ <function Matcher.run_handler at 0x000002368FCE9940>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function bc at 0x00000236B2357820>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': '广播', 'command': ('广播',)}, '_suffix': {'raw_command': None, 'command': None}, 'msg': [MessageSegm...
          │       │           │     │    └ PrivateMessageEvent(time=1618114592, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>
          │       │           └ <function bc at 0x00000236B2357790>
          │       └ <function Matcher.run_handler at 0x000002368FCE9940>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function bc at 0x00000236B2357790>

  File "salmon/modules/botmanage\broadcast.py", line 21, in bc
    for sid in bot.get_self_ids():
               └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>

TypeError: 'coroutine' object is not iterable
2021-04-11 12:16:52.058 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from broadcast, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 19, in <module>
    nonebot.run()
    │       └ <function run at 0x000002368FC65C10>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000002368D409A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000236B2343CC0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002368FC58CD0>
    │       │   └ None
    │       └ <function run at 0x00000236B21C14C0>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000236B21E51F0>
    └ <uvicorn.main.Server object at 0x00000236B2FA2E50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000236B21E5280>
    │    │                  └ <uvicorn.main.Server object at 0x00000236B2FA2E50>
    │    └ <function BaseEventLoop.run_until_complete at 0x000002368FB308B0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002368FB30820>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002368FB333A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002368FACF4C0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000236B308C160>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000236B308C160>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000236B308C160>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000236B308C160>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618114612, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>
          │            └ <Matcher from broadcast, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x0000023690016670>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618114612, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>
          │       └ <function Matcher.run at 0x000002368FCE99D0>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}, 'msg': [MessageSegm...
          │    │           │        │    └ PrivateMessageEvent(time=1618114612, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>
          │    │           └ <function bc at 0x00000236B2357820>
          │    └ <function Matcher.run_handler at 0x000002368FCE9940>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function bc at 0x00000236B2357820>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}, 'msg': [MessageSegm...
          │       │           │     │    └ PrivateMessageEvent(time=1618114612, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>
          │       │           └ <function bc at 0x00000236B2357790>
          │       └ <function Matcher.run_handler at 0x000002368FCE9940>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function bc at 0x00000236B2357790>

  File "salmon/modules/botmanage\broadcast.py", line 21, in bc
    for sid in bot.get_self_ids():
               └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000236B3036580>

TypeError: 'coroutine' object is not iterable
2021-04-11 12:27:58.017 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from broadcast, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 19, in <module>
    nonebot.run()
    │       └ <function run at 0x00000184F18C5C10>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000184EF089A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x0000018493FB39A0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000184F1C81400>
    │       │   └ None
    │       └ <function run at 0x0000018493E314C0>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x0000018493E541F0>
    └ <uvicorn.main.Server object at 0x0000018494C25FA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x0000018493E54280>
    │    │                  └ <uvicorn.main.Server object at 0x0000018494C25FA0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000184F178F8B0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000184F178F820>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000184F17933A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000184F172F4C0>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018494D02B20>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000018494D02B20>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000018494D02B20>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000018494D02B20>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618115278, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000018494CB4AC0>
          │            └ <Matcher from broadcast, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x00000184F1C76670>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618115278, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000018494CB4AC0>
          │       └ <function Matcher.run at 0x00000184F19489D0>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}, 'msg': [MessageSegm...
          │    │           │        │    └ PrivateMessageEvent(time=1618115278, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000018494CB4AC0>
          │    │           └ <function bc at 0x0000018493FC78B0>
          │    └ <function Matcher.run_handler at 0x00000184F1948940>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function bc at 0x0000018493FC78B0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}, 'msg': [MessageSegm...
          │       │           │     │    └ PrivateMessageEvent(time=1618115278, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000018494CB4AC0>
          │       │           └ <function bc at 0x0000018493FC7820>
          │       └ <function Matcher.run_handler at 0x00000184F1948940>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function bc at 0x0000018493FC7820>

  File "salmon/modules/botmanage\broadcast.py", line 21, in bc
    for sid in int(bot.get_self_ids()):
                   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000018494CB4AC0>

TypeError: int() argument must be a string, a bytes-like object or a number, not 'coroutine'
2021-04-11 12:37:25.064 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from broadcast, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 19, in <module>
    nonebot.run()
    │       └ <function run at 0x00000284A7045C10>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000284A47F8A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000284C9723A90>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000284A7401400>
    │       │   └ None
    │       └ <function run at 0x00000284C95A04C0>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000284C95C31F0>
    └ <uvicorn.main.Server object at 0x00000284CA37F6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000284C95C3280>
    │    │                  └ <uvicorn.main.Server object at 0x00000284CA37F6A0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000284A6F0F8B0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000284A6F0F820>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000284A6F133A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000284A6EAE4C0>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000284CA475E80>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000284CA475E80>(<_GatheringFu...result=[True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000284CA475E80>(<_GatheringFu...result=[True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000284CA475E80>(<_GatheringFu...result=[True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618115845, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000284CA3921C0>
          │            └ <Matcher from broadcast, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x00000284A73F6670>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618115845, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000284CA3921C0>
          │       └ <function Matcher.run at 0x00000284A70C89D0>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}, 'msg': [MessageSegm...
          │    │           │        │    └ PrivateMessageEvent(time=1618115845, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000284CA3921C0>
          │    │           └ <function bc at 0x00000284CA36FCA0>
          │    └ <function Matcher.run_handler at 0x00000284A70C8940>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function bc at 0x00000284CA36FCA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': 'bc', 'command': ('bc',)}, '_suffix': {'raw_command': None, 'command': None}, 'msg': [MessageSegm...
          │       │           │     │    └ PrivateMessageEvent(time=1618115845, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000284CA3921C0>
          │       │           └ <function bc at 0x00000284CA36FC10>
          │       └ <function Matcher.run_handler at 0x00000284A70C8940>
          └ <Matcher from broadcast, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function bc at 0x00000284CA36FC10>

  File "salmon/modules/botmanage\broadcast.py", line 21, in bc
    gl = await bot.get_group_list(self_id=sid)
               └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000284CA3921C0>

NameError: name 'sid' is not defined
2021-04-11 12:38:59.088 | ERROR    | nonebot:_check_matcher:116 - Rule check failed for <Matcher from alert, type=notice, priority=1, temp=False>.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 19, in <module>
    nonebot.run()
    │       └ <function run at 0x000002946B655C10>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000029468E08A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000002940DD338B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002946BA11400>
    │       │   └ None
    │       └ <function run at 0x000002940DBB04C0>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000002940DBD31F0>
    └ <uvicorn.main.Server object at 0x000002940EADE970>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000002940DBD3280>
    │    │                  └ <uvicorn.main.Server object at 0x000002940EADE970>
    │    └ <function BaseEventLoop.run_until_complete at 0x000002946B5208B0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002946B520820>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002946B5233A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002946B4BF4C0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002940EB76700>(<_GatheringFu...be callable')>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002940EB76700>(<_GatheringFu...be callable')>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002940EB76700>(<_GatheringFu...be callable')>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002940EB76700>(<_GatheringFu...be callable')>)>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 113, in _check_matcher
    bot, event) or not await Matcher.check_rule(bot, event, state):
    │    │                   │       │          │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
    │    │                   │       │          │    └ GroupDecreaseNoticeEvent(time=1618115939, self_id=3235657949, post_type='notice', notice_type='group_decrease', sub_type='lea...
    │    │                   │       │          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002940EAF09A0>
    │    │                   │       └ <classmethod object at 0x000002946B6D46D0>
    │    │                   └ <Matcher from alert, type=notice, priority=1, temp=False>
    │    └ GroupDecreaseNoticeEvent(time=1618115939, self_id=3235657949, post_type='notice', notice_type='group_decrease', sub_type='lea...
    └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002940EAF09A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 232, in check_rule
    await cls.rule(bot, event, state))
          │   │    │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │   │    │    └ GroupDecreaseNoticeEvent(time=1618115939, self_id=3235657949, post_type='notice', notice_type='group_decrease', sub_type='lea...
          │   │    └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002940EAF09A0>
          │   └ <nonebot.rule.Rule object at 0x000002940EACC730>
          └ <Matcher from alert, type=notice, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\rule.py", line 85, in __call__
    results = await asyncio.gather(
                    │       └ <function gather at 0x000002946B512B80>
                    └ <module 'asyncio' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\asyncio\\__init__.py'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\utils.py", line 47, in _wrapper
    pfunc = partial(func, *args, **kwargs)
            │       │      │       └ {}
            │       │      └ (<nonebot.adapters.cqhttp.bot.Bot object at 0x000002940EAF09A0>, GroupDecreaseNoticeEvent(time=1618115939, self_id=3235657949...
            │       └ 'group_decrease.kick_me'
            └ <class 'functools.partial'>

TypeError: the first argument must be callable
2021-04-11 12:38:59.143 | ERROR    | nonebot:_check_matcher:116 - Rule check failed for <Matcher from alert, type=notice, priority=1, temp=False>.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 19, in <module>
    nonebot.run()
    │       └ <function run at 0x000002946B655C10>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000029468E08A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000002940DD338B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002946BA11400>
    │       │   └ None
    │       └ <function run at 0x000002940DBB04C0>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000002940DBD31F0>
    └ <uvicorn.main.Server object at 0x000002940EADE970>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000002940DBD3280>
    │    │                  └ <uvicorn.main.Server object at 0x000002940EADE970>
    │    └ <function BaseEventLoop.run_until_complete at 0x000002946B5208B0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002946B520820>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002946B5233A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002946B4BF4C0>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002940EBD12E0>(<_GatheringFu...be callable')>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002940EBD12E0>(<_GatheringFu...be callable')>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002940EBD12E0>(<_GatheringFu...be callable')>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002940EBD12E0>(<_GatheringFu...be callable')>)>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 113, in _check_matcher
    bot, event) or not await Matcher.check_rule(bot, event, state):
    │    │                   │       │          │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
    │    │                   │       │          │    └ GroupDecreaseNoticeEvent(time=1618115939, self_id=3235657949, post_type='notice', notice_type='group_decrease', sub_type='kic...
    │    │                   │       │          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002940EAF09A0>
    │    │                   │       └ <classmethod object at 0x000002946B6D46D0>
    │    │                   └ <Matcher from alert, type=notice, priority=1, temp=False>
    │    └ GroupDecreaseNoticeEvent(time=1618115939, self_id=3235657949, post_type='notice', notice_type='group_decrease', sub_type='kic...
    └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002940EAF09A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 232, in check_rule
    await cls.rule(bot, event, state))
          │   │    │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │   │    │    └ GroupDecreaseNoticeEvent(time=1618115939, self_id=3235657949, post_type='notice', notice_type='group_decrease', sub_type='kic...
          │   │    └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002940EAF09A0>
          │   └ <nonebot.rule.Rule object at 0x000002940EACC730>
          └ <Matcher from alert, type=notice, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\rule.py", line 85, in __call__
    results = await asyncio.gather(
                    │       └ <function gather at 0x000002946B512B80>
                    └ <module 'asyncio' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\asyncio\\__init__.py'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\utils.py", line 47, in _wrapper
    pfunc = partial(func, *args, **kwargs)
            │       │      │       └ {}
            │       │      └ (<nonebot.adapters.cqhttp.bot.Bot object at 0x000002940EAF09A0>, GroupDecreaseNoticeEvent(time=1618115939, self_id=3235657949...
            │       └ 'group_decrease.kick_me'
            └ <class 'functools.partial'>

TypeError: the first argument must be callable
2021-04-11 18:54:35.580 | ERROR    | uvicorn:load:280 - Error loading ASGI app. Could not import module "main".
2021-04-11 20:48:04.618 | ERROR    | nonebot:_load_plugin:1037 - Failed to import "feedback"
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 4, in <module>
    salmon.init()
    │      └ <function init at 0x000002870FEE8790>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 28, in init
    nonebot.load_plugins(module_name)
    │       │            └ 'salmon/modules/botmanage'
    │       └ <function load_plugins at 0x000002870FBA9AF0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 1044, in load_plugins
    result = context.run(_load_plugin, module_info)
             │       │   │             └ ModuleInfo(module_finder=FileFinder('salmon/modules/botmanage'), name='feedback', ispkg=False)
             │       │   └ <function load_plugins.<locals>._load_plugin at 0x000002873205A790>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x0000028732214780>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 1028, in _load_plugin
    module = _load(spec)
             │     └ ModuleSpec(name='feedback', loader=<_frozen_importlib_external.SourceFileLoader object at 0x0000028732208F70>, origin='salmon...
             └ <function _load at 0x000002870CB6F040>

  File "<frozen importlib._bootstrap>", line 711, in _load
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 790, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed

  File "salmon/modules/botmanage\feedback.py", line 3, in <module>
    from hoshino.typing import CQEvent, T_State, GroupMessageEvent, PrivateMessageEvent, Message

ModuleNotFoundError: No module named 'hoshino'
2021-04-11 20:48:04.625 | ERROR    | nonebot:_load_plugin:1037 - Failed to import "help"
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 4, in <module>
    salmon.init()
    │      └ <function init at 0x000002870FEE8790>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 28, in init
    nonebot.load_plugins(module_name)
    │       │            └ 'salmon/modules/botmanage'
    │       └ <function load_plugins at 0x000002870FBA9AF0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 1044, in load_plugins
    result = context.run(_load_plugin, module_info)
             │       │   │             └ ModuleInfo(module_finder=FileFinder('salmon/modules/botmanage'), name='help', ispkg=False)
             │       │   └ <function load_plugins.<locals>._load_plugin at 0x000002873205A790>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x00000287322101C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\plugin.py", line 1028, in _load_plugin
    module = _load(spec)
             │     └ ModuleSpec(name='help', loader=<_frozen_importlib_external.SourceFileLoader object at 0x0000028732219520>, origin='salmon/mod...
             └ <function _load at 0x000002870CB6F040>

  File "<frozen importlib._bootstrap>", line 711, in _load
  File "<frozen importlib._bootstrap>", line 680, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 790, in exec_module
  File "<frozen importlib._bootstrap>", line 228, in _call_with_frames_removed

  File "salmon/modules/botmanage\help.py", line 5, in <module>
    sv = Service('_help_', manage_priv=priv.SUPER, visible=False)
         │                             └ <module 'salmon.priv' from 'C:\\bot\\SalmonBot\\salmon\\priv.py'>
         └ <class 'salmon.service.Service'>

AttributeError: module 'salmon.priv' has no attribute 'SUPER'
2021-04-11 21:00:35.020 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectTimeout'> occured when doing scheduled job update_seeker.
2021-04-11 21:00:35.022 | ERROR    | salmon:wrapper:21 - 
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x000001629D19E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000162C03E2B50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x000001629D19ACA0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 10, 'read': 10, 'write': 10, 'pool': 10}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x000001629D19AD30>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x000001629D15FF70>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x00000162C03E2B80>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x000001629D146D60>
                 └ <httpcore._backends.auto.AutoBackend object at 0x00000162C03E2B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000162C048D740>
    │    │   │     │     └ TimeoutError()
    │    │   │     └ <class 'asyncio.exceptions.TimeoutError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000162C03F62E0>
    └ <contextlib._GeneratorContextManager object at 0x00000162C042F4F0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectTimeout'>

httpcore.ConnectTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001629D3BA8B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 32, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001629CFEDA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001629A789AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000162BF6D2860>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001629CFF5100>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000162BF54D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000162BF5734C0>
    └ <uvicorn.main.Server object at 0x00000162C0321D00>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000162BF573550>
    │    │                  └ <uvicorn.main.Server object at 0x00000162C0321D00>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001629CEB9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001629CEB9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001629CEBB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001629CE5C310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000162C042FA00>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000162C042FA00>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000162C042FA00>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000162C042FA00>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=官漫更新 name=update_seeker)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=官漫更新 name=update_seeker)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=官漫更新 name=update_seeker)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function update_seeker at 0x00000162C00721F0>

  File "salmon/modules/priconne\comic.py", line 108, in update_seeker
    resp = await aiohttpx.get(index_api, timeout=10)
                 │        │   └ 'https://comic.priconne-redive.jp/api/index'
                 │        └ <function get at 0x00000162BF70CB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {'timeout': 10}
                 │      │   │     └ ()
                 │      │   └ 'https://comic.priconne-redive.jp/api/index'
                 │      └ <function AsyncClient.get at 0x000001629D39D3A0>
                 └ <httpx.AsyncClient object at 0x00000162C0413A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x000001629D39D0D0>
                 └ <httpx.AsyncClient object at 0x00000162C0413A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x000001629D39D160>
                     └ <httpx.AsyncClient object at 0x00000162C0413A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001629D39D1F0>
                     └ <httpx.AsyncClient object at 0x00000162C0413A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001629D39D280>
                     └ <httpx.AsyncClient object at 0x00000162C0413A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=10)
                     │    │                    └ <Request('GET', 'https://comic.priconne-redive.jp/api/index')>
                     │    └ <function AsyncClient._send_single_request at 0x000001629D39D310>
                     └ <httpx.AsyncClient object at 0x00000162C0413A60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x000001629D19E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000162C03E2B50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000162C04CA340>
    │    │   │     │     └ ConnectTimeout(TimeoutError())
    │    │   │     └ <class 'httpcore.ConnectTimeout'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000162C048C890>
    └ <contextlib._GeneratorContextManager object at 0x00000162C042F220>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'https://comic.priconne-redive.jp/api/index')>}
          │          └ ''
          └ <class 'httpx.ConnectTimeout'>

httpx.ConnectTimeout
2021-04-11 21:01:05.743 | ERROR    | nonebot:receive:285 - WebSocket disconnected by peer.
2021-04-11 21:15:09.039 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectTimeout'> occured when doing scheduled job pcr_news_poller.
2021-04-11 21:15:09.041 | ERROR    | salmon:wrapper:21 - 
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x0000020763316550>
                                                 └ <httpcore.AsyncConnectionPool object at 0x0000020706561DF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x0000020763314AF0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x0000020763314B80>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x00000207632D8DC0>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x0000020706584070>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x00000207632C0D10>
                 └ <httpcore._backends.auto.AutoBackend object at 0x0000020706584070>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000207065AD940>
    │    │   │     │     └ TimeoutError()
    │    │   │     └ <class 'asyncio.exceptions.TimeoutError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000002070653CD60>
    └ <contextlib._GeneratorContextManager object at 0x0000020706584CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectTimeout'>

httpcore.ConnectTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x0000020763535700>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 36, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000207631648B0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000020760949CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000002070584F900>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002076315E880>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000207056C8790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000207056F14C0>
    └ <uvicorn.main.Server object at 0x00000207064B4550>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000207056F1550>
    │    │                  └ <uvicorn.main.Server object at 0x00000207064B4550>
    │    └ <function BaseEventLoop.run_until_complete at 0x0000020763030550>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000207630304C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000020763034040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000020762FD3160>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000020706561DC0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000020706561DC0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000020706561DC0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000020706561DC0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x00000207064A61F0>

  File "salmon/modules/priconne\news.py", line 98, in pcr_news_poller
    await news_poller(SonetSpider, svtw, '台服官网')
          │           │            └ <salmon.service.Service object at 0x000002070621F670>
          │           └ <class 'news.SonetSpider'>
          └ <function news_poller at 0x000002070622A430>

  File "salmon/modules/priconne\news.py", line 85, in news_poller
    await spider.get_update()
          │      └ <classmethod object at 0x000002070621FF10>
          └ <class 'news.SonetSpider'>

  File "salmon/modules/priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x0000020706237FA0>
                 └ <class 'news.SonetSpider'>

  File "salmon/modules/priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │        │   └ <class 'news.SonetSpider'>
                 │        └ <function get at 0x00000207058A88B0>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │      └ <function AsyncClient.get at 0x00000207635191F0>
                 └ <httpx.AsyncClient object at 0x000002070658A850>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x0000020763513EE0>
                 └ <httpx.AsyncClient object at 0x000002070658A850>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x0000020763513F70>
                     └ <httpx.AsyncClient object at 0x000002070658A850>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000020763519040>
                     └ <httpx.AsyncClient object at 0x000002070658A850>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000207635190D0>
                     └ <httpx.AsyncClient object at 0x000002070658A850>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>
                     │    └ <function AsyncClient._send_single_request at 0x0000020763519160>
                     └ <httpx.AsyncClient object at 0x000002070658A850>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x0000020763316550>
                                                 └ <httpcore.AsyncConnectionPool object at 0x0000020706561DF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000207065AD780>
    │    │   │     │     └ ConnectTimeout(TimeoutError())
    │    │   │     └ <class 'httpcore.ConnectTimeout'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000002070653CB30>
    └ <contextlib._GeneratorContextManager object at 0x0000020706584280>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>}
          │          └ ''
          └ <class 'httpx.ConnectTimeout'>

httpx.ConnectTimeout
2021-04-11 21:15:35.037 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectTimeout'> occured when doing scheduled job update_seeker.
2021-04-11 21:15:35.038 | ERROR    | salmon:wrapper:21 - 
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x0000020763316550>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000207065AAB50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x0000020763314AF0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 10, 'read': 10, 'write': 10, 'pool': 10}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x0000020763314B80>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x00000207632D8DC0>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x00000207065AAB80>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x00000207632C0D10>
                 └ <httpcore._backends.auto.AutoBackend object at 0x00000207065AAB80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000207066A2B40>
    │    │   │     │     └ TimeoutError()
    │    │   │     └ <class 'asyncio.exceptions.TimeoutError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000207066A6510>
    └ <contextlib._GeneratorContextManager object at 0x00000207066CE250>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectTimeout'>

httpcore.ConnectTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x0000020763535700>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 36, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000207631648B0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x0000020760949CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000002070584F900>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002076315E880>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000207056C8790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000207056F14C0>
    └ <uvicorn.main.Server object at 0x00000207064B4550>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000207056F1550>
    │    │                  └ <uvicorn.main.Server object at 0x00000207064B4550>
    │    └ <function BaseEventLoop.run_until_complete at 0x0000020763030550>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000207630304C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000020763034040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000020762FD3160>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000020706561AF0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x0000020706561AF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x0000020706561AF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x0000020706561AF0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=官漫更新 name=update_seeker)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=官漫更新 name=update_seeker)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=官漫更新 name=update_seeker)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function update_seeker at 0x00000207062093A0>

  File "salmon/modules/priconne\comic.py", line 108, in update_seeker
    resp = await aiohttpx.get(index_api, timeout=10)
                 │        │   └ 'https://comic.priconne-redive.jp/api/index'
                 │        └ <function get at 0x00000207058A88B0>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {'timeout': 10}
                 │      │   │     └ ()
                 │      │   └ 'https://comic.priconne-redive.jp/api/index'
                 │      └ <function AsyncClient.get at 0x00000207635191F0>
                 └ <httpx.AsyncClient object at 0x0000020706561E20>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x0000020763513EE0>
                 └ <httpx.AsyncClient object at 0x0000020706561E20>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x0000020763513F70>
                     └ <httpx.AsyncClient object at 0x0000020706561E20>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x0000020763519040>
                     └ <httpx.AsyncClient object at 0x0000020706561E20>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000207635190D0>
                     └ <httpx.AsyncClient object at 0x0000020706561E20>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=10)
                     │    │                    └ <Request('GET', 'https://comic.priconne-redive.jp/api/index')>
                     │    └ <function AsyncClient._send_single_request at 0x0000020763519160>
                     └ <httpx.AsyncClient object at 0x0000020706561E20>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x0000020763316550>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000207065AAB50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000207066D6080>
    │    │   │     │     └ ConnectTimeout(TimeoutError())
    │    │   │     └ <class 'httpcore.ConnectTimeout'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000207066A65F0>
    └ <contextlib._GeneratorContextManager object at 0x00000207065AADF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'https://comic.priconne-redive.jp/api/index')>}
          │          └ ''
          └ <class 'httpx.ConnectTimeout'>

httpx.ConnectTimeout
2021-04-11 21:20:09.082 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectTimeout'> occured when doing scheduled job pcr_news_poller.
2021-04-11 21:20:09.084 | ERROR    | salmon:wrapper:21 - 
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000208B3186550>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000208D63CE700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000208B3182AF0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x00000208B3182B80>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x00000208B3148DC0>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x00000208D63CE7F0>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x00000208B3130DB0>
                 └ <httpcore._backends.auto.AutoBackend object at 0x00000208D63CE7F0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000208D6432140>
    │    │   │     │     └ TimeoutError()
    │    │   │     └ <class 'asyncio.exceptions.TimeoutError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000208D63A2E40>
    └ <contextlib._GeneratorContextManager object at 0x00000208D641B0D0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectTimeout'>

httpcore.ConnectTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000208B33A4700>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 33, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000208B2FD48B0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000208B0798C10>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000208D56BF9F0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000208B2FCE8B0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000208D5538790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000208D55614C0>
    └ <uvicorn.main.Server object at 0x00000208D6325F10>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000208D5561550>
    │    │                  └ <uvicorn.main.Server object at 0x00000208D6325F10>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000208B2EA0550>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000208B2EA04C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000208B2EA3040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000208B2E43160>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000208D64342B0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000208D64342B0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000208D64342B0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000208D64342B0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x00000208D62571F0>

  File "salmon/modules/priconne\news.py", line 99, in pcr_news_poller
    await news_poller(BiliSpider, svbl, 'B服官网')
          │           │           └ <salmon.service.Service object at 0x00000208D60AE700>
          │           └ <class 'news.BiliSpider'>
          └ <function news_poller at 0x00000208D60A8430>

  File "salmon/modules/priconne\news.py", line 85, in news_poller
    await spider.get_update()
          │      └ <classmethod object at 0x00000208D60AEF70>
          └ <class 'news.BiliSpider'>

  File "salmon/modules/priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x00000208D60C1040>
                 └ <class 'news.BiliSpider'>

  File "salmon/modules/priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://api.biligame.com/news/list?gameExtensionId=267&positionId=2&pageNum=1&pageSize=7&typeId='
                 │        │   └ <class 'news.BiliSpider'>
                 │        └ <function get at 0x00000208D57178B0>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://api.biligame.com/news/list?gameExtensionId=267&positionId=2&pageNum=1&pageSize=7&typeId='
                 │      └ <function AsyncClient.get at 0x00000208B33891F0>
                 └ <httpx.AsyncClient object at 0x00000208D640C340>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000208B3384EE0>
                 └ <httpx.AsyncClient object at 0x00000208D640C340>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000208B3384F70>
                     └ <httpx.AsyncClient object at 0x00000208D640C340>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000208B3389040>
                     └ <httpx.AsyncClient object at 0x00000208D640C340>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000208B33890D0>
                     └ <httpx.AsyncClient object at 0x00000208D640C340>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://api.biligame.com/news/list?gameExtensionId=267&positionId=2&pageNum=1&pageSize=7&typeId=')>
                     │    └ <function AsyncClient._send_single_request at 0x00000208B3389160>
                     └ <httpx.AsyncClient object at 0x00000208D640C340>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000208B3186550>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000208D63CE700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000208D64257C0>
    │    │   │     │     └ ConnectTimeout(TimeoutError())
    │    │   │     └ <class 'httpcore.ConnectTimeout'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000208D6488E40>
    └ <contextlib._GeneratorContextManager object at 0x00000208D641B8B0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://api.biligame.com/news/list?gameExtensionId=267&positionId=2&pageNum=1&pageSize=7&typeId=')>}
          │          └ ''
          └ <class 'httpx.ConnectTimeout'>

httpx.ConnectTimeout
2021-04-11 21:33:31.981 | ERROR    | nonebot:receive:285 - WebSocket disconnected by peer.
2021-04-11 21:33:31.982 | ERROR    | alert:disconnect:25 - WebSocket连接已断开
2021-04-11 21:35:22.349 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectTimeout'> occured when doing scheduled job pcr_news_poller.
2021-04-11 21:35:22.349 | ERROR    | salmon:wrapper:21 - 
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x000001CFAED56550>
                                                 └ <httpcore.AsyncConnectionPool object at 0x000001CFD1F99D90>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x000001CFAED54AF0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x000001CFAED54B80>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x000001CFAED18DC0>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x000001CFD1F99220>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x000001CFAED00CC0>
                 └ <httpcore._backends.auto.AutoBackend object at 0x000001CFD1F99220>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x000001CFD2000080>
    │    │   │     │     └ TimeoutError()
    │    │   │     └ <class 'asyncio.exceptions.TimeoutError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001CFD1F975F0>
    └ <contextlib._GeneratorContextManager object at 0x000001CFD1FE87F0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectTimeout'>

httpcore.ConnectTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001CFAEF74700>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001CFAEBA48B0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001CFAC369C10>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000001CFD12919F0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001CFAEB9E8B0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001CFD1108790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000001CFD11314C0>
    └ <uvicorn.main.Server object at 0x000001CFD1EED730>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000001CFD1131550>
    │    │                  └ <uvicorn.main.Server object at 0x000001CFD1EED730>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001CFAEA70550>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001CFAEA704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001CFAEA73040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001CFAEA13160>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001CFD1FE8340>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001CFD1FE8340>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001CFD1FE8340>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001CFD1FE8340>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x000001CFD1ECC1F0>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 98, in pcr_news_poller
    await news_poller(SonetSpider, svtw, '台服官网')
          │           │            └ <salmon.service.Service object at 0x000001CFD192A0D0>
          │           └ <class 'news.SonetSpider'>
          └ <function news_poller at 0x000001CFD1C66430>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 85, in news_poller
    await spider.get_update()
          │      └ <classmethod object at 0x000001CFD1932AF0>
          └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x000001CFD1949670>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │        │   └ <class 'news.SonetSpider'>
                 │        └ <function get at 0x000001CFD12C7B80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │      └ <function AsyncClient.get at 0x000001CFAEF591F0>
                 └ <httpx.AsyncClient object at 0x000001CFD1FC2790>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x000001CFAEF53EE0>
                 └ <httpx.AsyncClient object at 0x000001CFD1FC2790>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x000001CFAEF53F70>
                     └ <httpx.AsyncClient object at 0x000001CFD1FC2790>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x000001CFAEF59040>
                     └ <httpx.AsyncClient object at 0x000001CFD1FC2790>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x000001CFAEF590D0>
                     └ <httpx.AsyncClient object at 0x000001CFD1FC2790>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://www.princessconnect.so-net.tw/news')>
                     │    └ <function AsyncClient._send_single_request at 0x000001CFAEF59160>
                     └ <httpx.AsyncClient object at 0x000001CFD1FC2790>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x000001CFAED56550>
                                                 └ <httpcore.AsyncConnectionPool object at 0x000001CFD1F99D90>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x000001CFD2000300>
    │    │   │     │     └ ConnectTimeout(TimeoutError())
    │    │   │     └ <class 'httpcore.ConnectTimeout'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x000001CFD1F97270>
    └ <contextlib._GeneratorContextManager object at 0x000001CFD1FE8B50>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://www.princessconnect.so-net.tw/news')>}
          │          └ ''
          └ <class 'httpx.ConnectTimeout'>

httpx.ConnectTimeout
2021-04-11 21:36:22.294 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from feedback, type=message, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001CFAEF74700>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001CFAEBA48B0>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001CFAC369C10>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000001CFD12919F0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001CFAEB9E8B0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001CFD1108790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000001CFD11314C0>
    └ <uvicorn.main.Server object at 0x000001CFD1EED730>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000001CFD1131550>
    │    │                  └ <uvicorn.main.Server object at 0x000001CFD1EED730>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001CFAEA70550>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001CFAEA704C0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001CFAEA73040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001CFAEA13160>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001CFD2144370>(<_GatheringFu...=[True, True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001CFD2144370>(<_GatheringFu...=[True, True]>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001CFD2144370>(<_GatheringFu...=[True, True]>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001CFD2144370>(<_GatheringFu...=[True, True]>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': '反馈', 'command': ('反馈',)}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ PrivateMessageEvent(time=1618148182, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001CFD2101AF0>
          │            └ <Matcher from feedback, type=message, priority=1, temp=False>
          └ <function _run_matcher at 0x000001CFAEF5D310>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': '反馈', 'command': ('反馈',)}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ PrivateMessageEvent(time=1618148182, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001CFD2101AF0>
          │       └ <function Matcher.run at 0x000001CFAEC29670>
          └ <Matcher from feedback, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': '反馈', 'command': ('反馈',)}, '_suffix': {'raw_command': None, 'command': None}, 'text': 'test', '_c...
          │    │           │        │    └ PrivateMessageEvent(time=1618148182, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001CFD2101AF0>
          │    │           └ <function feedback at 0x000001CFD1EDF670>
          │    └ <function Matcher.run_handler at 0x000001CFAEC295E0>
          └ <Matcher from feedback, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function feedback at 0x000001CFD1EDF670>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 377, in wrapper
    await matcher.run_handler(func, bot, event, state)
          │       │           │     │    │      └ {'_prefix': {'raw_command': '反馈', 'command': ('反馈',)}, '_suffix': {'raw_command': None, 'command': None}, 'text': 'test', '_c...
          │       │           │     │    └ PrivateMessageEvent(time=1618148182, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          │       │           │     └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001CFD2101AF0>
          │       │           └ <function feedback at 0x000001CFD1EDF430>
          │       └ <function Matcher.run_handler at 0x000001CFAEC295E0>
          └ <Matcher from feedback, type=message, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function feedback at 0x000001CFD1EDF430>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\feedback.py", line 33, in feedback
    await bot.send_private_msg(self_id=event.self_id, user_id=su, message=f'群聊{event.group_id}@用户{uid}：\n{text}')
          │                            │     │                └ 1351495774
          │                            │     └ 3235657949
          │                            └ PrivateMessageEvent(time=1618148182, self_id=3235657949, post_type='message', sub_type='friend', user_id=1351495774, message_...
          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001CFD2101AF0>

AttributeError: 'PrivateMessageEvent' object has no attribute 'group_id'
2021-04-11 22:07:49.053 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_invite, type=request, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000127473F88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001274702DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000127447C8AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x0000012769712770>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000127470350A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001276958D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000127695B34C0>
    └ <uvicorn.main.Server object at 0x000001276A3727C0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000127695B3550>
    │    │                  └ <uvicorn.main.Server object at 0x000001276A3727C0>
    │    └ <function BaseEventLoop.run_until_complete at 0x0000012746EF9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000012746EF9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012746EFB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012746E9B310>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001276A448850>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000001276A448850>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000001276A448850>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000001276A448850>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ GroupRequestEvent(time=1618150069, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001276A41C4C0>
          │            └ <Matcher from group_invite, type=request, priority=1, temp=False>
          └ <function _run_matcher at 0x00000127473D64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ GroupRequestEvent(time=1618150069, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001276A41C4C0>
          │       └ <function Matcher.run at 0x00000127470B3820>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │    │           │        │    └ GroupRequestEvent(time=1618150069, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001276A41C4C0>
          │    │           └ <function handle_group_invite at 0x000001276A365700>
          │    └ <function Matcher.run_handler at 0x00000127470B3790>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function handle_group_invite at 0x000001276A365700>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_invite.py", line 13, in handle_group_invite
    await bot.reject(reason='邀请入群请联系维护组')
          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001276A41C4C0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 368, in call_api
    return _handle_api_result(await ResultStore.fetch(
           │                        │           └ <classmethod object at 0x0000012747132A60>
           │                        └ <class 'nonebot.adapters.cqhttp.bot.ResultStore'>
           └ <function _handle_api_result at 0x00000127473D6B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 183, in _handle_api_result
    raise ActionFailed(**result)
          │              └ {'data': None, 'echo': {'seq': 3}, 'msg': 'API_NOT_FOUND', 'retcode': 404, 'status': 'failed', 'wording': 'API不存在'}
          └ <class 'nonebot.adapters.cqhttp.exception.ActionFailed'>

nonebot.adapters.cqhttp.exception.ActionFailed: <ActionFailed data=None, echo={'seq': 3}, msg=API_NOT_FOUND, retcode=404, status=failed, wording=API不存在>
2021-04-11 22:11:17.480 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_invite, type=request, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000002622FEF88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000002622FB2DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000002622D2F9AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000262522118B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002622FB350A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000002625208D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000262520B34C0>
    └ <uvicorn.main.Server object at 0x0000026252E794F0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000262520B3550>
    │    │                  └ <uvicorn.main.Server object at 0x0000026252E794F0>
    │    └ <function BaseEventLoop.run_until_complete at 0x000002622F9F9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002622F9F9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002622F9FB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002622F99A310>
    └ <Handle <TaskStepMethWrapper object at 0x0000026252F25B20>()>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000026252F25B20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000026252F25B20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000026252F25B20>()>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ GroupRequestEvent(time=1618150277, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000026252F25310>
          │            └ <Matcher from group_invite, type=request, priority=1, temp=False>
          └ <function _run_matcher at 0x000002622FED64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ GroupRequestEvent(time=1618150277, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000026252F25310>
          │       └ <function Matcher.run at 0x000002622FBB3820>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │    │           │        │    └ GroupRequestEvent(time=1618150277, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x0000026252F25310>
          │    │           └ <function handle_group_invite at 0x0000026252238310>
          │    └ <function Matcher.run_handler at 0x000002622FBB3790>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function handle_group_invite at 0x0000026252238310>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_invite.py", line 11, in handle_group_invite
    await event.approve()
          │     └ <function GroupRequestEvent.approve at 0x000002622FC194C0>
          └ GroupRequestEvent(time=1618150277, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...

TypeError: approve() missing 1 required positional argument: 'bot'
2021-04-11 22:20:28.074 | ERROR    | nonebot:receive:285 - WebSocket disconnected by peer.
2021-04-11 22:20:28.076 | ERROR    | alert:disconnect:23 - WebSocket连接已断开
2021-04-11 22:20:57.867 | ERROR    | nonebot:_run_hook:166 - Error when running WebSocketConnection hook. Running cancelled!
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000138C7F088B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000138C7B3DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000138C5319AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000138EA2227C0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000138C7B450A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000138EA09D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000138EA0C34C0>
    └ <uvicorn.main.Server object at 0x00000138EAE88640>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000138EA0C3550>
    │    │                  └ <uvicorn.main.Server object at 0x00000138EAE88640>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000138C7A09700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000138C7A09670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000138C7A0B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000138C79AB310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000138EAF57430>(<_GatheringFu...call timeout>>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000138EAF57430>(<_GatheringFu...call timeout>>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000138EAF57430>(<_GatheringFu...call timeout>>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000138EAF57430>(<_GatheringFu...call timeout>>)>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\__init__.py", line 164, in _run_hook
    await asyncio.gather(*coros)
          │       │       └ [<coroutine object connect at 0x00000138EAFDF440>]
          │       └ <function gather at 0x00000138C79FE9D0>
          └ <module 'asyncio' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\asyncio\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\alert.py", line 14, in connect
    await bot.send_private_msg(user_id=feed_back, message='ただいま戻りました、主さま')
          │                            └ 1351495774
          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000138EAF57910>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 368, in call_api
    return _handle_api_result(await ResultStore.fetch(
           │                        │           └ <classmethod object at 0x00000138C7C42A60>
           │                        └ <class 'nonebot.adapters.cqhttp.bot.ResultStore'>
           └ <function _handle_api_result at 0x00000138C7EE6B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 212, in fetch
    raise NetworkError("WebSocket API call timeout") from None
          └ <class 'nonebot.adapters.cqhttp.exception.NetworkError'>

nonebot.adapters.cqhttp.exception.NetworkError: <NetWorkError message=WebSocket API call timeout>
2021-04-11 22:21:07.558 | ERROR    | nonebot:receive:285 - WebSocket disconnected by peer.
2021-04-11 22:21:07.559 | ERROR    | alert:disconnect:23 - WebSocket连接已断开
2021-04-11 22:21:57.003 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_invite, type=request, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000138C7F088B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000138C7B3DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000138C5319AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000138EA2227C0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000138C7B450A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000138EA09D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000138EA0C34C0>
    └ <uvicorn.main.Server object at 0x00000138EAE88640>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000138EA0C3550>
    │    │                  └ <uvicorn.main.Server object at 0x00000138EAE88640>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000138C7A09700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000138C7A09670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000138C7A0B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000138C79AB310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000138EB022460>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000138EB022460>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000138EB022460>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000138EB022460>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ GroupRequestEvent(time=1618150917, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000138EAF32B80>
          │            └ <Matcher from group_invite, type=request, priority=1, temp=False>
          └ <function _run_matcher at 0x00000138C7EE64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ GroupRequestEvent(time=1618150917, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000138EAF32B80>
          │       └ <function Matcher.run at 0x00000138C7BC3820>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │    │           │        │    └ GroupRequestEvent(time=1618150917, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000138EAF32B80>
          │    │           └ <function handle_group_invite at 0x00000138EA248310>
          │    └ <function Matcher.run_handler at 0x00000138C7BC3790>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function handle_group_invite at 0x00000138EA248310>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_invite.py", line 11, in handle_group_invite
    await bot.reject(reason='邀请入群请联系维护组')
          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x00000138EAF32B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 368, in call_api
    return _handle_api_result(await ResultStore.fetch(
           │                        │           └ <classmethod object at 0x00000138C7C42A60>
           │                        └ <class 'nonebot.adapters.cqhttp.bot.ResultStore'>
           └ <function _handle_api_result at 0x00000138C7EE6B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 183, in _handle_api_result
    raise ActionFailed(**result)
          │              └ {'data': None, 'echo': {'seq': 6}, 'msg': 'API_NOT_FOUND', 'retcode': 404, 'status': 'failed', 'wording': 'API不存在'}
          └ <class 'nonebot.adapters.cqhttp.exception.ActionFailed'>

nonebot.adapters.cqhttp.exception.ActionFailed: <ActionFailed data=None, echo={'seq': 6}, msg=API_NOT_FOUND, retcode=404, status=failed, wording=API不存在>
2021-04-11 22:38:31.878 | ERROR    | nonebot:receive:285 - WebSocket disconnected by peer.
2021-04-11 22:38:31.879 | ERROR    | alert:disconnect:23 - WebSocket连接已断开
2021-04-11 22:40:38.131 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_invite, type=request, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000002AAF0D788B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000002AAF09ADA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000002AAEE188AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000002AA930928B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000002AAF09B50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000002AA92F0D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000002AA92F334C0>
    └ <uvicorn.main.Server object at 0x000002AA93E49220>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000002AA92F33550>
    │    │                  └ <uvicorn.main.Server object at 0x000002AA93E49220>
    │    └ <function BaseEventLoop.run_until_complete at 0x000002AAF0879700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002AAF0879670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002AAF087B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002AAF081B310>
    └ <Handle <TaskStepMethWrapper object at 0x000002AA93F20550>()>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000002AA93F20550>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000002AA93F20550>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000002AA93F20550>()>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ GroupRequestEvent(time=1618152038, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002AA93EF8B50>
          │            └ <Matcher from group_invite, type=request, priority=1, temp=False>
          └ <function _run_matcher at 0x000002AAF0D564C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ GroupRequestEvent(time=1618152038, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002AA93EF8B50>
          │       └ <function Matcher.run at 0x000002AAF0A33820>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │    │           │        │    └ GroupRequestEvent(time=1618152038, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002AA93EF8B50>
          │    │           └ <function handle_group_invite at 0x000002AA930B7310>
          │    └ <function Matcher.run_handler at 0x000002AAF0A33790>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function handle_group_invite at 0x000002AA930B7310>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_invite.py", line 13, in handle_group_invite
    await group_invite.approve()
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

AttributeError: type object 'Matcher' has no attribute 'approve'
2021-04-11 22:43:01.760 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_invite, type=request, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000247418188B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000002474144DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000002473EC09AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x0000024763B32810>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000247414550A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000247639AD790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000247639D34C0>
    └ <uvicorn.main.Server object at 0x0000024764791BB0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000247639D3550>
    │    │                  └ <uvicorn.main.Server object at 0x0000024764791BB0>
    │    └ <function BaseEventLoop.run_until_complete at 0x0000024741319700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024741319670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002474131B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000247412BB310>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002476483DDF0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x000002476483DDF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x000002476483DDF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x000002476483DDF0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ GroupRequestEvent(time=1618152181, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002476483D8B0>
          │            └ <Matcher from group_invite, type=request, priority=1, temp=False>
          └ <function _run_matcher at 0x00000247417F64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ GroupRequestEvent(time=1618152181, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002476483D8B0>
          │       └ <function Matcher.run at 0x00000247414D3820>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │    │           │        │    └ GroupRequestEvent(time=1618152181, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002476483D8B0>
          │    │           └ <function handle_group_invite at 0x0000024764784700>
          │    └ <function Matcher.run_handler at 0x00000247414D3790>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function handle_group_invite at 0x0000024764784700>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_invite.py", line 13, in handle_group_invite
    await bot.approve()
          └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000002476483D8B0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 368, in call_api
    return _handle_api_result(await ResultStore.fetch(
           │                        │           └ <classmethod object at 0x0000024741552A60>
           │                        └ <class 'nonebot.adapters.cqhttp.bot.ResultStore'>
           └ <function _handle_api_result at 0x00000247417F6B80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\adapters\cqhttp\bot.py", line 183, in _handle_api_result
    raise ActionFailed(**result)
          │              └ {'data': None, 'echo': {'seq': 2}, 'msg': 'API_NOT_FOUND', 'retcode': 404, 'status': 'failed', 'wording': 'API不存在'}
          └ <class 'nonebot.adapters.cqhttp.exception.ActionFailed'>

nonebot.adapters.cqhttp.exception.ActionFailed: <ActionFailed data=None, echo={'seq': 2}, msg=API_NOT_FOUND, retcode=404, status=failed, wording=API不存在>
2021-04-11 22:45:06.042 | ERROR    | nonebot:_run_matcher:156 - Running matcher <Matcher from group_invite, type=request, priority=1, temp=False> failed.
Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x000001B2EB8E88B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x000001B2EB51DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x000001B2E8CB9AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x000001B28DC01900>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x000001B2EB5250A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x000001B28DA7D790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x000001B28DAA34C0>
    └ <uvicorn.main.Server object at 0x000001B28E9B63A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x000001B28DAA3550>
    │    │                  └ <uvicorn.main.Server object at 0x000001B28E9B63A0>
    │    └ <function BaseEventLoop.run_until_complete at 0x000001B2EB3E9700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001B2EB3E9670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001B2EB3EB1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001B2EB38B310>
    └ <Handle <TaskStepMethWrapper object at 0x000001B28EA66310>()>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001B28EA66310>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001B28EA66310>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001B28EA66310>()>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 126, in _check_matcher
    await _run_matcher(Matcher, bot, event, state)
          │            │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │            │        │    └ GroupRequestEvent(time=1618152306, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │            │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001B28EA663A0>
          │            └ <Matcher from group_invite, type=request, priority=1, temp=False>
          └ <function _run_matcher at 0x000001B2EB8C64C0>

> File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\message.py", line 154, in _run_matcher
    await matcher.run(bot, event, state)
          │       │   │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │       │   │    └ GroupRequestEvent(time=1618152306, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │       │   └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001B28EA663A0>
          │       └ <function Matcher.run at 0x000001B2EB5A4820>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 527, in run
    await self.run_handler(handler, bot, event, state_)
          │    │           │        │    │      └ {'_prefix': {'raw_command': None, 'command': None}, '_suffix': {'raw_command': None, 'command': None}}
          │    │           │        │    └ GroupRequestEvent(time=1618152306, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...
          │    │           │        └ <nonebot.adapters.cqhttp.bot.Bot object at 0x000001B28EA663A0>
          │    │           └ <function handle_group_invite at 0x000001B28DC27310>
          │    └ <function Matcher.run_handler at 0x000001B2EB5A4790>
          └ <Matcher from group_invite, type=request, priority=1, temp=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\matcher.py", line 512, in run_handler
    await handler(
          └ <function handle_group_invite at 0x000001B28DC27310>

  File "C:\bot\SalmonBot\salmon\modules\botmanage\group_invite.py", line 13, in handle_group_invite
    await event.approve()
          │     └ <function GroupRequestEvent.approve at 0x000001B2EB60A4C0>
          └ GroupRequestEvent(time=1618152306, self_id=3235657949, post_type='request', request_type='group', sub_type='invite', group_id...

TypeError: approve() missing 1 required positional argument: 'bot'
2021-04-12 00:03:07.194 | ERROR    | nonebot:receive:285 - WebSocket disconnected by peer.
2021-04-12 00:03:07.197 | ERROR    | alert:disconnect:23 - WebSocket连接已断开
2021-04-12 00:05:06.696 | ERROR    | salmon:wrapper:20 - <class 'httpx.RemoteProtocolError'> occured when doing scheduled job pcr_news_poller.
2021-04-12 00:05:06.696 | ERROR    | salmon:wrapper:21 - can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D17C5A30>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000192AE44ACA0>
                     └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 106, in arequest
    return await self.connection.arequest(method, url, headers, stream, ext)
                 │    │          │        │       │    │        │       └ {'timeout': {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}}
                 │    │          │        │       │    │        └ <httpx._content.PlainByteStream object at 0x00000192D17C5F10>
                 │    │          │        │       │    └ [(b'Host', b'www.princessconnect.so-net.tw'), (b'Accept', b'*/*'), (b'Accept-Encoding', b'gzip, deflate'), (b'Connection', b'...
                 │    │          │        │       └ (b'http', b'www.princessconnect.so-net.tw', None, b'/news/')
                 │    │          │        └ b'GET'
                 │    │          └ <function AsyncHTTP11Connection.arequest at 0x00000192AE44A430>
                 │    └ <AsyncHTTP11Connection state=2>
                 └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 72, in arequest
    ) = await self._receive_response(timeout)
              │    │                 └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
              │    └ <function AsyncHTTP11Connection._receive_response at 0x00000192AE44A700>
              └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 133, in _receive_response
    event = await self._receive_event(timeout)
                  │    │              └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
                  │    └ <function AsyncHTTP11Connection._receive_event at 0x00000192AE44A820>
                  └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 169, in _receive_event
    event = self.h11_state.next_event()
            │    │         └ <function Connection.next_event at 0x00000192AE4443A0>
            │    └ <h11._connection.Connection object at 0x00000192D1836460>
            └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D184FD00>
    │    │   │     │     └ RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE")
    │    │   │     └ <class 'h11._util.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D18946D0>
    └ <contextlib._GeneratorContextManager object at 0x00000192D1822670>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.RemoteProtocolError'>

httpcore.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000192AE6688B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000192AE29DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000192ABA68AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000192D09818B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000192AE2A50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000192D07FE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000192D08234C0>
    └ <uvicorn.main.Server object at 0x00000192D15E38E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000192D0823550>
    │    │                  └ <uvicorn.main.Server object at 0x00000192D15E38E0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000192AE169700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000192AE169670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000192AE16B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000192AE109310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D1836640>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000192D1836640>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000192D1836640>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D1836640>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x00000192D14FD1F0>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 98, in pcr_news_poller
    await news_poller(SonetSpider, svtw, '台服官网')
          │           │            └ <salmon.service.Service object at 0x00000192D130A220>
          │           └ <class 'news.SonetSpider'>
          └ <function news_poller at 0x00000192D135A430>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 88, in news_poller
    news = await spider.get_update()
                 │      └ <classmethod object at 0x00000192D1301070>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x00000192D103F700>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │        │   └ <class 'news.SonetSpider'>
                 │        └ <function get at 0x00000192D09BBB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │      └ <function AsyncClient.get at 0x00000192AE64C3A0>
                 └ <httpx.AsyncClient object at 0x00000192D180FEE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000192AE64C0D0>
                 └ <httpx.AsyncClient object at 0x00000192D180FEE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000192AE64C160>
                     └ <httpx.AsyncClient object at 0x00000192D180FEE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000192AE64C1F0>
                     └ <httpx.AsyncClient object at 0x00000192D180FEE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000192AE64C280>
                     └ <httpx.AsyncClient object at 0x00000192D180FEE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>
                     │    └ <function AsyncClient._send_single_request at 0x00000192AE64C310>
                     └ <httpx.AsyncClient object at 0x00000192D180FEE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D17C5A30>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D184FB80>
    │    │   │     │     └ RemoteProtocolError(RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"))
    │    │   │     └ <class 'httpcore.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D18DC660>
    └ <contextlib._GeneratorContextManager object at 0x00000192D17C5D60>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>}
          │          └ "can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"
          └ <class 'httpx.RemoteProtocolError'>

httpx.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
2021-04-12 00:05:35.018 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectTimeout'> occured when doing scheduled job update_seeker.
2021-04-12 00:05:35.019 | ERROR    | salmon:wrapper:21 - 
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D1729E80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000192AE44ACA0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 10, 'read': 10, 'write': 10, 'pool': 10}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x00000192AE44AD30>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x00000192AE40AF70>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x00000192D1729CA0>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x00000192AE3F5EF0>
                 └ <httpcore._backends.auto.AutoBackend object at 0x00000192D1729CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D1980440>
    │    │   │     │     └ TimeoutError()
    │    │   │     └ <class 'asyncio.exceptions.TimeoutError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D195DAC0>
    └ <contextlib._GeneratorContextManager object at 0x00000192D172D5B0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectTimeout'>

httpcore.ConnectTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000192AE6688B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000192AE29DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000192ABA68AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000192D09818B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000192AE2A50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000192D07FE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000192D08234C0>
    └ <uvicorn.main.Server object at 0x00000192D15E38E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000192D0823550>
    │    │                  └ <uvicorn.main.Server object at 0x00000192D15E38E0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000192AE169700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000192AE169670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000192AE16B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000192AE109310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D172D3D0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000192D172D3D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000192D172D3D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D172D3D0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=官漫更新 name=update_seeker)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=官漫更新 name=update_seeker)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=官漫更新 name=update_seeker)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function update_seeker at 0x00000192D1327280>

  File "C:\bot\SalmonBot\salmon\modules\priconne\comic.py", line 108, in update_seeker
    resp = await aiohttpx.get(index_api, timeout=10)
                 │        │   └ 'https://comic.priconne-redive.jp/api/index'
                 │        └ <function get at 0x00000192D09BBB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {'timeout': 10}
                 │      │   │     └ ()
                 │      │   └ 'https://comic.priconne-redive.jp/api/index'
                 │      └ <function AsyncClient.get at 0x00000192AE64C3A0>
                 └ <httpx.AsyncClient object at 0x00000192D172F520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000192AE64C0D0>
                 └ <httpx.AsyncClient object at 0x00000192D172F520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000192AE64C160>
                     └ <httpx.AsyncClient object at 0x00000192D172F520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000192AE64C1F0>
                     └ <httpx.AsyncClient object at 0x00000192D172F520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000192AE64C280>
                     └ <httpx.AsyncClient object at 0x00000192D172F520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=10)
                     │    │                    └ <Request('GET', 'https://comic.priconne-redive.jp/api/index')>
                     │    └ <function AsyncClient._send_single_request at 0x00000192AE64C310>
                     └ <httpx.AsyncClient object at 0x00000192D172F520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D1729E80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D19805C0>
    │    │   │     │     └ ConnectTimeout(TimeoutError())
    │    │   │     └ <class 'httpcore.ConnectTimeout'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D1894970>
    └ <contextlib._GeneratorContextManager object at 0x00000192D174F7F0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'https://comic.priconne-redive.jp/api/index')>}
          │          └ ''
          └ <class 'httpx.ConnectTimeout'>

httpx.ConnectTimeout
2021-04-12 00:10:13.890 | ERROR    | salmon:wrapper:20 - <class 'httpx.RemoteProtocolError'> occured when doing scheduled job pcr_news_poller.
2021-04-12 00:10:13.891 | ERROR    | salmon:wrapper:21 - can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D19CC340>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000192AE44ACA0>
                     └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 106, in arequest
    return await self.connection.arequest(method, url, headers, stream, ext)
                 │    │          │        │       │    │        │       └ {'timeout': {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}}
                 │    │          │        │       │    │        └ <httpx._content.PlainByteStream object at 0x00000192D19CC4F0>
                 │    │          │        │       │    └ [(b'Host', b'www.princessconnect.so-net.tw'), (b'Accept', b'*/*'), (b'Accept-Encoding', b'gzip, deflate'), (b'Connection', b'...
                 │    │          │        │       └ (b'http', b'www.princessconnect.so-net.tw', None, b'/news/')
                 │    │          │        └ b'GET'
                 │    │          └ <function AsyncHTTP11Connection.arequest at 0x00000192AE44A430>
                 │    └ <AsyncHTTP11Connection state=2>
                 └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 72, in arequest
    ) = await self._receive_response(timeout)
              │    │                 └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
              │    └ <function AsyncHTTP11Connection._receive_response at 0x00000192AE44A700>
              └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 133, in _receive_response
    event = await self._receive_event(timeout)
                  │    │              └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
                  │    └ <function AsyncHTTP11Connection._receive_event at 0x00000192AE44A820>
                  └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 169, in _receive_event
    event = self.h11_state.next_event()
            │    │         └ <function Connection.next_event at 0x00000192AE4443A0>
            │    └ <h11._connection.Connection object at 0x00000192D19CCD30>
            └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D19CBE40>
    │    │   │     │     └ RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE")
    │    │   │     └ <class 'h11._util.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D195DC10>
    └ <contextlib._GeneratorContextManager object at 0x00000192D19CCE80>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.RemoteProtocolError'>

httpcore.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000192AE6688B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000192AE29DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000192ABA68AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000192D09818B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000192AE2A50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000192D07FE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000192D08234C0>
    └ <uvicorn.main.Server object at 0x00000192D15E38E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000192D0823550>
    │    │                  └ <uvicorn.main.Server object at 0x00000192D15E38E0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000192AE169700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000192AE169670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000192AE16B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000192AE109310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D19CCA90>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000192D19CCA90>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000192D19CCA90>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D19CCA90>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x00000192D14FD1F0>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 98, in pcr_news_poller
    await news_poller(SonetSpider, svtw, '台服官网')
          │           │            └ <salmon.service.Service object at 0x00000192D130A220>
          │           └ <class 'news.SonetSpider'>
          └ <function news_poller at 0x00000192D135A430>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 88, in news_poller
    news = await spider.get_update()
                 │      └ <classmethod object at 0x00000192D1301070>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x00000192D103F700>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │        │   └ <class 'news.SonetSpider'>
                 │        └ <function get at 0x00000192D09BBB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │      └ <function AsyncClient.get at 0x00000192AE64C3A0>
                 └ <httpx.AsyncClient object at 0x00000192D172D130>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000192AE64C0D0>
                 └ <httpx.AsyncClient object at 0x00000192D172D130>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000192AE64C160>
                     └ <httpx.AsyncClient object at 0x00000192D172D130>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000192AE64C1F0>
                     └ <httpx.AsyncClient object at 0x00000192D172D130>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000192AE64C280>
                     └ <httpx.AsyncClient object at 0x00000192D172D130>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>
                     │    └ <function AsyncClient._send_single_request at 0x00000192AE64C310>
                     └ <httpx.AsyncClient object at 0x00000192D172D130>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D19CC340>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D19D00C0>
    │    │   │     │     └ RemoteProtocolError(RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"))
    │    │   │     └ <class 'httpcore.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D19155F0>
    └ <contextlib._GeneratorContextManager object at 0x00000192D19CC520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>}
          │          └ "can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"
          └ <class 'httpx.RemoteProtocolError'>

httpx.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
2021-04-12 00:10:35.041 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectTimeout'> occured when doing scheduled job update_seeker.
2021-04-12 00:10:35.042 | ERROR    | salmon:wrapper:21 - 
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D172D7F0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000192AE44ACA0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 10, 'read': 10, 'write': 10, 'pool': 10}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x00000192AE44AD30>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x00000192AE40AF70>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x00000192D172D730>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x00000192AE3F5EF0>
                 └ <httpcore._backends.auto.AutoBackend object at 0x00000192D172D730>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D196B300>
    │    │   │     │     └ TimeoutError()
    │    │   │     └ <class 'asyncio.exceptions.TimeoutError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D1894660>
    └ <contextlib._GeneratorContextManager object at 0x00000192D174F6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectTimeout'>

httpcore.ConnectTimeout


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000192AE6688B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000192AE29DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000192ABA68AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000192D09818B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000192AE2A50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000192D07FE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000192D08234C0>
    └ <uvicorn.main.Server object at 0x00000192D15E38E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000192D0823550>
    │    │                  └ <uvicorn.main.Server object at 0x00000192D15E38E0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000192AE169700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000192AE169670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000192AE16B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000192AE109310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D172D6D0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000192D172D6D0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000192D172D6D0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D172D6D0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=官漫更新 name=update_seeker)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=官漫更新 name=update_seeker)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=官漫更新 name=update_seeker)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function update_seeker at 0x00000192D1327280>

  File "C:\bot\SalmonBot\salmon\modules\priconne\comic.py", line 108, in update_seeker
    resp = await aiohttpx.get(index_api, timeout=10)
                 │        │   └ 'https://comic.priconne-redive.jp/api/index'
                 │        └ <function get at 0x00000192D09BBB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {'timeout': 10}
                 │      │   │     └ ()
                 │      │   └ 'https://comic.priconne-redive.jp/api/index'
                 │      └ <function AsyncClient.get at 0x00000192AE64C3A0>
                 └ <httpx.AsyncClient object at 0x00000192D172F6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000192AE64C0D0>
                 └ <httpx.AsyncClient object at 0x00000192D172F6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000192AE64C160>
                     └ <httpx.AsyncClient object at 0x00000192D172F6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000192AE64C1F0>
                     └ <httpx.AsyncClient object at 0x00000192D172F6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000192AE64C280>
                     └ <httpx.AsyncClient object at 0x00000192D172F6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=10)
                     │    │                    └ <Request('GET', 'https://comic.priconne-redive.jp/api/index')>
                     │    └ <function AsyncClient._send_single_request at 0x00000192AE64C310>
                     └ <httpx.AsyncClient object at 0x00000192D172F6A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D172D7F0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D196B140>
    │    │   │     │     └ ConnectTimeout(TimeoutError())
    │    │   │     └ <class 'httpcore.ConnectTimeout'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D195DCF0>
    └ <contextlib._GeneratorContextManager object at 0x00000192D1729CA0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'https://comic.priconne-redive.jp/api/index')>}
          │          └ ''
          └ <class 'httpx.ConnectTimeout'>

httpx.ConnectTimeout
2021-04-12 00:15:09.774 | ERROR    | salmon:wrapper:20 - <class 'httpx.RemoteProtocolError'> occured when doing scheduled job pcr_news_poller.
2021-04-12 00:15:09.775 | ERROR    | salmon:wrapper:21 - can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D19D73A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000192AE44ACA0>
                     └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 106, in arequest
    return await self.connection.arequest(method, url, headers, stream, ext)
                 │    │          │        │       │    │        │       └ {'timeout': {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}}
                 │    │          │        │       │    │        └ <httpx._content.PlainByteStream object at 0x00000192D19D7550>
                 │    │          │        │       │    └ [(b'Host', b'www.princessconnect.so-net.tw'), (b'Accept', b'*/*'), (b'Accept-Encoding', b'gzip, deflate'), (b'Connection', b'...
                 │    │          │        │       └ (b'http', b'www.princessconnect.so-net.tw', None, b'/news/')
                 │    │          │        └ b'GET'
                 │    │          └ <function AsyncHTTP11Connection.arequest at 0x00000192AE44A430>
                 │    └ <AsyncHTTP11Connection state=2>
                 └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 72, in arequest
    ) = await self._receive_response(timeout)
              │    │                 └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
              │    └ <function AsyncHTTP11Connection._receive_response at 0x00000192AE44A700>
              └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 133, in _receive_response
    event = await self._receive_event(timeout)
                  │    │              └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
                  │    └ <function AsyncHTTP11Connection._receive_event at 0x00000192AE44A820>
                  └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 169, in _receive_event
    event = self.h11_state.next_event()
            │    │         └ <function Connection.next_event at 0x00000192AE4443A0>
            │    └ <h11._connection.Connection object at 0x00000192D19D7D90>
            └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D1968E80>
    │    │   │     │     └ RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE")
    │    │   │     └ <class 'h11._util.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D1894A50>
    └ <contextlib._GeneratorContextManager object at 0x00000192D19D7EE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.RemoteProtocolError'>

httpcore.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000192AE6688B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000192AE29DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000192ABA68AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000192D09818B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000192AE2A50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000192D07FE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000192D08234C0>
    └ <uvicorn.main.Server object at 0x00000192D15E38E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000192D0823550>
    │    │                  └ <uvicorn.main.Server object at 0x00000192D15E38E0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000192AE169700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000192AE169670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000192AE16B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000192AE109310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D19D7AF0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000192D19D7AF0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000192D19D7AF0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D19D7AF0>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x00000192D14FD1F0>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 98, in pcr_news_poller
    await news_poller(SonetSpider, svtw, '台服官网')
          │           │            └ <salmon.service.Service object at 0x00000192D130A220>
          │           └ <class 'news.SonetSpider'>
          └ <function news_poller at 0x00000192D135A430>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 88, in news_poller
    news = await spider.get_update()
                 │      └ <classmethod object at 0x00000192D1301070>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x00000192D103F700>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │        │   └ <class 'news.SonetSpider'>
                 │        └ <function get at 0x00000192D09BBB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │      └ <function AsyncClient.get at 0x00000192AE64C3A0>
                 └ <httpx.AsyncClient object at 0x00000192D174FA00>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000192AE64C0D0>
                 └ <httpx.AsyncClient object at 0x00000192D174FA00>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000192AE64C160>
                     └ <httpx.AsyncClient object at 0x00000192D174FA00>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000192AE64C1F0>
                     └ <httpx.AsyncClient object at 0x00000192D174FA00>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000192AE64C280>
                     └ <httpx.AsyncClient object at 0x00000192D174FA00>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>
                     │    └ <function AsyncClient._send_single_request at 0x00000192AE64C310>
                     └ <httpx.AsyncClient object at 0x00000192D174FA00>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D19D73A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D1976100>
    │    │   │     │     └ RemoteProtocolError(RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"))
    │    │   │     └ <class 'httpcore.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D1894820>
    └ <contextlib._GeneratorContextManager object at 0x00000192D19D7580>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>}
          │          └ "can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"
          └ <class 'httpx.RemoteProtocolError'>

httpx.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
2021-04-12 00:15:28.053 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectError'> occured when doing scheduled job update_seeker.
2021-04-12 00:15:28.054 | ERROR    | salmon:wrapper:21 - [SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D196C520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000192AE44ACA0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 10, 'read': 10, 'write': 10, 'pool': 10}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x00000192AE44AD30>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x00000192AE40AF70>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x00000192D196C580>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x00000192AE3F5EF0>
                 └ <httpcore._backends.auto.AutoBackend object at 0x00000192D196C580>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D19F3540>
    │    │   │     │     └ SSLError(1, '[SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)')
    │    │   │     └ <class 'ssl.SSLError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D198BA50>
    └ <contextlib._GeneratorContextManager object at 0x00000192D196CC70>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectError'>

httpcore.ConnectError: [SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000192AE6688B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000192AE29DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000192ABA68AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000192D09818B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000192AE2A50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000192D07FE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000192D08234C0>
    └ <uvicorn.main.Server object at 0x00000192D15E38E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000192D0823550>
    │    │                  └ <uvicorn.main.Server object at 0x00000192D15E38E0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000192AE169700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000192AE169670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000192AE16B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000192AE109310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D196CD00>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000192D196CD00>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000192D196CD00>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D196CD00>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=官漫更新 name=update_seeker)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=官漫更新 name=update_seeker)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=官漫更新 name=update_seeker)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function update_seeker at 0x00000192D1327280>

  File "C:\bot\SalmonBot\salmon\modules\priconne\comic.py", line 108, in update_seeker
    resp = await aiohttpx.get(index_api, timeout=10)
                 │        │   └ 'https://comic.priconne-redive.jp/api/index'
                 │        └ <function get at 0x00000192D09BBB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {'timeout': 10}
                 │      │   │     └ ()
                 │      │   └ 'https://comic.priconne-redive.jp/api/index'
                 │      └ <function AsyncClient.get at 0x00000192AE64C3A0>
                 └ <httpx.AsyncClient object at 0x00000192D18AC0A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000192AE64C0D0>
                 └ <httpx.AsyncClient object at 0x00000192D18AC0A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000192AE64C160>
                     └ <httpx.AsyncClient object at 0x00000192D18AC0A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000192AE64C1F0>
                     └ <httpx.AsyncClient object at 0x00000192D18AC0A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000192AE64C280>
                     └ <httpx.AsyncClient object at 0x00000192D18AC0A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=10)
                     │    │                    └ <Request('GET', 'https://comic.priconne-redive.jp/api/index')>
                     │    └ <function AsyncClient._send_single_request at 0x00000192AE64C310>
                     └ <httpx.AsyncClient object at 0x00000192D18AC0A0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D196C520>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D1976380>
    │    │   │     │     └ ConnectError(SSLError(1, '[SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)'))
    │    │   │     └ <class 'httpcore.ConnectError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D198BBA0>
    └ <contextlib._GeneratorContextManager object at 0x00000192D196C7C0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'https://comic.priconne-redive.jp/api/index')>}
          │          └ '[SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)'
          └ <class 'httpx.ConnectError'>

httpx.ConnectError: [SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)
2021-04-12 00:20:08.774 | ERROR    | salmon:wrapper:20 - <class 'httpx.RemoteProtocolError'> occured when doing scheduled job pcr_news_poller.
2021-04-12 00:20:08.775 | ERROR    | salmon:wrapper:21 - can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D19D7DC0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000192AE44ACA0>
                     └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 106, in arequest
    return await self.connection.arequest(method, url, headers, stream, ext)
                 │    │          │        │       │    │        │       └ {'timeout': {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}}
                 │    │          │        │       │    │        └ <httpx._content.PlainByteStream object at 0x00000192D19D7A60>
                 │    │          │        │       │    └ [(b'Host', b'www.princessconnect.so-net.tw'), (b'Accept', b'*/*'), (b'Accept-Encoding', b'gzip, deflate'), (b'Connection', b'...
                 │    │          │        │       └ (b'http', b'www.princessconnect.so-net.tw', None, b'/news/')
                 │    │          │        └ b'GET'
                 │    │          └ <function AsyncHTTP11Connection.arequest at 0x00000192AE44A430>
                 │    └ <AsyncHTTP11Connection state=2>
                 └ <AsyncHTTPConnection http_version=HTTP/1.1 state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 72, in arequest
    ) = await self._receive_response(timeout)
              │    │                 └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
              │    └ <function AsyncHTTP11Connection._receive_response at 0x00000192AE44A700>
              └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 133, in _receive_response
    event = await self._receive_event(timeout)
                  │    │              └ {'connect': 5.0, 'read': 5.0, 'write': 5.0, 'pool': 5.0}
                  │    └ <function AsyncHTTP11Connection._receive_event at 0x00000192AE44A820>
                  └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\http11.py", line 169, in _receive_event
    event = self.h11_state.next_event()
            │    │         └ <function Connection.next_event at 0x00000192AE4443A0>
            │    └ <h11._connection.Connection object at 0x00000192D1836AF0>
            └ <AsyncHTTP11Connection state=2>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D1A23200>
    │    │   │     │     └ RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE")
    │    │   │     └ <class 'h11._util.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D19F5040>
    └ <contextlib._GeneratorContextManager object at 0x00000192D196CEE0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.RemoteProtocolError'>

httpcore.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000192AE6688B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000192AE29DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000192ABA68AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000192D09818B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000192AE2A50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000192D07FE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000192D08234C0>
    └ <uvicorn.main.Server object at 0x00000192D15E38E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000192D0823550>
    │    │                  └ <uvicorn.main.Server object at 0x00000192D15E38E0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000192AE169700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000192AE169670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000192AE16B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000192AE109310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D196CF70>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000192D196CF70>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000192D196CF70>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D196CF70>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=新闻动态 name=pcr_news_poller)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=新闻动态 name=pcr_news_poller)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function pcr_news_poller at 0x00000192D14FD1F0>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 98, in pcr_news_poller
    await news_poller(SonetSpider, svtw, '台服官网')
          │           │            └ <salmon.service.Service object at 0x00000192D130A220>
          │           └ <class 'news.SonetSpider'>
          └ <function news_poller at 0x00000192D135A430>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 88, in news_poller
    news = await spider.get_update()
                 │      └ <classmethod object at 0x00000192D1301070>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 39, in get_update
    resp = await cls.get_response()
                 │   └ <classmethod object at 0x00000192D103F700>
                 └ <class 'news.SonetSpider'>

  File "C:\bot\SalmonBot\salmon\modules\priconne\news.py", line 28, in get_response
    resp = await aiohttpx.get(cls.url)
                 │        │   │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │        │   └ <class 'news.SonetSpider'>
                 │        └ <function get at 0x00000192D09BBB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {}
                 │      │   │     └ ()
                 │      │   └ 'http://www.princessconnect.so-net.tw/news/'
                 │      └ <function AsyncClient.get at 0x00000192AE64C3A0>
                 └ <httpx.AsyncClient object at 0x00000192D19D7610>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000192AE64C0D0>
                 └ <httpx.AsyncClient object at 0x00000192D19D7610>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000192AE64C160>
                     └ <httpx.AsyncClient object at 0x00000192D19D7610>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000192AE64C1F0>
                     └ <httpx.AsyncClient object at 0x00000192D19D7610>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000192AE64C280>
                     └ <httpx.AsyncClient object at 0x00000192D19D7610>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=5.0)
                     │    │                    └ <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>
                     │    └ <function AsyncClient._send_single_request at 0x00000192AE64C310>
                     └ <httpx.AsyncClient object at 0x00000192D19D7610>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D19D7DC0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D1A23440>
    │    │   │     │     └ RemoteProtocolError(RemoteProtocolError("can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"))
    │    │   │     └ <class 'httpcore.RemoteProtocolError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D1A1EF90>
    └ <contextlib._GeneratorContextManager object at 0x00000192D19D79D0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'http://www.princessconnect.so-net.tw/news/')>}
          │          └ "can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE"
          └ <class 'httpx.RemoteProtocolError'>

httpx.RemoteProtocolError: can't handle event type ConnectionClosed when role=SERVER and state=SEND_RESPONSE
2021-04-12 00:20:25.046 | ERROR    | salmon:wrapper:20 - <class 'httpx.ConnectError'> occured when doing scheduled job update_seeker.
2021-04-12 00:20:25.047 | ERROR    | salmon:wrapper:21 - [SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)
Traceback (most recent call last):

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 326, in map_exceptions
    yield

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D1A22580>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection_pool.py", line 218, in arequest
    response = await connection.arequest(
                     │          └ <function AsyncHTTPConnection.arequest at 0x00000192AE44ACA0>
                     └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 93, in arequest
    self.socket = await self._open_socket(timeout)
    │    │              │    │            └ {'connect': 10, 'read': 10, 'write': 10, 'pool': 10}
    │    │              │    └ <function AsyncHTTPConnection._open_socket at 0x00000192AE44AD30>
    │    │              └ <AsyncHTTPConnection http_version=UNKNOWN state=5>
    │    └ None
    └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_async\connection.py", line 119, in _open_socket
    return await self.backend.open_tcp_stream(
                 │    │       └ <function AutoBackend.open_tcp_stream at 0x00000192AE40AF70>
                 │    └ <httpcore._backends.auto.AutoBackend object at 0x00000192D1A225E0>
                 └ <AsyncHTTPConnection http_version=UNKNOWN state=5>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\auto.py", line 44, in open_tcp_stream
    return await self.backend.open_tcp_stream(
                 │    └ <property object at 0x00000192AE3F5EF0>
                 └ <httpcore._backends.auto.AutoBackend object at 0x00000192D1A225E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_backends\asyncio.py", line 270, in open_tcp_stream
    return SocketStream(
           └ <class 'httpcore._backends.asyncio.SocketStream'>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D1A467C0>
    │    │   │     │     └ SSLError(1, '[SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)')
    │    │   │     └ <class 'ssl.SSLError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D1A45120>
    └ <contextlib._GeneratorContextManager object at 0x00000192D1A22CD0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpcore\_exceptions.py", line 12, in map_exceptions
    raise to_exc(exc) from None
          └ <class 'httpcore.ConnectError'>

httpcore.ConnectError: [SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\bot\SalmonBot\run.py", line 8, in <module>
    salmon.run('run:app')
    │      └ <function run at 0x00000192AE6688B0>
    └ <module 'salmon' from 'C:\\bot\\SalmonBot\\salmon\\__init__.py'>

  File "C:\bot\SalmonBot\salmon\__init__.py", line 30, in run
    nonebot.run(app=app)
    │       │       └ 'run:app'
    │       └ <function run at 0x00000192AE29DA60>
    └ <module 'nonebot' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\nonebot\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\__init__.py", line 219, in run
    get_driver().run(host, port, *args, **kwargs)
    │                │     │      │       └ {'app': 'run:app'}
    │                │     │      └ ()
    │                │     └ None
    │                └ None
    └ <function get_driver at 0x00000192ABA68AF0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\nonebot\drivers\fastapi.py", line 160, in run
    uvicorn.run(app or self.server_app,
    │       │   │      │    └ <property object at 0x00000192D09818B0>
    │       │   │      └ <nonebot.drivers.fastapi.Driver object at 0x00000192AE2A50A0>
    │       │   └ 'run:app'
    │       └ <function run at 0x00000192D07FE790>
    └ <module 'uvicorn' from 'C:\\Users\\WatanabeAsa\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\uvicorn\\__in...

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 362, in run
    server.run()
    │      └ <function Server.run at 0x00000192D08234C0>
    └ <uvicorn.main.Server object at 0x00000192D15E38E0>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\uvicorn\main.py", line 390, in run
    loop.run_until_complete(self.serve(sockets=sockets))
    │    │                  │    │             └ None
    │    │                  │    └ <function Server.serve at 0x00000192D0823550>
    │    │                  └ <uvicorn.main.Server object at 0x00000192D15E38E0>
    │    └ <function BaseEventLoop.run_until_complete at 0x00000192AE169700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000192AE169670>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000192AE16B1F0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000192AE109310>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D1A22D60>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x00000192D1A22D60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x00000192D1A22D60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x00000192D1A22D60>(<Future finished result=None>)>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=官漫更新 name=update_seeker)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=官漫更新 name=update_seeker)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=官漫更新 name=update_seeker)>

> File "C:\bot\SalmonBot\salmon\scheduler.py", line 16, in wrapper
    ret = await func()
                └ <function update_seeker at 0x00000192D1327280>

  File "C:\bot\SalmonBot\salmon\modules\priconne\comic.py", line 108, in update_seeker
    resp = await aiohttpx.get(index_api, timeout=10)
                 │        │   └ 'https://comic.priconne-redive.jp/api/index'
                 │        └ <function get at 0x00000192D09BBB80>
                 └ <module 'salmon.aiohttpx' from 'C:\\bot\\SalmonBot\\salmon\\aiohttpx.py'>

  File "C:\bot\SalmonBot\salmon\aiohttpx.py", line 8, in get
    resp = await client.get(url, *args, **kwargs)
                 │      │   │     │       └ {'timeout': 10}
                 │      │   │     └ ()
                 │      │   └ 'https://comic.priconne-redive.jp/api/index'
                 │      └ <function AsyncClient.get at 0x00000192AE64C3A0>
                 └ <httpx.AsyncClient object at 0x00000192D19D7700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1548, in get
    return await self.request(
                 │    └ <function AsyncClient.request at 0x00000192AE64C0D0>
                 └ <httpx.AsyncClient object at 0x00000192D19D7700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1371, in request
    response = await self.send(
                     │    └ <function AsyncClient.send at 0x00000192AE64C160>
                     └ <httpx.AsyncClient object at 0x00000192D19D7700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1406, in send
    response = await self._send_handling_auth(
                     │    └ <function AsyncClient._send_handling_auth at 0x00000192AE64C1F0>
                     └ <httpx.AsyncClient object at 0x00000192D19D7700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1444, in _send_handling_auth
    response = await self._send_handling_redirects(
                     │    └ <function AsyncClient._send_handling_redirects at 0x00000192AE64C280>
                     └ <httpx.AsyncClient object at 0x00000192D19D7700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1476, in _send_handling_redirects
    response = await self._send_single_request(request, timeout)
                     │    │                    │        └ Timeout(timeout=10)
                     │    │                    └ <Request('GET', 'https://comic.priconne-redive.jp/api/index')>
                     │    └ <function AsyncClient._send_single_request at 0x00000192AE64C310>
                     └ <httpx.AsyncClient object at 0x00000192D19D7700>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_client.py", line 1502, in _send_single_request
    (status_code, headers, stream, ext,) = await transport.arequest(
                                                 │         └ <function AsyncConnectionPool.arequest at 0x00000192AE44E700>
                                                 └ <httpcore.AsyncConnectionPool object at 0x00000192D1A22580>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
    │    │   │     │     │      └ <traceback object at 0x00000192D1A46AC0>
    │    │   │     │     └ ConnectError(SSLError(1, '[SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)'))
    │    │   │     └ <class 'httpcore.ConnectError'>
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object map_exceptions at 0x00000192D198BDD0>
    └ <contextlib._GeneratorContextManager object at 0x00000192D1A22820>

  File "C:\Users\WatanabeAsa\AppData\Local\Programs\Python\Python39\lib\site-packages\httpx\_exceptions.py", line 343, in map_exceptions
    raise mapped_exc(message, **kwargs) from exc  # type: ignore
          │          │          └ {'request': <Request('GET', 'https://comic.priconne-redive.jp/api/index')>}
          │          └ '[SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)'
          └ <class 'httpx.ConnectError'>

httpx.ConnectError: [SSL: UNSUPPORTED_PROTOCOL] unsupported protocol (_ssl.c:1123)
